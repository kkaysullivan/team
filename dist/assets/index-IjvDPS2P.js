var RE=Object.defineProperty;var DE=(e,t,r)=>t in e?RE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var ur=(e,t,r)=>DE(e,typeof t!="symbol"?t+"":t,r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Cr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ME(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function BE(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var Qw={exports:{}},Vp={},e4={exports:{}},Kt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kh=Symbol.for("react.element"),UE=Symbol.for("react.portal"),qE=Symbol.for("react.fragment"),$E=Symbol.for("react.strict_mode"),zE=Symbol.for("react.profiler"),HE=Symbol.for("react.provider"),WE=Symbol.for("react.context"),VE=Symbol.for("react.forward_ref"),GE=Symbol.for("react.suspense"),KE=Symbol.for("react.memo"),YE=Symbol.for("react.lazy"),Fy=Symbol.iterator;function XE(e){return e===null||typeof e!="object"?null:(e=Fy&&e[Fy]||e["@@iterator"],typeof e=="function"?e:null)}var t4={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},r4=Object.assign,n4={};function Lu(e,t,r){this.props=e,this.context=t,this.refs=n4,this.updater=r||t4}Lu.prototype.isReactComponent={};Lu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Lu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function i4(){}i4.prototype=Lu.prototype;function f2(e,t,r){this.props=e,this.context=t,this.refs=n4,this.updater=r||t4}var h2=f2.prototype=new i4;h2.constructor=f2;r4(h2,Lu.prototype);h2.isPureReactComponent=!0;var Iy=Array.isArray,a4=Object.prototype.hasOwnProperty,d2={current:null},s4={key:!0,ref:!0,__self:!0,__source:!0};function o4(e,t,r){var n,i={},a=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(a=""+t.key),t)a4.call(t,n)&&!s4.hasOwnProperty(n)&&(i[n]=t[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:Kh,type:e,key:a,ref:s,props:i,_owner:d2.current}}function ZE(e,t){return{$$typeof:Kh,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function p2(e){return typeof e=="object"&&e!==null&&e.$$typeof===Kh}function JE(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Ry=/\/+/g;function hm(e,t){return typeof e=="object"&&e!==null&&e.key!=null?JE(""+e.key):t.toString(36)}function A0(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Kh:case UE:s=!0}}if(s)return s=e,i=i(s),e=n===""?"."+hm(s,0):n,Iy(i)?(r="",e!=null&&(r=e.replace(Ry,"$&/")+"/"),A0(i,t,r,"",function(c){return c})):i!=null&&(p2(i)&&(i=ZE(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Ry,"$&/")+"/")+e)),t.push(i)),1;if(s=0,n=n===""?".":n+":",Iy(e))for(var o=0;o<e.length;o++){a=e[o];var l=n+hm(a,o);s+=A0(a,t,r,l,i)}else if(l=XE(e),typeof l=="function")for(e=l.call(e),o=0;!(a=e.next()).done;)a=a.value,l=n+hm(a,o++),s+=A0(a,t,r,l,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function qd(e,t,r){if(e==null)return e;var n=[],i=0;return A0(e,n,"","",function(a){return t.call(r,a,i++)}),n}function QE(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var xi={current:null},T0={transition:null},eA={ReactCurrentDispatcher:xi,ReactCurrentBatchConfig:T0,ReactCurrentOwner:d2};function l4(){throw Error("act(...) is not supported in production builds of React.")}Kt.Children={map:qd,forEach:function(e,t,r){qd(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return qd(e,function(){t++}),t},toArray:function(e){return qd(e,function(t){return t})||[]},only:function(e){if(!p2(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Kt.Component=Lu;Kt.Fragment=qE;Kt.Profiler=zE;Kt.PureComponent=f2;Kt.StrictMode=$E;Kt.Suspense=GE;Kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eA;Kt.act=l4;Kt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=r4({},e.props),i=e.key,a=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,s=d2.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)a4.call(t,l)&&!s4.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:Kh,type:e.type,key:i,ref:a,props:n,_owner:s}};Kt.createContext=function(e){return e={$$typeof:WE,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:HE,_context:e},e.Consumer=e};Kt.createElement=o4;Kt.createFactory=function(e){var t=o4.bind(null,e);return t.type=e,t};Kt.createRef=function(){return{current:null}};Kt.forwardRef=function(e){return{$$typeof:VE,render:e}};Kt.isValidElement=p2;Kt.lazy=function(e){return{$$typeof:YE,_payload:{_status:-1,_result:e},_init:QE}};Kt.memo=function(e,t){return{$$typeof:KE,type:e,compare:t===void 0?null:t}};Kt.startTransition=function(e){var t=T0.transition;T0.transition={};try{e()}finally{T0.transition=t}};Kt.unstable_act=l4;Kt.useCallback=function(e,t){return xi.current.useCallback(e,t)};Kt.useContext=function(e){return xi.current.useContext(e)};Kt.useDebugValue=function(){};Kt.useDeferredValue=function(e){return xi.current.useDeferredValue(e)};Kt.useEffect=function(e,t){return xi.current.useEffect(e,t)};Kt.useId=function(){return xi.current.useId()};Kt.useImperativeHandle=function(e,t,r){return xi.current.useImperativeHandle(e,t,r)};Kt.useInsertionEffect=function(e,t){return xi.current.useInsertionEffect(e,t)};Kt.useLayoutEffect=function(e,t){return xi.current.useLayoutEffect(e,t)};Kt.useMemo=function(e,t){return xi.current.useMemo(e,t)};Kt.useReducer=function(e,t,r){return xi.current.useReducer(e,t,r)};Kt.useRef=function(e){return xi.current.useRef(e)};Kt.useState=function(e){return xi.current.useState(e)};Kt.useSyncExternalStore=function(e,t,r){return xi.current.useSyncExternalStore(e,t,r)};Kt.useTransition=function(){return xi.current.useTransition()};Kt.version="18.3.1";e4.exports=Kt;var ye=e4.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tA=ye,rA=Symbol.for("react.element"),nA=Symbol.for("react.fragment"),iA=Object.prototype.hasOwnProperty,aA=tA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,sA={key:!0,ref:!0,__self:!0,__source:!0};function c4(e,t,r){var n,i={},a=null,s=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)iA.call(t,n)&&!sA.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:rA,type:e,key:a,ref:s,props:i,_owner:aA.current}}Vp.Fragment=nA;Vp.jsx=c4;Vp.jsxs=c4;Qw.exports=Vp;var f=Qw.exports,u4={exports:{}},ta={},f4={exports:{}},h4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(ie,K){var W=ie.length;ie.push(K);e:for(;0<W;){var q=W-1>>>1,k=ie[q];if(0<i(k,K))ie[q]=K,ie[W]=k,W=q;else break e}}function r(ie){return ie.length===0?null:ie[0]}function n(ie){if(ie.length===0)return null;var K=ie[0],W=ie.pop();if(W!==K){ie[0]=W;e:for(var q=0,k=ie.length,I=k>>>1;q<I;){var M=2*(q+1)-1,U=ie[M],R=M+1,G=ie[R];if(0>i(U,W))R<k&&0>i(G,U)?(ie[q]=G,ie[R]=W,q=R):(ie[q]=U,ie[M]=W,q=M);else if(R<k&&0>i(G,W))ie[q]=G,ie[R]=W,q=R;else break e}}return K}function i(ie,K){var W=ie.sortIndex-K.sortIndex;return W!==0?W:ie.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],c=[],u=1,d=null,p=3,h=!1,y=!1,m=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(ie){for(var K=r(c);K!==null;){if(K.callback===null)n(c);else if(K.startTime<=ie)n(c),K.sortIndex=K.expirationTime,t(l,K);else break;K=r(c)}}function _(ie){if(m=!1,b(ie),!y)if(r(l)!==null)y=!0,Q(E);else{var K=r(c);K!==null&&ne(_,K.startTime-ie)}}function E(ie,K){y=!1,m&&(m=!1,g(O),O=-1),h=!0;var W=p;try{for(b(K),d=r(l);d!==null&&(!(d.expirationTime>K)||ie&&!N());){var q=d.callback;if(typeof q=="function"){d.callback=null,p=d.priorityLevel;var k=q(d.expirationTime<=K);K=e.unstable_now(),typeof k=="function"?d.callback=k:d===r(l)&&n(l),b(K)}else n(l);d=r(l)}if(d!==null)var I=!0;else{var M=r(c);M!==null&&ne(_,M.startTime-K),I=!1}return I}finally{d=null,p=W,h=!1}}var F=!1,A=null,O=-1,C=5,L=-1;function N(){return!(e.unstable_now()-L<C)}function j(){if(A!==null){var ie=e.unstable_now();L=ie;var K=!0;try{K=A(!0,ie)}finally{K?T():(F=!1,A=null)}}else F=!1}var T;if(typeof v=="function")T=function(){v(j)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,z=B.port2;B.port1.onmessage=j,T=function(){z.postMessage(null)}}else T=function(){x(j,0)};function Q(ie){A=ie,F||(F=!0,T())}function ne(ie,K){O=x(function(){ie(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ie){ie.callback=null},e.unstable_continueExecution=function(){y||h||(y=!0,Q(E))},e.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<ie?Math.floor(1e3/ie):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(ie){switch(p){case 1:case 2:case 3:var K=3;break;default:K=p}var W=p;p=K;try{return ie()}finally{p=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ie,K){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var W=p;p=ie;try{return K()}finally{p=W}},e.unstable_scheduleCallback=function(ie,K,W){var q=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?q+W:q):W=q,ie){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=W+k,ie={id:u++,callback:K,priorityLevel:ie,startTime:W,expirationTime:k,sortIndex:-1},W>q?(ie.sortIndex=W,t(c,ie),r(l)===null&&ie===r(c)&&(m?(g(O),O=-1):m=!0,ne(_,W-q))):(ie.sortIndex=k,t(l,ie),y||h||(y=!0,Q(E))),ie},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(ie){var K=p;return function(){var W=p;p=K;try{return ie.apply(this,arguments)}finally{p=W}}}})(h4);f4.exports=h4;var oA=f4.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lA=ye,Qi=oA;function nt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d4=new Set,dh={};function ic(e,t){xu(e,t),xu(e+"Capture",t)}function xu(e,t){for(dh[e]=t,e=0;e<t.length;e++)d4.add(t[e])}var Zs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pg=Object.prototype.hasOwnProperty,cA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Dy={},My={};function uA(e){return Pg.call(My,e)?!0:Pg.call(Dy,e)?!1:cA.test(e)?My[e]=!0:(Dy[e]=!0,!1)}function fA(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function hA(e,t,r,n){if(t===null||typeof t>"u"||fA(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function yi(e,t,r,n,i,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var Vn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Vn[e]=new yi(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Vn[t]=new yi(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Vn[e]=new yi(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Vn[e]=new yi(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Vn[e]=new yi(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Vn[e]=new yi(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Vn[e]=new yi(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Vn[e]=new yi(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Vn[e]=new yi(e,5,!1,e.toLowerCase(),null,!1,!1)});var m2=/[\-:]([a-z])/g;function g2(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(m2,g2);Vn[t]=new yi(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(m2,g2);Vn[t]=new yi(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(m2,g2);Vn[t]=new yi(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Vn[e]=new yi(e,1,!1,e.toLowerCase(),null,!1,!1)});Vn.xlinkHref=new yi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Vn[e]=new yi(e,1,!1,e.toLowerCase(),null,!0,!0)});function v2(e,t,r,n){var i=Vn.hasOwnProperty(t)?Vn[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(hA(t,r,i,n)&&(r=null),n||i===null?uA(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var no=lA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$d=Symbol.for("react.element"),$c=Symbol.for("react.portal"),zc=Symbol.for("react.fragment"),x2=Symbol.for("react.strict_mode"),Fg=Symbol.for("react.profiler"),p4=Symbol.for("react.provider"),m4=Symbol.for("react.context"),y2=Symbol.for("react.forward_ref"),Ig=Symbol.for("react.suspense"),Rg=Symbol.for("react.suspense_list"),_2=Symbol.for("react.memo"),Oo=Symbol.for("react.lazy"),g4=Symbol.for("react.offscreen"),By=Symbol.iterator;function wf(e){return e===null||typeof e!="object"?null:(e=By&&e[By]||e["@@iterator"],typeof e=="function"?e:null)}var Ur=Object.assign,dm;function Df(e){if(dm===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);dm=t&&t[1]||""}return`
`+dm+e}var pm=!1;function mm(e,t){if(!e||pm)return"";pm=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=n.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=o);break}}}finally{pm=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Df(e):""}function dA(e){switch(e.tag){case 5:return Df(e.type);case 16:return Df("Lazy");case 13:return Df("Suspense");case 19:return Df("SuspenseList");case 0:case 2:case 15:return e=mm(e.type,!1),e;case 11:return e=mm(e.type.render,!1),e;case 1:return e=mm(e.type,!0),e;default:return""}}function Dg(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case zc:return"Fragment";case $c:return"Portal";case Fg:return"Profiler";case x2:return"StrictMode";case Ig:return"Suspense";case Rg:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case m4:return(e.displayName||"Context")+".Consumer";case p4:return(e._context.displayName||"Context")+".Provider";case y2:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case _2:return t=e.displayName||null,t!==null?t:Dg(e.type)||"Memo";case Oo:t=e._payload,e=e._init;try{return Dg(e(t))}catch{}}return null}function pA(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Dg(t);case 8:return t===x2?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function tl(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function v4(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function mA(e){var t=v4(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function zd(e){e._valueTracker||(e._valueTracker=mA(e))}function x4(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=v4(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function K0(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Mg(e,t){var r=t.checked;return Ur({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Uy(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=tl(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function y4(e,t){t=t.checked,t!=null&&v2(e,"checked",t,!1)}function Bg(e,t){y4(e,t);var r=tl(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ug(e,t.type,r):t.hasOwnProperty("defaultValue")&&Ug(e,t.type,tl(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function qy(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Ug(e,t,r){(t!=="number"||K0(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Mf=Array.isArray;function ru(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+tl(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function qg(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(nt(91));return Ur({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function $y(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(nt(92));if(Mf(r)){if(1<r.length)throw Error(nt(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:tl(r)}}function _4(e,t){var r=tl(t.value),n=tl(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function zy(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function b4(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $g(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?b4(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Hd,w4=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Hd=Hd||document.createElement("div"),Hd.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Hd.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ph(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Wf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gA=["Webkit","ms","Moz","O"];Object.keys(Wf).forEach(function(e){gA.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Wf[t]=Wf[e]})});function N4(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Wf.hasOwnProperty(e)&&Wf[e]?(""+t).trim():t+"px"}function S4(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=N4(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var vA=Ur({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zg(e,t){if(t){if(vA[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(nt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(nt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(nt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(nt(62))}}function Hg(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wg=null;function b2(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Vg=null,nu=null,iu=null;function Hy(e){if(e=Zh(e)){if(typeof Vg!="function")throw Error(nt(280));var t=e.stateNode;t&&(t=Zp(t),Vg(e.stateNode,e.type,t))}}function k4(e){nu?iu?iu.push(e):iu=[e]:nu=e}function E4(){if(nu){var e=nu,t=iu;if(iu=nu=null,Hy(e),t)for(e=0;e<t.length;e++)Hy(t[e])}}function A4(e,t){return e(t)}function T4(){}var gm=!1;function j4(e,t,r){if(gm)return e(t,r);gm=!0;try{return A4(e,t,r)}finally{gm=!1,(nu!==null||iu!==null)&&(T4(),E4())}}function mh(e,t){var r=e.stateNode;if(r===null)return null;var n=Zp(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(nt(231,t,typeof r));return r}var Gg=!1;if(Zs)try{var Nf={};Object.defineProperty(Nf,"passive",{get:function(){Gg=!0}}),window.addEventListener("test",Nf,Nf),window.removeEventListener("test",Nf,Nf)}catch{Gg=!1}function xA(e,t,r,n,i,a,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(u){this.onError(u)}}var Vf=!1,Y0=null,X0=!1,Kg=null,yA={onError:function(e){Vf=!0,Y0=e}};function _A(e,t,r,n,i,a,s,o,l){Vf=!1,Y0=null,xA.apply(yA,arguments)}function bA(e,t,r,n,i,a,s,o,l){if(_A.apply(this,arguments),Vf){if(Vf){var c=Y0;Vf=!1,Y0=null}else throw Error(nt(198));X0||(X0=!0,Kg=c)}}function ac(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function O4(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Wy(e){if(ac(e)!==e)throw Error(nt(188))}function wA(e){var t=e.alternate;if(!t){if(t=ac(e),t===null)throw Error(nt(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return Wy(i),e;if(a===n)return Wy(i),t;a=a.sibling}throw Error(nt(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s)throw Error(nt(189))}}if(r.alternate!==n)throw Error(nt(190))}if(r.tag!==3)throw Error(nt(188));return r.stateNode.current===r?e:t}function C4(e){return e=wA(e),e!==null?L4(e):null}function L4(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=L4(e);if(t!==null)return t;e=e.sibling}return null}var P4=Qi.unstable_scheduleCallback,Vy=Qi.unstable_cancelCallback,NA=Qi.unstable_shouldYield,SA=Qi.unstable_requestPaint,Jr=Qi.unstable_now,kA=Qi.unstable_getCurrentPriorityLevel,w2=Qi.unstable_ImmediatePriority,F4=Qi.unstable_UserBlockingPriority,Z0=Qi.unstable_NormalPriority,EA=Qi.unstable_LowPriority,I4=Qi.unstable_IdlePriority,Gp=null,ps=null;function AA(e){if(ps&&typeof ps.onCommitFiberRoot=="function")try{ps.onCommitFiberRoot(Gp,e,void 0,(e.current.flags&128)===128)}catch{}}var qa=Math.clz32?Math.clz32:OA,TA=Math.log,jA=Math.LN2;function OA(e){return e>>>=0,e===0?32:31-(TA(e)/jA|0)|0}var Wd=64,Vd=4194304;function Bf(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function J0(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,s=r&268435455;if(s!==0){var o=s&~i;o!==0?n=Bf(o):(a&=s,a!==0&&(n=Bf(a)))}else s=r&~i,s!==0?n=Bf(s):a!==0&&(n=Bf(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-qa(t),i=1<<r,n|=e[r],t&=~i;return n}function CA(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function LA(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-qa(a),o=1<<s,l=i[s];l===-1?(!(o&r)||o&n)&&(i[s]=CA(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}function Yg(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function R4(){var e=Wd;return Wd<<=1,!(Wd&4194240)&&(Wd=64),e}function vm(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Yh(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-qa(t),e[t]=r}function PA(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-qa(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function N2(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-qa(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var mr=0;function D4(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var M4,S2,B4,U4,q4,Xg=!1,Gd=[],$o=null,zo=null,Ho=null,gh=new Map,vh=new Map,Lo=[],FA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gy(e,t){switch(e){case"focusin":case"focusout":$o=null;break;case"dragenter":case"dragleave":zo=null;break;case"mouseover":case"mouseout":Ho=null;break;case"pointerover":case"pointerout":gh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":vh.delete(t.pointerId)}}function Sf(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Zh(t),t!==null&&S2(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function IA(e,t,r,n,i){switch(t){case"focusin":return $o=Sf($o,e,t,r,n,i),!0;case"dragenter":return zo=Sf(zo,e,t,r,n,i),!0;case"mouseover":return Ho=Sf(Ho,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return gh.set(a,Sf(gh.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,vh.set(a,Sf(vh.get(a)||null,e,t,r,n,i)),!0}return!1}function $4(e){var t=Dl(e.target);if(t!==null){var r=ac(t);if(r!==null){if(t=r.tag,t===13){if(t=O4(r),t!==null){e.blockedOn=t,q4(e.priority,function(){B4(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function j0(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Zg(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Wg=n,r.target.dispatchEvent(n),Wg=null}else return t=Zh(r),t!==null&&S2(t),e.blockedOn=r,!1;t.shift()}return!0}function Ky(e,t,r){j0(e)&&r.delete(t)}function RA(){Xg=!1,$o!==null&&j0($o)&&($o=null),zo!==null&&j0(zo)&&(zo=null),Ho!==null&&j0(Ho)&&(Ho=null),gh.forEach(Ky),vh.forEach(Ky)}function kf(e,t){e.blockedOn===t&&(e.blockedOn=null,Xg||(Xg=!0,Qi.unstable_scheduleCallback(Qi.unstable_NormalPriority,RA)))}function xh(e){function t(i){return kf(i,e)}if(0<Gd.length){kf(Gd[0],e);for(var r=1;r<Gd.length;r++){var n=Gd[r];n.blockedOn===e&&(n.blockedOn=null)}}for($o!==null&&kf($o,e),zo!==null&&kf(zo,e),Ho!==null&&kf(Ho,e),gh.forEach(t),vh.forEach(t),r=0;r<Lo.length;r++)n=Lo[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Lo.length&&(r=Lo[0],r.blockedOn===null);)$4(r),r.blockedOn===null&&Lo.shift()}var au=no.ReactCurrentBatchConfig,Q0=!0;function DA(e,t,r,n){var i=mr,a=au.transition;au.transition=null;try{mr=1,k2(e,t,r,n)}finally{mr=i,au.transition=a}}function MA(e,t,r,n){var i=mr,a=au.transition;au.transition=null;try{mr=4,k2(e,t,r,n)}finally{mr=i,au.transition=a}}function k2(e,t,r,n){if(Q0){var i=Zg(e,t,r,n);if(i===null)Am(e,t,n,ep,r),Gy(e,n);else if(IA(i,e,t,r,n))n.stopPropagation();else if(Gy(e,n),t&4&&-1<FA.indexOf(e)){for(;i!==null;){var a=Zh(i);if(a!==null&&M4(a),a=Zg(e,t,r,n),a===null&&Am(e,t,n,ep,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else Am(e,t,n,null,r)}}var ep=null;function Zg(e,t,r,n){if(ep=null,e=b2(n),e=Dl(e),e!==null)if(t=ac(e),t===null)e=null;else if(r=t.tag,r===13){if(e=O4(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ep=e,null}function z4(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kA()){case w2:return 1;case F4:return 4;case Z0:case EA:return 16;case I4:return 536870912;default:return 16}default:return 16}}var Ro=null,E2=null,O0=null;function H4(){if(O0)return O0;var e,t=E2,r=t.length,n,i="value"in Ro?Ro.value:Ro.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===i[a-n];n++);return O0=i.slice(e,1<n?1-n:void 0)}function C0(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Kd(){return!0}function Yy(){return!1}function ra(e){function t(r,n,i,a,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Kd:Yy,this.isPropagationStopped=Yy,this}return Ur(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Kd)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Kd)},persist:function(){},isPersistent:Kd}),t}var Pu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},A2=ra(Pu),Xh=Ur({},Pu,{view:0,detail:0}),BA=ra(Xh),xm,ym,Ef,Kp=Ur({},Xh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:T2,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ef&&(Ef&&e.type==="mousemove"?(xm=e.screenX-Ef.screenX,ym=e.screenY-Ef.screenY):ym=xm=0,Ef=e),xm)},movementY:function(e){return"movementY"in e?e.movementY:ym}}),Xy=ra(Kp),UA=Ur({},Kp,{dataTransfer:0}),qA=ra(UA),$A=Ur({},Xh,{relatedTarget:0}),_m=ra($A),zA=Ur({},Pu,{animationName:0,elapsedTime:0,pseudoElement:0}),HA=ra(zA),WA=Ur({},Pu,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),VA=ra(WA),GA=Ur({},Pu,{data:0}),Zy=ra(GA),KA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},YA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},XA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ZA(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=XA[e])?!!t[e]:!1}function T2(){return ZA}var JA=Ur({},Xh,{key:function(e){if(e.key){var t=KA[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=C0(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?YA[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:T2,charCode:function(e){return e.type==="keypress"?C0(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?C0(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),QA=ra(JA),eT=Ur({},Kp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jy=ra(eT),tT=Ur({},Xh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:T2}),rT=ra(tT),nT=Ur({},Pu,{propertyName:0,elapsedTime:0,pseudoElement:0}),iT=ra(nT),aT=Ur({},Kp,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),sT=ra(aT),oT=[9,13,27,32],j2=Zs&&"CompositionEvent"in window,Gf=null;Zs&&"documentMode"in document&&(Gf=document.documentMode);var lT=Zs&&"TextEvent"in window&&!Gf,W4=Zs&&(!j2||Gf&&8<Gf&&11>=Gf),Qy=" ",e_=!1;function V4(e,t){switch(e){case"keyup":return oT.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function G4(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Hc=!1;function cT(e,t){switch(e){case"compositionend":return G4(t);case"keypress":return t.which!==32?null:(e_=!0,Qy);case"textInput":return e=t.data,e===Qy&&e_?null:e;default:return null}}function uT(e,t){if(Hc)return e==="compositionend"||!j2&&V4(e,t)?(e=H4(),O0=E2=Ro=null,Hc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return W4&&t.locale!=="ko"?null:t.data;default:return null}}var fT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function t_(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!fT[e.type]:t==="textarea"}function K4(e,t,r,n){k4(n),t=tp(t,"onChange"),0<t.length&&(r=new A2("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Kf=null,yh=null;function hT(e){a3(e,0)}function Yp(e){var t=Gc(e);if(x4(t))return e}function dT(e,t){if(e==="change")return t}var Y4=!1;if(Zs){var bm;if(Zs){var wm="oninput"in document;if(!wm){var r_=document.createElement("div");r_.setAttribute("oninput","return;"),wm=typeof r_.oninput=="function"}bm=wm}else bm=!1;Y4=bm&&(!document.documentMode||9<document.documentMode)}function n_(){Kf&&(Kf.detachEvent("onpropertychange",X4),yh=Kf=null)}function X4(e){if(e.propertyName==="value"&&Yp(yh)){var t=[];K4(t,yh,e,b2(e)),j4(hT,t)}}function pT(e,t,r){e==="focusin"?(n_(),Kf=t,yh=r,Kf.attachEvent("onpropertychange",X4)):e==="focusout"&&n_()}function mT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Yp(yh)}function gT(e,t){if(e==="click")return Yp(t)}function vT(e,t){if(e==="input"||e==="change")return Yp(t)}function xT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ha=typeof Object.is=="function"?Object.is:xT;function _h(e,t){if(Ha(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Pg.call(t,i)||!Ha(e[i],t[i]))return!1}return!0}function i_(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function a_(e,t){var r=i_(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=i_(r)}}function Z4(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Z4(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function J4(){for(var e=window,t=K0();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=K0(e.document)}return t}function O2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function yT(e){var t=J4(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Z4(r.ownerDocument.documentElement,r)){if(n!==null&&O2(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=a_(r,a);var s=a_(r,n);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var _T=Zs&&"documentMode"in document&&11>=document.documentMode,Wc=null,Jg=null,Yf=null,Qg=!1;function s_(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Qg||Wc==null||Wc!==K0(n)||(n=Wc,"selectionStart"in n&&O2(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Yf&&_h(Yf,n)||(Yf=n,n=tp(Jg,"onSelect"),0<n.length&&(t=new A2("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Wc)))}function Yd(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Vc={animationend:Yd("Animation","AnimationEnd"),animationiteration:Yd("Animation","AnimationIteration"),animationstart:Yd("Animation","AnimationStart"),transitionend:Yd("Transition","TransitionEnd")},Nm={},Q4={};Zs&&(Q4=document.createElement("div").style,"AnimationEvent"in window||(delete Vc.animationend.animation,delete Vc.animationiteration.animation,delete Vc.animationstart.animation),"TransitionEvent"in window||delete Vc.transitionend.transition);function Xp(e){if(Nm[e])return Nm[e];if(!Vc[e])return e;var t=Vc[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Q4)return Nm[e]=t[r];return e}var e3=Xp("animationend"),t3=Xp("animationiteration"),r3=Xp("animationstart"),n3=Xp("transitionend"),i3=new Map,o_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ol(e,t){i3.set(e,t),ic(t,[e])}for(var Sm=0;Sm<o_.length;Sm++){var km=o_[Sm],bT=km.toLowerCase(),wT=km[0].toUpperCase()+km.slice(1);ol(bT,"on"+wT)}ol(e3,"onAnimationEnd");ol(t3,"onAnimationIteration");ol(r3,"onAnimationStart");ol("dblclick","onDoubleClick");ol("focusin","onFocus");ol("focusout","onBlur");ol(n3,"onTransitionEnd");xu("onMouseEnter",["mouseout","mouseover"]);xu("onMouseLeave",["mouseout","mouseover"]);xu("onPointerEnter",["pointerout","pointerover"]);xu("onPointerLeave",["pointerout","pointerover"]);ic("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ic("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ic("onBeforeInput",["compositionend","keypress","textInput","paste"]);ic("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ic("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ic("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Uf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Uf));function l_(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,bA(n,t,void 0,e),e.currentTarget=null}function a3(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;l_(i,o,c),a=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;l_(i,o,c),a=l}}}if(X0)throw e=Kg,X0=!1,Kg=null,e}function Tr(e,t){var r=t[iv];r===void 0&&(r=t[iv]=new Set);var n=e+"__bubble";r.has(n)||(s3(t,e,2,!1),r.add(n))}function Em(e,t,r){var n=0;t&&(n|=4),s3(r,e,n,t)}var Xd="_reactListening"+Math.random().toString(36).slice(2);function bh(e){if(!e[Xd]){e[Xd]=!0,d4.forEach(function(r){r!=="selectionchange"&&(NT.has(r)||Em(r,!1,e),Em(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Xd]||(t[Xd]=!0,Em("selectionchange",!1,t))}}function s3(e,t,r,n){switch(z4(t)){case 1:var i=DA;break;case 4:i=MA;break;default:i=k2}r=i.bind(null,t,r,e),i=void 0,!Gg||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Am(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=Dl(o),s===null)return;if(l=s.tag,l===5||l===6){n=a=s;continue e}o=o.parentNode}}n=n.return}j4(function(){var c=a,u=b2(r),d=[];e:{var p=i3.get(e);if(p!==void 0){var h=A2,y=e;switch(e){case"keypress":if(C0(r)===0)break e;case"keydown":case"keyup":h=QA;break;case"focusin":y="focus",h=_m;break;case"focusout":y="blur",h=_m;break;case"beforeblur":case"afterblur":h=_m;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Xy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=qA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=rT;break;case e3:case t3:case r3:h=HA;break;case n3:h=iT;break;case"scroll":h=BA;break;case"wheel":h=sT;break;case"copy":case"cut":case"paste":h=VA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Jy}var m=(t&4)!==0,x=!m&&e==="scroll",g=m?p!==null?p+"Capture":null:p;m=[];for(var v=c,b;v!==null;){b=v;var _=b.stateNode;if(b.tag===5&&_!==null&&(b=_,g!==null&&(_=mh(v,g),_!=null&&m.push(wh(v,_,b)))),x)break;v=v.return}0<m.length&&(p=new h(p,y,null,r,u),d.push({event:p,listeners:m}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",p&&r!==Wg&&(y=r.relatedTarget||r.fromElement)&&(Dl(y)||y[Js]))break e;if((h||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,h?(y=r.relatedTarget||r.toElement,h=c,y=y?Dl(y):null,y!==null&&(x=ac(y),y!==x||y.tag!==5&&y.tag!==6)&&(y=null)):(h=null,y=c),h!==y)){if(m=Xy,_="onMouseLeave",g="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(m=Jy,_="onPointerLeave",g="onPointerEnter",v="pointer"),x=h==null?p:Gc(h),b=y==null?p:Gc(y),p=new m(_,v+"leave",h,r,u),p.target=x,p.relatedTarget=b,_=null,Dl(u)===c&&(m=new m(g,v+"enter",y,r,u),m.target=b,m.relatedTarget=x,_=m),x=_,h&&y)t:{for(m=h,g=y,v=0,b=m;b;b=Sc(b))v++;for(b=0,_=g;_;_=Sc(_))b++;for(;0<v-b;)m=Sc(m),v--;for(;0<b-v;)g=Sc(g),b--;for(;v--;){if(m===g||g!==null&&m===g.alternate)break t;m=Sc(m),g=Sc(g)}m=null}else m=null;h!==null&&c_(d,p,h,m,!1),y!==null&&x!==null&&c_(d,x,y,m,!0)}}e:{if(p=c?Gc(c):window,h=p.nodeName&&p.nodeName.toLowerCase(),h==="select"||h==="input"&&p.type==="file")var E=dT;else if(t_(p))if(Y4)E=vT;else{E=mT;var F=pT}else(h=p.nodeName)&&h.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(E=gT);if(E&&(E=E(e,c))){K4(d,E,r,u);break e}F&&F(e,p,c),e==="focusout"&&(F=p._wrapperState)&&F.controlled&&p.type==="number"&&Ug(p,"number",p.value)}switch(F=c?Gc(c):window,e){case"focusin":(t_(F)||F.contentEditable==="true")&&(Wc=F,Jg=c,Yf=null);break;case"focusout":Yf=Jg=Wc=null;break;case"mousedown":Qg=!0;break;case"contextmenu":case"mouseup":case"dragend":Qg=!1,s_(d,r,u);break;case"selectionchange":if(_T)break;case"keydown":case"keyup":s_(d,r,u)}var A;if(j2)e:{switch(e){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else Hc?V4(e,r)&&(O="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(O="onCompositionStart");O&&(W4&&r.locale!=="ko"&&(Hc||O!=="onCompositionStart"?O==="onCompositionEnd"&&Hc&&(A=H4()):(Ro=u,E2="value"in Ro?Ro.value:Ro.textContent,Hc=!0)),F=tp(c,O),0<F.length&&(O=new Zy(O,e,null,r,u),d.push({event:O,listeners:F}),A?O.data=A:(A=G4(r),A!==null&&(O.data=A)))),(A=lT?cT(e,r):uT(e,r))&&(c=tp(c,"onBeforeInput"),0<c.length&&(u=new Zy("onBeforeInput","beforeinput",null,r,u),d.push({event:u,listeners:c}),u.data=A))}a3(d,t)})}function wh(e,t,r){return{instance:e,listener:t,currentTarget:r}}function tp(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=mh(e,r),a!=null&&n.unshift(wh(e,a,i)),a=mh(e,t),a!=null&&n.push(wh(e,a,i))),e=e.return}return n}function Sc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function c_(e,t,r,n,i){for(var a=t._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,i?(l=mh(r,a),l!=null&&s.unshift(wh(r,l,o))):i||(l=mh(r,a),l!=null&&s.push(wh(r,l,o)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var ST=/\r\n?/g,kT=/\u0000|\uFFFD/g;function u_(e){return(typeof e=="string"?e:""+e).replace(ST,`
`).replace(kT,"")}function Zd(e,t,r){if(t=u_(t),u_(e)!==t&&r)throw Error(nt(425))}function rp(){}var ev=null,tv=null;function rv(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var nv=typeof setTimeout=="function"?setTimeout:void 0,ET=typeof clearTimeout=="function"?clearTimeout:void 0,f_=typeof Promise=="function"?Promise:void 0,AT=typeof queueMicrotask=="function"?queueMicrotask:typeof f_<"u"?function(e){return f_.resolve(null).then(e).catch(TT)}:nv;function TT(e){setTimeout(function(){throw e})}function Tm(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),xh(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);xh(t)}function Wo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function h_(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Fu=Math.random().toString(36).slice(2),fs="__reactFiber$"+Fu,Nh="__reactProps$"+Fu,Js="__reactContainer$"+Fu,iv="__reactEvents$"+Fu,jT="__reactListeners$"+Fu,OT="__reactHandles$"+Fu;function Dl(e){var t=e[fs];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Js]||r[fs]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=h_(e);e!==null;){if(r=e[fs])return r;e=h_(e)}return t}e=r,r=e.parentNode}return null}function Zh(e){return e=e[fs]||e[Js],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Gc(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(nt(33))}function Zp(e){return e[Nh]||null}var av=[],Kc=-1;function ll(e){return{current:e}}function Lr(e){0>Kc||(e.current=av[Kc],av[Kc]=null,Kc--)}function kr(e,t){Kc++,av[Kc]=e.current,e.current=t}var rl={},ai=ll(rl),Ai=ll(!1),Gl=rl;function yu(e,t){var r=e.type.contextTypes;if(!r)return rl;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ti(e){return e=e.childContextTypes,e!=null}function np(){Lr(Ai),Lr(ai)}function d_(e,t,r){if(ai.current!==rl)throw Error(nt(168));kr(ai,t),kr(Ai,r)}function o3(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(nt(108,pA(e)||"Unknown",i));return Ur({},r,n)}function ip(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||rl,Gl=ai.current,kr(ai,e),kr(Ai,Ai.current),!0}function p_(e,t,r){var n=e.stateNode;if(!n)throw Error(nt(169));r?(e=o3(e,t,Gl),n.__reactInternalMemoizedMergedChildContext=e,Lr(Ai),Lr(ai),kr(ai,e)):Lr(Ai),kr(Ai,r)}var qs=null,Jp=!1,jm=!1;function l3(e){qs===null?qs=[e]:qs.push(e)}function CT(e){Jp=!0,l3(e)}function cl(){if(!jm&&qs!==null){jm=!0;var e=0,t=mr;try{var r=qs;for(mr=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}qs=null,Jp=!1}catch(i){throw qs!==null&&(qs=qs.slice(e+1)),P4(w2,cl),i}finally{mr=t,jm=!1}}return null}var Yc=[],Xc=0,ap=null,sp=0,ha=[],da=0,Kl=null,Hs=1,Ws="";function Tl(e,t){Yc[Xc++]=sp,Yc[Xc++]=ap,ap=e,sp=t}function c3(e,t,r){ha[da++]=Hs,ha[da++]=Ws,ha[da++]=Kl,Kl=e;var n=Hs;e=Ws;var i=32-qa(n)-1;n&=~(1<<i),r+=1;var a=32-qa(t)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,Hs=1<<32-qa(t)+i|r<<i|n,Ws=a+e}else Hs=1<<a|r<<i|n,Ws=e}function C2(e){e.return!==null&&(Tl(e,1),c3(e,1,0))}function L2(e){for(;e===ap;)ap=Yc[--Xc],Yc[Xc]=null,sp=Yc[--Xc],Yc[Xc]=null;for(;e===Kl;)Kl=ha[--da],ha[da]=null,Ws=ha[--da],ha[da]=null,Hs=ha[--da],ha[da]=null}var Ji=null,Yi=null,Rr=!1,Ma=null;function u3(e,t){var r=ma(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function m_(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ji=e,Yi=Wo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ji=e,Yi=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Kl!==null?{id:Hs,overflow:Ws}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ma(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ji=e,Yi=null,!0):!1;default:return!1}}function sv(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ov(e){if(Rr){var t=Yi;if(t){var r=t;if(!m_(e,t)){if(sv(e))throw Error(nt(418));t=Wo(r.nextSibling);var n=Ji;t&&m_(e,t)?u3(n,r):(e.flags=e.flags&-4097|2,Rr=!1,Ji=e)}}else{if(sv(e))throw Error(nt(418));e.flags=e.flags&-4097|2,Rr=!1,Ji=e}}}function g_(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ji=e}function Jd(e){if(e!==Ji)return!1;if(!Rr)return g_(e),Rr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!rv(e.type,e.memoizedProps)),t&&(t=Yi)){if(sv(e))throw f3(),Error(nt(418));for(;t;)u3(e,t),t=Wo(t.nextSibling)}if(g_(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(nt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Yi=Wo(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Yi=null}}else Yi=Ji?Wo(e.stateNode.nextSibling):null;return!0}function f3(){for(var e=Yi;e;)e=Wo(e.nextSibling)}function _u(){Yi=Ji=null,Rr=!1}function P2(e){Ma===null?Ma=[e]:Ma.push(e)}var LT=no.ReactCurrentBatchConfig;function Af(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(nt(309));var n=r.stateNode}if(!n)throw Error(nt(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},t._stringRef=a,t)}if(typeof e!="string")throw Error(nt(284));if(!r._owner)throw Error(nt(290,e))}return e}function Qd(e,t){throw e=Object.prototype.toString.call(t),Error(nt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function v_(e){var t=e._init;return t(e._payload)}function h3(e){function t(g,v){if(e){var b=g.deletions;b===null?(g.deletions=[v],g.flags|=16):b.push(v)}}function r(g,v){if(!e)return null;for(;v!==null;)t(g,v),v=v.sibling;return null}function n(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function i(g,v){return g=Yo(g,v),g.index=0,g.sibling=null,g}function a(g,v,b){return g.index=b,e?(b=g.alternate,b!==null?(b=b.index,b<v?(g.flags|=2,v):b):(g.flags|=2,v)):(g.flags|=1048576,v)}function s(g){return e&&g.alternate===null&&(g.flags|=2),g}function o(g,v,b,_){return v===null||v.tag!==6?(v=Rm(b,g.mode,_),v.return=g,v):(v=i(v,b),v.return=g,v)}function l(g,v,b,_){var E=b.type;return E===zc?u(g,v,b.props.children,_,b.key):v!==null&&(v.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Oo&&v_(E)===v.type)?(_=i(v,b.props),_.ref=Af(g,v,b),_.return=g,_):(_=M0(b.type,b.key,b.props,null,g.mode,_),_.ref=Af(g,v,b),_.return=g,_)}function c(g,v,b,_){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=Dm(b,g.mode,_),v.return=g,v):(v=i(v,b.children||[]),v.return=g,v)}function u(g,v,b,_,E){return v===null||v.tag!==7?(v=Hl(b,g.mode,_,E),v.return=g,v):(v=i(v,b),v.return=g,v)}function d(g,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Rm(""+v,g.mode,b),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case $d:return b=M0(v.type,v.key,v.props,null,g.mode,b),b.ref=Af(g,null,v),b.return=g,b;case $c:return v=Dm(v,g.mode,b),v.return=g,v;case Oo:var _=v._init;return d(g,_(v._payload),b)}if(Mf(v)||wf(v))return v=Hl(v,g.mode,b,null),v.return=g,v;Qd(g,v)}return null}function p(g,v,b,_){var E=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return E!==null?null:o(g,v,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case $d:return b.key===E?l(g,v,b,_):null;case $c:return b.key===E?c(g,v,b,_):null;case Oo:return E=b._init,p(g,v,E(b._payload),_)}if(Mf(b)||wf(b))return E!==null?null:u(g,v,b,_,null);Qd(g,b)}return null}function h(g,v,b,_,E){if(typeof _=="string"&&_!==""||typeof _=="number")return g=g.get(b)||null,o(v,g,""+_,E);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case $d:return g=g.get(_.key===null?b:_.key)||null,l(v,g,_,E);case $c:return g=g.get(_.key===null?b:_.key)||null,c(v,g,_,E);case Oo:var F=_._init;return h(g,v,b,F(_._payload),E)}if(Mf(_)||wf(_))return g=g.get(b)||null,u(v,g,_,E,null);Qd(v,_)}return null}function y(g,v,b,_){for(var E=null,F=null,A=v,O=v=0,C=null;A!==null&&O<b.length;O++){A.index>O?(C=A,A=null):C=A.sibling;var L=p(g,A,b[O],_);if(L===null){A===null&&(A=C);break}e&&A&&L.alternate===null&&t(g,A),v=a(L,v,O),F===null?E=L:F.sibling=L,F=L,A=C}if(O===b.length)return r(g,A),Rr&&Tl(g,O),E;if(A===null){for(;O<b.length;O++)A=d(g,b[O],_),A!==null&&(v=a(A,v,O),F===null?E=A:F.sibling=A,F=A);return Rr&&Tl(g,O),E}for(A=n(g,A);O<b.length;O++)C=h(A,g,O,b[O],_),C!==null&&(e&&C.alternate!==null&&A.delete(C.key===null?O:C.key),v=a(C,v,O),F===null?E=C:F.sibling=C,F=C);return e&&A.forEach(function(N){return t(g,N)}),Rr&&Tl(g,O),E}function m(g,v,b,_){var E=wf(b);if(typeof E!="function")throw Error(nt(150));if(b=E.call(b),b==null)throw Error(nt(151));for(var F=E=null,A=v,O=v=0,C=null,L=b.next();A!==null&&!L.done;O++,L=b.next()){A.index>O?(C=A,A=null):C=A.sibling;var N=p(g,A,L.value,_);if(N===null){A===null&&(A=C);break}e&&A&&N.alternate===null&&t(g,A),v=a(N,v,O),F===null?E=N:F.sibling=N,F=N,A=C}if(L.done)return r(g,A),Rr&&Tl(g,O),E;if(A===null){for(;!L.done;O++,L=b.next())L=d(g,L.value,_),L!==null&&(v=a(L,v,O),F===null?E=L:F.sibling=L,F=L);return Rr&&Tl(g,O),E}for(A=n(g,A);!L.done;O++,L=b.next())L=h(A,g,O,L.value,_),L!==null&&(e&&L.alternate!==null&&A.delete(L.key===null?O:L.key),v=a(L,v,O),F===null?E=L:F.sibling=L,F=L);return e&&A.forEach(function(j){return t(g,j)}),Rr&&Tl(g,O),E}function x(g,v,b,_){if(typeof b=="object"&&b!==null&&b.type===zc&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case $d:e:{for(var E=b.key,F=v;F!==null;){if(F.key===E){if(E=b.type,E===zc){if(F.tag===7){r(g,F.sibling),v=i(F,b.props.children),v.return=g,g=v;break e}}else if(F.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Oo&&v_(E)===F.type){r(g,F.sibling),v=i(F,b.props),v.ref=Af(g,F,b),v.return=g,g=v;break e}r(g,F);break}else t(g,F);F=F.sibling}b.type===zc?(v=Hl(b.props.children,g.mode,_,b.key),v.return=g,g=v):(_=M0(b.type,b.key,b.props,null,g.mode,_),_.ref=Af(g,v,b),_.return=g,g=_)}return s(g);case $c:e:{for(F=b.key;v!==null;){if(v.key===F)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){r(g,v.sibling),v=i(v,b.children||[]),v.return=g,g=v;break e}else{r(g,v);break}else t(g,v);v=v.sibling}v=Dm(b,g.mode,_),v.return=g,g=v}return s(g);case Oo:return F=b._init,x(g,v,F(b._payload),_)}if(Mf(b))return y(g,v,b,_);if(wf(b))return m(g,v,b,_);Qd(g,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(r(g,v.sibling),v=i(v,b),v.return=g,g=v):(r(g,v),v=Rm(b,g.mode,_),v.return=g,g=v),s(g)):r(g,v)}return x}var bu=h3(!0),d3=h3(!1),op=ll(null),lp=null,Zc=null,F2=null;function I2(){F2=Zc=lp=null}function R2(e){var t=op.current;Lr(op),e._currentValue=t}function lv(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function su(e,t){lp=e,F2=Zc=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ki=!0),e.firstContext=null)}function va(e){var t=e._currentValue;if(F2!==e)if(e={context:e,memoizedValue:t,next:null},Zc===null){if(lp===null)throw Error(nt(308));Zc=e,lp.dependencies={lanes:0,firstContext:e}}else Zc=Zc.next=e;return t}var Ml=null;function D2(e){Ml===null?Ml=[e]:Ml.push(e)}function p3(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,D2(t)):(r.next=i.next,i.next=r),t.interleaved=r,Qs(e,n)}function Qs(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Co=!1;function M2(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function m3(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Vs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vo(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,tr&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Qs(e,r)}return i=n.interleaved,i===null?(t.next=t,D2(n)):(t.next=i.next,i.next=t),n.interleaved=t,Qs(e,r)}function L0(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,N2(e,r)}}function x_(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function cp(e,t,r,n){var i=e.updateQueue;Co=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?a=c:s.next=c,s=l;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==s&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(a!==null){var d=i.baseState;s=0,u=c=l=null,o=a;do{var p=o.lane,h=o.eventTime;if((n&p)===p){u!==null&&(u=u.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=e,m=o;switch(p=t,h=r,m.tag){case 1:if(y=m.payload,typeof y=="function"){d=y.call(h,d,p);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=m.payload,p=typeof y=="function"?y.call(h,d,p):y,p==null)break e;d=Ur({},d,p);break e;case 2:Co=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[o]:p.push(o))}else h={eventTime:h,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=h,l=d):u=u.next=h,s|=p;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;p=o,o=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Xl|=s,e.lanes=s,e.memoizedState=d}}function y_(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(nt(191,i));i.call(n)}}}var Jh={},ms=ll(Jh),Sh=ll(Jh),kh=ll(Jh);function Bl(e){if(e===Jh)throw Error(nt(174));return e}function B2(e,t){switch(kr(kh,t),kr(Sh,e),kr(ms,Jh),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:$g(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=$g(t,e)}Lr(ms),kr(ms,t)}function wu(){Lr(ms),Lr(Sh),Lr(kh)}function g3(e){Bl(kh.current);var t=Bl(ms.current),r=$g(t,e.type);t!==r&&(kr(Sh,e),kr(ms,r))}function U2(e){Sh.current===e&&(Lr(ms),Lr(Sh))}var Mr=ll(0);function up(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Om=[];function q2(){for(var e=0;e<Om.length;e++)Om[e]._workInProgressVersionPrimary=null;Om.length=0}var P0=no.ReactCurrentDispatcher,Cm=no.ReactCurrentBatchConfig,Yl=0,Br=null,Nn=null,An=null,fp=!1,Xf=!1,Eh=0,PT=0;function Xn(){throw Error(nt(321))}function $2(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ha(e[r],t[r]))return!1;return!0}function z2(e,t,r,n,i,a){if(Yl=a,Br=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,P0.current=e===null||e.memoizedState===null?DT:MT,e=r(n,i),Xf){a=0;do{if(Xf=!1,Eh=0,25<=a)throw Error(nt(301));a+=1,An=Nn=null,t.updateQueue=null,P0.current=BT,e=r(n,i)}while(Xf)}if(P0.current=hp,t=Nn!==null&&Nn.next!==null,Yl=0,An=Nn=Br=null,fp=!1,t)throw Error(nt(300));return e}function H2(){var e=Eh!==0;return Eh=0,e}function cs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return An===null?Br.memoizedState=An=e:An=An.next=e,An}function xa(){if(Nn===null){var e=Br.alternate;e=e!==null?e.memoizedState:null}else e=Nn.next;var t=An===null?Br.memoizedState:An.next;if(t!==null)An=t,Nn=e;else{if(e===null)throw Error(nt(310));Nn=e,e={memoizedState:Nn.memoizedState,baseState:Nn.baseState,baseQueue:Nn.baseQueue,queue:Nn.queue,next:null},An===null?Br.memoizedState=An=e:An=An.next=e}return An}function Ah(e,t){return typeof t=="function"?t(e):t}function Lm(e){var t=xa(),r=t.queue;if(r===null)throw Error(nt(311));r.lastRenderedReducer=e;var n=Nn,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var o=s=null,l=null,c=a;do{var u=c.lane;if((Yl&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=d,s=n):l=l.next=d,Br.lanes|=u,Xl|=u}c=c.next}while(c!==null&&c!==a);l===null?s=n:l.next=o,Ha(n,t.memoizedState)||(ki=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,Br.lanes|=a,Xl|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Pm(e){var t=xa(),r=t.queue;if(r===null)throw Error(nt(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);Ha(a,t.memoizedState)||(ki=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function v3(){}function x3(e,t){var r=Br,n=xa(),i=t(),a=!Ha(n.memoizedState,i);if(a&&(n.memoizedState=i,ki=!0),n=n.queue,W2(b3.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||An!==null&&An.memoizedState.tag&1){if(r.flags|=2048,Th(9,_3.bind(null,r,n,i,t),void 0,null),Ln===null)throw Error(nt(349));Yl&30||y3(r,t,i)}return i}function y3(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Br.updateQueue,t===null?(t={lastEffect:null,stores:null},Br.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function _3(e,t,r,n){t.value=r,t.getSnapshot=n,w3(t)&&N3(e)}function b3(e,t,r){return r(function(){w3(t)&&N3(e)})}function w3(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ha(e,r)}catch{return!0}}function N3(e){var t=Qs(e,1);t!==null&&$a(t,e,1,-1)}function __(e){var t=cs();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ah,lastRenderedState:e},t.queue=e,e=e.dispatch=RT.bind(null,Br,e),[t.memoizedState,e]}function Th(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Br.updateQueue,t===null?(t={lastEffect:null,stores:null},Br.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function S3(){return xa().memoizedState}function F0(e,t,r,n){var i=cs();Br.flags|=e,i.memoizedState=Th(1|t,r,void 0,n===void 0?null:n)}function Qp(e,t,r,n){var i=xa();n=n===void 0?null:n;var a=void 0;if(Nn!==null){var s=Nn.memoizedState;if(a=s.destroy,n!==null&&$2(n,s.deps)){i.memoizedState=Th(t,r,a,n);return}}Br.flags|=e,i.memoizedState=Th(1|t,r,a,n)}function b_(e,t){return F0(8390656,8,e,t)}function W2(e,t){return Qp(2048,8,e,t)}function k3(e,t){return Qp(4,2,e,t)}function E3(e,t){return Qp(4,4,e,t)}function A3(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function T3(e,t,r){return r=r!=null?r.concat([e]):null,Qp(4,4,A3.bind(null,t,e),r)}function V2(){}function j3(e,t){var r=xa();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&$2(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function O3(e,t){var r=xa();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&$2(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function C3(e,t,r){return Yl&21?(Ha(r,t)||(r=R4(),Br.lanes|=r,Xl|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ki=!0),e.memoizedState=r)}function FT(e,t){var r=mr;mr=r!==0&&4>r?r:4,e(!0);var n=Cm.transition;Cm.transition={};try{e(!1),t()}finally{mr=r,Cm.transition=n}}function L3(){return xa().memoizedState}function IT(e,t,r){var n=Ko(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},P3(e))F3(t,r);else if(r=p3(e,t,r,n),r!==null){var i=gi();$a(r,e,n,i),I3(r,t,n)}}function RT(e,t,r){var n=Ko(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(P3(e))F3(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,o=a(s,r);if(i.hasEagerState=!0,i.eagerState=o,Ha(o,s)){var l=t.interleaved;l===null?(i.next=i,D2(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}r=p3(e,t,i,n),r!==null&&(i=gi(),$a(r,e,n,i),I3(r,t,n))}}function P3(e){var t=e.alternate;return e===Br||t!==null&&t===Br}function F3(e,t){Xf=fp=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function I3(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,N2(e,r)}}var hp={readContext:va,useCallback:Xn,useContext:Xn,useEffect:Xn,useImperativeHandle:Xn,useInsertionEffect:Xn,useLayoutEffect:Xn,useMemo:Xn,useReducer:Xn,useRef:Xn,useState:Xn,useDebugValue:Xn,useDeferredValue:Xn,useTransition:Xn,useMutableSource:Xn,useSyncExternalStore:Xn,useId:Xn,unstable_isNewReconciler:!1},DT={readContext:va,useCallback:function(e,t){return cs().memoizedState=[e,t===void 0?null:t],e},useContext:va,useEffect:b_,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,F0(4194308,4,A3.bind(null,t,e),r)},useLayoutEffect:function(e,t){return F0(4194308,4,e,t)},useInsertionEffect:function(e,t){return F0(4,2,e,t)},useMemo:function(e,t){var r=cs();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=cs();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=IT.bind(null,Br,e),[n.memoizedState,e]},useRef:function(e){var t=cs();return e={current:e},t.memoizedState=e},useState:__,useDebugValue:V2,useDeferredValue:function(e){return cs().memoizedState=e},useTransition:function(){var e=__(!1),t=e[0];return e=FT.bind(null,e[1]),cs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Br,i=cs();if(Rr){if(r===void 0)throw Error(nt(407));r=r()}else{if(r=t(),Ln===null)throw Error(nt(349));Yl&30||y3(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,b_(b3.bind(null,n,a,e),[e]),n.flags|=2048,Th(9,_3.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=cs(),t=Ln.identifierPrefix;if(Rr){var r=Ws,n=Hs;r=(n&~(1<<32-qa(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Eh++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=PT++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},MT={readContext:va,useCallback:j3,useContext:va,useEffect:W2,useImperativeHandle:T3,useInsertionEffect:k3,useLayoutEffect:E3,useMemo:O3,useReducer:Lm,useRef:S3,useState:function(){return Lm(Ah)},useDebugValue:V2,useDeferredValue:function(e){var t=xa();return C3(t,Nn.memoizedState,e)},useTransition:function(){var e=Lm(Ah)[0],t=xa().memoizedState;return[e,t]},useMutableSource:v3,useSyncExternalStore:x3,useId:L3,unstable_isNewReconciler:!1},BT={readContext:va,useCallback:j3,useContext:va,useEffect:W2,useImperativeHandle:T3,useInsertionEffect:k3,useLayoutEffect:E3,useMemo:O3,useReducer:Pm,useRef:S3,useState:function(){return Pm(Ah)},useDebugValue:V2,useDeferredValue:function(e){var t=xa();return Nn===null?t.memoizedState=e:C3(t,Nn.memoizedState,e)},useTransition:function(){var e=Pm(Ah)[0],t=xa().memoizedState;return[e,t]},useMutableSource:v3,useSyncExternalStore:x3,useId:L3,unstable_isNewReconciler:!1};function Ia(e,t){if(e&&e.defaultProps){t=Ur({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function cv(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ur({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var e1={isMounted:function(e){return(e=e._reactInternals)?ac(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=gi(),i=Ko(e),a=Vs(n,i);a.payload=t,r!=null&&(a.callback=r),t=Vo(e,a,i),t!==null&&($a(t,e,i,n),L0(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=gi(),i=Ko(e),a=Vs(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Vo(e,a,i),t!==null&&($a(t,e,i,n),L0(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=gi(),n=Ko(e),i=Vs(r,n);i.tag=2,t!=null&&(i.callback=t),t=Vo(e,i,n),t!==null&&($a(t,e,n,r),L0(t,e,n))}};function w_(e,t,r,n,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,s):t.prototype&&t.prototype.isPureReactComponent?!_h(r,n)||!_h(i,a):!0}function R3(e,t,r){var n=!1,i=rl,a=t.contextType;return typeof a=="object"&&a!==null?a=va(a):(i=Ti(t)?Gl:ai.current,n=t.contextTypes,a=(n=n!=null)?yu(e,i):rl),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=e1,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function N_(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&e1.enqueueReplaceState(t,t.state,null)}function uv(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},M2(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=va(a):(a=Ti(t)?Gl:ai.current,i.context=yu(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(cv(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&e1.enqueueReplaceState(i,i.state,null),cp(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Nu(e,t){try{var r="",n=t;do r+=dA(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Fm(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function fv(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var UT=typeof WeakMap=="function"?WeakMap:Map;function D3(e,t,r){r=Vs(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){pp||(pp=!0,bv=n),fv(e,t)},r}function M3(e,t,r){r=Vs(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){fv(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){fv(e,t),typeof n!="function"&&(Go===null?Go=new Set([this]):Go.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function S_(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new UT;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=e8.bind(null,e,t,r),t.then(e,e))}function k_(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function E_(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Vs(-1,1),t.tag=2,Vo(r,t,1))),r.lanes|=1),e)}var qT=no.ReactCurrentOwner,ki=!1;function hi(e,t,r,n){t.child=e===null?d3(t,null,r,n):bu(t,e.child,r,n)}function A_(e,t,r,n,i){r=r.render;var a=t.ref;return su(t,i),n=z2(e,t,r,n,a,i),r=H2(),e!==null&&!ki?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,eo(e,t,i)):(Rr&&r&&C2(t),t.flags|=1,hi(e,t,n,i),t.child)}function T_(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!ex(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,B3(e,t,a,n,i)):(e=M0(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var s=a.memoizedProps;if(r=r.compare,r=r!==null?r:_h,r(s,n)&&e.ref===t.ref)return eo(e,t,i)}return t.flags|=1,e=Yo(a,n),e.ref=t.ref,e.return=t,t.child=e}function B3(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(_h(a,n)&&e.ref===t.ref)if(ki=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(ki=!0);else return t.lanes=e.lanes,eo(e,t,i)}return hv(e,t,r,n,i)}function U3(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},kr(Qc,Wi),Wi|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,kr(Qc,Wi),Wi|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,kr(Qc,Wi),Wi|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,kr(Qc,Wi),Wi|=n;return hi(e,t,i,r),t.child}function q3(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function hv(e,t,r,n,i){var a=Ti(r)?Gl:ai.current;return a=yu(t,a),su(t,i),r=z2(e,t,r,n,a,i),n=H2(),e!==null&&!ki?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,eo(e,t,i)):(Rr&&n&&C2(t),t.flags|=1,hi(e,t,r,i),t.child)}function j_(e,t,r,n,i){if(Ti(r)){var a=!0;ip(t)}else a=!1;if(su(t,i),t.stateNode===null)I0(e,t),R3(t,r,n),uv(t,r,n,i),n=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,c=r.contextType;typeof c=="object"&&c!==null?c=va(c):(c=Ti(r)?Gl:ai.current,c=yu(t,c));var u=r.getDerivedStateFromProps,d=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||l!==c)&&N_(t,s,n,c),Co=!1;var p=t.memoizedState;s.state=p,cp(t,n,s,i),l=t.memoizedState,o!==n||p!==l||Ai.current||Co?(typeof u=="function"&&(cv(t,r,u,n),l=t.memoizedState),(o=Co||w_(t,r,o,n,p,l,c))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=c,n=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,m3(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:Ia(t.type,o),s.props=c,d=t.pendingProps,p=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=va(l):(l=Ti(r)?Gl:ai.current,l=yu(t,l));var h=r.getDerivedStateFromProps;(u=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==d||p!==l)&&N_(t,s,n,l),Co=!1,p=t.memoizedState,s.state=p,cp(t,n,s,i);var y=t.memoizedState;o!==d||p!==y||Ai.current||Co?(typeof h=="function"&&(cv(t,r,h,n),y=t.memoizedState),(c=Co||w_(t,r,c,n,p,y,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,y,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,y,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),s.props=n,s.state=y,s.context=l,n=c):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return dv(e,t,r,n,a,i)}function dv(e,t,r,n,i,a){q3(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return i&&p_(t,r,!1),eo(e,t,a);n=t.stateNode,qT.current=t;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=bu(t,e.child,null,a),t.child=bu(t,null,o,a)):hi(e,t,o,a),t.memoizedState=n.state,i&&p_(t,r,!0),t.child}function $3(e){var t=e.stateNode;t.pendingContext?d_(e,t.pendingContext,t.pendingContext!==t.context):t.context&&d_(e,t.context,!1),B2(e,t.containerInfo)}function O_(e,t,r,n,i){return _u(),P2(i),t.flags|=256,hi(e,t,r,n),t.child}var pv={dehydrated:null,treeContext:null,retryLane:0};function mv(e){return{baseLanes:e,cachePool:null,transitions:null}}function z3(e,t,r){var n=t.pendingProps,i=Mr.current,a=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),kr(Mr,i&1),e===null)return ov(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,a?(n=t.mode,a=t.child,s={mode:"hidden",children:s},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=n1(s,n,0,null),e=Hl(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=mv(r),t.memoizedState=pv,e):G2(t,s));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return $T(e,t,s,n,o,i,r);if(a){a=n.fallback,s=t.mode,i=e.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Yo(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=Yo(o,a):(a=Hl(a,s,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,s=e.child.memoizedState,s=s===null?mv(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~r,t.memoizedState=pv,n}return a=e.child,e=a.sibling,n=Yo(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function G2(e,t){return t=n1({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function e0(e,t,r,n){return n!==null&&P2(n),bu(t,e.child,null,r),e=G2(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function $T(e,t,r,n,i,a,s){if(r)return t.flags&256?(t.flags&=-257,n=Fm(Error(nt(422))),e0(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=n1({mode:"visible",children:n.children},i,0,null),a=Hl(a,i,s,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&bu(t,e.child,null,s),t.child.memoizedState=mv(s),t.memoizedState=pv,a);if(!(t.mode&1))return e0(e,t,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error(nt(419)),n=Fm(a,n,void 0),e0(e,t,s,n)}if(o=(s&e.childLanes)!==0,ki||o){if(n=Ln,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Qs(e,i),$a(n,e,i,-1))}return Q2(),n=Fm(Error(nt(421))),e0(e,t,s,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=t8.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Yi=Wo(i.nextSibling),Ji=t,Rr=!0,Ma=null,e!==null&&(ha[da++]=Hs,ha[da++]=Ws,ha[da++]=Kl,Hs=e.id,Ws=e.overflow,Kl=t),t=G2(t,n.children),t.flags|=4096,t)}function C_(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),lv(e.return,t,r)}function Im(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function H3(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(hi(e,t,n.children,r),n=Mr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&C_(e,r,t);else if(e.tag===19)C_(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(kr(Mr,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&up(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Im(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&up(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Im(t,!0,r,null,a);break;case"together":Im(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function I0(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function eo(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Xl|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(nt(153));if(t.child!==null){for(e=t.child,r=Yo(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Yo(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function zT(e,t,r){switch(t.tag){case 3:$3(t),_u();break;case 5:g3(t);break;case 1:Ti(t.type)&&ip(t);break;case 4:B2(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;kr(op,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(kr(Mr,Mr.current&1),t.flags|=128,null):r&t.child.childLanes?z3(e,t,r):(kr(Mr,Mr.current&1),e=eo(e,t,r),e!==null?e.sibling:null);kr(Mr,Mr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return H3(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),kr(Mr,Mr.current),n)break;return null;case 22:case 23:return t.lanes=0,U3(e,t,r)}return eo(e,t,r)}var W3,gv,V3,G3;W3=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};gv=function(){};V3=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Bl(ms.current);var a=null;switch(r){case"input":i=Mg(e,i),n=Mg(e,n),a=[];break;case"select":i=Ur({},i,{value:void 0}),n=Ur({},n,{value:void 0}),a=[];break;case"textarea":i=qg(e,i),n=qg(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=rp)}zg(r,n);var s;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(dh.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in n){var l=n[c];if(o=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(a||(a=[]),a.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(dh.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Tr("scroll",e),a||o===l||(a=[])):(a=a||[]).push(c,l))}r&&(a=a||[]).push("style",r);var c=a;(t.updateQueue=c)&&(t.flags|=4)}};G3=function(e,t,r,n){r!==n&&(t.flags|=4)};function Tf(e,t){if(!Rr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Zn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function HT(e,t,r){var n=t.pendingProps;switch(L2(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zn(t),null;case 1:return Ti(t.type)&&np(),Zn(t),null;case 3:return n=t.stateNode,wu(),Lr(Ai),Lr(ai),q2(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Jd(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ma!==null&&(Sv(Ma),Ma=null))),gv(e,t),Zn(t),null;case 5:U2(t);var i=Bl(kh.current);if(r=t.type,e!==null&&t.stateNode!=null)V3(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(nt(166));return Zn(t),null}if(e=Bl(ms.current),Jd(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[fs]=t,n[Nh]=a,e=(t.mode&1)!==0,r){case"dialog":Tr("cancel",n),Tr("close",n);break;case"iframe":case"object":case"embed":Tr("load",n);break;case"video":case"audio":for(i=0;i<Uf.length;i++)Tr(Uf[i],n);break;case"source":Tr("error",n);break;case"img":case"image":case"link":Tr("error",n),Tr("load",n);break;case"details":Tr("toggle",n);break;case"input":Uy(n,a),Tr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Tr("invalid",n);break;case"textarea":$y(n,a),Tr("invalid",n)}zg(r,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&Zd(n.textContent,o,e),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&Zd(n.textContent,o,e),i=["children",""+o]):dh.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&Tr("scroll",n)}switch(r){case"input":zd(n),qy(n,a,!0);break;case"textarea":zd(n),zy(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=rp)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=b4(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[fs]=t,e[Nh]=n,W3(e,t,!1,!1),t.stateNode=e;e:{switch(s=Hg(r,n),r){case"dialog":Tr("cancel",e),Tr("close",e),i=n;break;case"iframe":case"object":case"embed":Tr("load",e),i=n;break;case"video":case"audio":for(i=0;i<Uf.length;i++)Tr(Uf[i],e);i=n;break;case"source":Tr("error",e),i=n;break;case"img":case"image":case"link":Tr("error",e),Tr("load",e),i=n;break;case"details":Tr("toggle",e),i=n;break;case"input":Uy(e,n),i=Mg(e,n),Tr("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Ur({},n,{value:void 0}),Tr("invalid",e);break;case"textarea":$y(e,n),i=qg(e,n),Tr("invalid",e);break;default:i=n}zg(r,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?S4(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&w4(e,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&ph(e,l):typeof l=="number"&&ph(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(dh.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Tr("scroll",e):l!=null&&v2(e,a,l,s))}switch(r){case"input":zd(e),qy(e,n,!1);break;case"textarea":zd(e),zy(e);break;case"option":n.value!=null&&e.setAttribute("value",""+tl(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?ru(e,!!n.multiple,a,!1):n.defaultValue!=null&&ru(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=rp)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Zn(t),null;case 6:if(e&&t.stateNode!=null)G3(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(nt(166));if(r=Bl(kh.current),Bl(ms.current),Jd(t)){if(n=t.stateNode,r=t.memoizedProps,n[fs]=t,(a=n.nodeValue!==r)&&(e=Ji,e!==null))switch(e.tag){case 3:Zd(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Zd(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[fs]=t,t.stateNode=n}return Zn(t),null;case 13:if(Lr(Mr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Rr&&Yi!==null&&t.mode&1&&!(t.flags&128))f3(),_u(),t.flags|=98560,a=!1;else if(a=Jd(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(nt(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(nt(317));a[fs]=t}else _u(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Zn(t),a=!1}else Ma!==null&&(Sv(Ma),Ma=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Mr.current&1?Sn===0&&(Sn=3):Q2())),t.updateQueue!==null&&(t.flags|=4),Zn(t),null);case 4:return wu(),gv(e,t),e===null&&bh(t.stateNode.containerInfo),Zn(t),null;case 10:return R2(t.type._context),Zn(t),null;case 17:return Ti(t.type)&&np(),Zn(t),null;case 19:if(Lr(Mr),a=t.memoizedState,a===null)return Zn(t),null;if(n=(t.flags&128)!==0,s=a.rendering,s===null)if(n)Tf(a,!1);else{if(Sn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=up(e),s!==null){for(t.flags|=128,Tf(a,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return kr(Mr,Mr.current&1|2),t.child}e=e.sibling}a.tail!==null&&Jr()>Su&&(t.flags|=128,n=!0,Tf(a,!1),t.lanes=4194304)}else{if(!n)if(e=up(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Tf(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!Rr)return Zn(t),null}else 2*Jr()-a.renderingStartTime>Su&&r!==1073741824&&(t.flags|=128,n=!0,Tf(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(r=a.last,r!==null?r.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Jr(),t.sibling=null,r=Mr.current,kr(Mr,n?r&1|2:r&1),t):(Zn(t),null);case 22:case 23:return J2(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Wi&1073741824&&(Zn(t),t.subtreeFlags&6&&(t.flags|=8192)):Zn(t),null;case 24:return null;case 25:return null}throw Error(nt(156,t.tag))}function WT(e,t){switch(L2(t),t.tag){case 1:return Ti(t.type)&&np(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return wu(),Lr(Ai),Lr(ai),q2(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return U2(t),null;case 13:if(Lr(Mr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(nt(340));_u()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Lr(Mr),null;case 4:return wu(),null;case 10:return R2(t.type._context),null;case 22:case 23:return J2(),null;case 24:return null;default:return null}}var t0=!1,ri=!1,VT=typeof WeakSet=="function"?WeakSet:Set,vt=null;function Jc(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Wr(e,t,n)}else r.current=null}function vv(e,t,r){try{r()}catch(n){Wr(e,t,n)}}var L_=!1;function GT(e,t){if(ev=Q0,e=J4(),O2(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,c=0,u=0,d=e,p=null;t:for(;;){for(var h;d!==r||i!==0&&d.nodeType!==3||(o=s+i),d!==a||n!==0&&d.nodeType!==3||(l=s+n),d.nodeType===3&&(s+=d.nodeValue.length),(h=d.firstChild)!==null;)p=d,d=h;for(;;){if(d===e)break t;if(p===r&&++c===i&&(o=s),p===a&&++u===n&&(l=s),(h=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=h}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(tv={focusedElem:e,selectionRange:r},Q0=!1,vt=t;vt!==null;)if(t=vt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,vt=e;else for(;vt!==null;){t=vt;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var m=y.memoizedProps,x=y.memoizedState,g=t.stateNode,v=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:Ia(t.type,m),x);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(nt(163))}}catch(_){Wr(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,vt=e;break}vt=t.return}return y=L_,L_=!1,y}function Zf(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&vv(t,r,a)}i=i.next}while(i!==n)}}function t1(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function xv(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function K3(e){var t=e.alternate;t!==null&&(e.alternate=null,K3(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[fs],delete t[Nh],delete t[iv],delete t[jT],delete t[OT])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Y3(e){return e.tag===5||e.tag===3||e.tag===4}function P_(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Y3(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yv(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=rp));else if(n!==4&&(e=e.child,e!==null))for(yv(e,t,r),e=e.sibling;e!==null;)yv(e,t,r),e=e.sibling}function _v(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(_v(e,t,r),e=e.sibling;e!==null;)_v(e,t,r),e=e.sibling}var Bn=null,Ra=!1;function No(e,t,r){for(r=r.child;r!==null;)X3(e,t,r),r=r.sibling}function X3(e,t,r){if(ps&&typeof ps.onCommitFiberUnmount=="function")try{ps.onCommitFiberUnmount(Gp,r)}catch{}switch(r.tag){case 5:ri||Jc(r,t);case 6:var n=Bn,i=Ra;Bn=null,No(e,t,r),Bn=n,Ra=i,Bn!==null&&(Ra?(e=Bn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Bn.removeChild(r.stateNode));break;case 18:Bn!==null&&(Ra?(e=Bn,r=r.stateNode,e.nodeType===8?Tm(e.parentNode,r):e.nodeType===1&&Tm(e,r),xh(e)):Tm(Bn,r.stateNode));break;case 4:n=Bn,i=Ra,Bn=r.stateNode.containerInfo,Ra=!0,No(e,t,r),Bn=n,Ra=i;break;case 0:case 11:case 14:case 15:if(!ri&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&vv(r,t,s),i=i.next}while(i!==n)}No(e,t,r);break;case 1:if(!ri&&(Jc(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Wr(r,t,o)}No(e,t,r);break;case 21:No(e,t,r);break;case 22:r.mode&1?(ri=(n=ri)||r.memoizedState!==null,No(e,t,r),ri=n):No(e,t,r);break;default:No(e,t,r)}}function F_(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new VT),t.forEach(function(n){var i=r8.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Oa(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:Bn=o.stateNode,Ra=!1;break e;case 3:Bn=o.stateNode.containerInfo,Ra=!0;break e;case 4:Bn=o.stateNode.containerInfo,Ra=!0;break e}o=o.return}if(Bn===null)throw Error(nt(160));X3(a,s,i),Bn=null,Ra=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Wr(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Z3(t,e),t=t.sibling}function Z3(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Oa(t,e),ns(e),n&4){try{Zf(3,e,e.return),t1(3,e)}catch(m){Wr(e,e.return,m)}try{Zf(5,e,e.return)}catch(m){Wr(e,e.return,m)}}break;case 1:Oa(t,e),ns(e),n&512&&r!==null&&Jc(r,r.return);break;case 5:if(Oa(t,e),ns(e),n&512&&r!==null&&Jc(r,r.return),e.flags&32){var i=e.stateNode;try{ph(i,"")}catch(m){Wr(e,e.return,m)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,s=r!==null?r.memoizedProps:a,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&y4(i,a),Hg(o,s);var c=Hg(o,a);for(s=0;s<l.length;s+=2){var u=l[s],d=l[s+1];u==="style"?S4(i,d):u==="dangerouslySetInnerHTML"?w4(i,d):u==="children"?ph(i,d):v2(i,u,d,c)}switch(o){case"input":Bg(i,a);break;case"textarea":_4(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var h=a.value;h!=null?ru(i,!!a.multiple,h,!1):p!==!!a.multiple&&(a.defaultValue!=null?ru(i,!!a.multiple,a.defaultValue,!0):ru(i,!!a.multiple,a.multiple?[]:"",!1))}i[Nh]=a}catch(m){Wr(e,e.return,m)}}break;case 6:if(Oa(t,e),ns(e),n&4){if(e.stateNode===null)throw Error(nt(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(m){Wr(e,e.return,m)}}break;case 3:if(Oa(t,e),ns(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{xh(t.containerInfo)}catch(m){Wr(e,e.return,m)}break;case 4:Oa(t,e),ns(e);break;case 13:Oa(t,e),ns(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(X2=Jr())),n&4&&F_(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(ri=(c=ri)||u,Oa(t,e),ri=c):Oa(t,e),ns(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(vt=e,u=e.child;u!==null;){for(d=vt=u;vt!==null;){switch(p=vt,h=p.child,p.tag){case 0:case 11:case 14:case 15:Zf(4,p,p.return);break;case 1:Jc(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(m){Wr(n,r,m)}}break;case 5:Jc(p,p.return);break;case 22:if(p.memoizedState!==null){R_(d);continue}}h!==null?(h.return=p,vt=h):R_(d)}u=u.sibling}e:for(u=null,d=e;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=N4("display",s))}catch(m){Wr(e,e.return,m)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){Wr(e,e.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Oa(t,e),ns(e),n&4&&F_(e);break;case 21:break;default:Oa(t,e),ns(e)}}function ns(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Y3(r)){var n=r;break e}r=r.return}throw Error(nt(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(ph(i,""),n.flags&=-33);var a=P_(e);_v(e,a,i);break;case 3:case 4:var s=n.stateNode.containerInfo,o=P_(e);yv(e,o,s);break;default:throw Error(nt(161))}}catch(l){Wr(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function KT(e,t,r){vt=e,J3(e)}function J3(e,t,r){for(var n=(e.mode&1)!==0;vt!==null;){var i=vt,a=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||t0;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||ri;o=t0;var c=ri;if(t0=s,(ri=l)&&!c)for(vt=i;vt!==null;)s=vt,l=s.child,s.tag===22&&s.memoizedState!==null?D_(i):l!==null?(l.return=s,vt=l):D_(i);for(;a!==null;)vt=a,J3(a),a=a.sibling;vt=i,t0=o,ri=c}I_(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,vt=a):I_(e)}}function I_(e){for(;vt!==null;){var t=vt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ri||t1(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ri)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Ia(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&y_(t,a,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}y_(t,s,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&xh(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(nt(163))}ri||t.flags&512&&xv(t)}catch(p){Wr(t,t.return,p)}}if(t===e){vt=null;break}if(r=t.sibling,r!==null){r.return=t.return,vt=r;break}vt=t.return}}function R_(e){for(;vt!==null;){var t=vt;if(t===e){vt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,vt=r;break}vt=t.return}}function D_(e){for(;vt!==null;){var t=vt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{t1(4,t)}catch(l){Wr(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){Wr(t,i,l)}}var a=t.return;try{xv(t)}catch(l){Wr(t,a,l)}break;case 5:var s=t.return;try{xv(t)}catch(l){Wr(t,s,l)}}}catch(l){Wr(t,t.return,l)}if(t===e){vt=null;break}var o=t.sibling;if(o!==null){o.return=t.return,vt=o;break}vt=t.return}}var YT=Math.ceil,dp=no.ReactCurrentDispatcher,K2=no.ReactCurrentOwner,ga=no.ReactCurrentBatchConfig,tr=0,Ln=null,fn=null,Hn=0,Wi=0,Qc=ll(0),Sn=0,jh=null,Xl=0,r1=0,Y2=0,Jf=null,Ni=null,X2=0,Su=1/0,Bs=null,pp=!1,bv=null,Go=null,r0=!1,Do=null,mp=0,Qf=0,wv=null,R0=-1,D0=0;function gi(){return tr&6?Jr():R0!==-1?R0:R0=Jr()}function Ko(e){return e.mode&1?tr&2&&Hn!==0?Hn&-Hn:LT.transition!==null?(D0===0&&(D0=R4()),D0):(e=mr,e!==0||(e=window.event,e=e===void 0?16:z4(e.type)),e):1}function $a(e,t,r,n){if(50<Qf)throw Qf=0,wv=null,Error(nt(185));Yh(e,r,n),(!(tr&2)||e!==Ln)&&(e===Ln&&(!(tr&2)&&(r1|=r),Sn===4&&Po(e,Hn)),ji(e,n),r===1&&tr===0&&!(t.mode&1)&&(Su=Jr()+500,Jp&&cl()))}function ji(e,t){var r=e.callbackNode;LA(e,t);var n=J0(e,e===Ln?Hn:0);if(n===0)r!==null&&Vy(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Vy(r),t===1)e.tag===0?CT(M_.bind(null,e)):l3(M_.bind(null,e)),AT(function(){!(tr&6)&&cl()}),r=null;else{switch(D4(n)){case 1:r=w2;break;case 4:r=F4;break;case 16:r=Z0;break;case 536870912:r=I4;break;default:r=Z0}r=sN(r,Q3.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Q3(e,t){if(R0=-1,D0=0,tr&6)throw Error(nt(327));var r=e.callbackNode;if(ou()&&e.callbackNode!==r)return null;var n=J0(e,e===Ln?Hn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=gp(e,n);else{t=n;var i=tr;tr|=2;var a=tN();(Ln!==e||Hn!==t)&&(Bs=null,Su=Jr()+500,zl(e,t));do try{JT();break}catch(o){eN(e,o)}while(!0);I2(),dp.current=a,tr=i,fn!==null?t=0:(Ln=null,Hn=0,t=Sn)}if(t!==0){if(t===2&&(i=Yg(e),i!==0&&(n=i,t=Nv(e,i))),t===1)throw r=jh,zl(e,0),Po(e,n),ji(e,Jr()),r;if(t===6)Po(e,n);else{if(i=e.current.alternate,!(n&30)&&!XT(i)&&(t=gp(e,n),t===2&&(a=Yg(e),a!==0&&(n=a,t=Nv(e,a))),t===1))throw r=jh,zl(e,0),Po(e,n),ji(e,Jr()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(nt(345));case 2:jl(e,Ni,Bs);break;case 3:if(Po(e,n),(n&130023424)===n&&(t=X2+500-Jr(),10<t)){if(J0(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){gi(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=nv(jl.bind(null,e,Ni,Bs),t);break}jl(e,Ni,Bs);break;case 4:if(Po(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var s=31-qa(n);a=1<<s,s=t[s],s>i&&(i=s),n&=~a}if(n=i,n=Jr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*YT(n/1960))-n,10<n){e.timeoutHandle=nv(jl.bind(null,e,Ni,Bs),n);break}jl(e,Ni,Bs);break;case 5:jl(e,Ni,Bs);break;default:throw Error(nt(329))}}}return ji(e,Jr()),e.callbackNode===r?Q3.bind(null,e):null}function Nv(e,t){var r=Jf;return e.current.memoizedState.isDehydrated&&(zl(e,t).flags|=256),e=gp(e,t),e!==2&&(t=Ni,Ni=r,t!==null&&Sv(t)),e}function Sv(e){Ni===null?Ni=e:Ni.push.apply(Ni,e)}function XT(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Ha(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Po(e,t){for(t&=~Y2,t&=~r1,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-qa(t),n=1<<r;e[r]=-1,t&=~n}}function M_(e){if(tr&6)throw Error(nt(327));ou();var t=J0(e,0);if(!(t&1))return ji(e,Jr()),null;var r=gp(e,t);if(e.tag!==0&&r===2){var n=Yg(e);n!==0&&(t=n,r=Nv(e,n))}if(r===1)throw r=jh,zl(e,0),Po(e,t),ji(e,Jr()),r;if(r===6)throw Error(nt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jl(e,Ni,Bs),ji(e,Jr()),null}function Z2(e,t){var r=tr;tr|=1;try{return e(t)}finally{tr=r,tr===0&&(Su=Jr()+500,Jp&&cl())}}function Zl(e){Do!==null&&Do.tag===0&&!(tr&6)&&ou();var t=tr;tr|=1;var r=ga.transition,n=mr;try{if(ga.transition=null,mr=1,e)return e()}finally{mr=n,ga.transition=r,tr=t,!(tr&6)&&cl()}}function J2(){Wi=Qc.current,Lr(Qc)}function zl(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,ET(r)),fn!==null)for(r=fn.return;r!==null;){var n=r;switch(L2(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&np();break;case 3:wu(),Lr(Ai),Lr(ai),q2();break;case 5:U2(n);break;case 4:wu();break;case 13:Lr(Mr);break;case 19:Lr(Mr);break;case 10:R2(n.type._context);break;case 22:case 23:J2()}r=r.return}if(Ln=e,fn=e=Yo(e.current,null),Hn=Wi=t,Sn=0,jh=null,Y2=r1=Xl=0,Ni=Jf=null,Ml!==null){for(t=0;t<Ml.length;t++)if(r=Ml[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var s=a.next;a.next=i,n.next=s}r.pending=n}Ml=null}return e}function eN(e,t){do{var r=fn;try{if(I2(),P0.current=hp,fp){for(var n=Br.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}fp=!1}if(Yl=0,An=Nn=Br=null,Xf=!1,Eh=0,K2.current=null,r===null||r.return===null){Sn=1,jh=t,fn=null;break}e:{var a=e,s=r.return,o=r,l=t;if(t=Hn,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=k_(s);if(h!==null){h.flags&=-257,E_(h,s,o,a,t),h.mode&1&&S_(a,c,t),t=h,l=c;var y=t.updateQueue;if(y===null){var m=new Set;m.add(l),t.updateQueue=m}else y.add(l);break e}else{if(!(t&1)){S_(a,c,t),Q2();break e}l=Error(nt(426))}}else if(Rr&&o.mode&1){var x=k_(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),E_(x,s,o,a,t),P2(Nu(l,o));break e}}a=l=Nu(l,o),Sn!==4&&(Sn=2),Jf===null?Jf=[a]:Jf.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var g=D3(a,l,t);x_(a,g);break e;case 1:o=l;var v=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Go===null||!Go.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t;var _=M3(a,o,t);x_(a,_);break e}}a=a.return}while(a!==null)}nN(r)}catch(E){t=E,fn===r&&r!==null&&(fn=r=r.return);continue}break}while(!0)}function tN(){var e=dp.current;return dp.current=hp,e===null?hp:e}function Q2(){(Sn===0||Sn===3||Sn===2)&&(Sn=4),Ln===null||!(Xl&268435455)&&!(r1&268435455)||Po(Ln,Hn)}function gp(e,t){var r=tr;tr|=2;var n=tN();(Ln!==e||Hn!==t)&&(Bs=null,zl(e,t));do try{ZT();break}catch(i){eN(e,i)}while(!0);if(I2(),tr=r,dp.current=n,fn!==null)throw Error(nt(261));return Ln=null,Hn=0,Sn}function ZT(){for(;fn!==null;)rN(fn)}function JT(){for(;fn!==null&&!NA();)rN(fn)}function rN(e){var t=aN(e.alternate,e,Wi);e.memoizedProps=e.pendingProps,t===null?nN(e):fn=t,K2.current=null}function nN(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=WT(r,t),r!==null){r.flags&=32767,fn=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Sn=6,fn=null;return}}else if(r=HT(r,t,Wi),r!==null){fn=r;return}if(t=t.sibling,t!==null){fn=t;return}fn=t=e}while(t!==null);Sn===0&&(Sn=5)}function jl(e,t,r){var n=mr,i=ga.transition;try{ga.transition=null,mr=1,QT(e,t,r,n)}finally{ga.transition=i,mr=n}return null}function QT(e,t,r,n){do ou();while(Do!==null);if(tr&6)throw Error(nt(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(nt(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(PA(e,a),e===Ln&&(fn=Ln=null,Hn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||r0||(r0=!0,sN(Z0,function(){return ou(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=ga.transition,ga.transition=null;var s=mr;mr=1;var o=tr;tr|=4,K2.current=null,GT(e,r),Z3(r,e),yT(tv),Q0=!!ev,tv=ev=null,e.current=r,KT(r),SA(),tr=o,mr=s,ga.transition=a}else e.current=r;if(r0&&(r0=!1,Do=e,mp=i),a=e.pendingLanes,a===0&&(Go=null),AA(r.stateNode),ji(e,Jr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(pp)throw pp=!1,e=bv,bv=null,e;return mp&1&&e.tag!==0&&ou(),a=e.pendingLanes,a&1?e===wv?Qf++:(Qf=0,wv=e):Qf=0,cl(),null}function ou(){if(Do!==null){var e=D4(mp),t=ga.transition,r=mr;try{if(ga.transition=null,mr=16>e?16:e,Do===null)var n=!1;else{if(e=Do,Do=null,mp=0,tr&6)throw Error(nt(331));var i=tr;for(tr|=4,vt=e.current;vt!==null;){var a=vt,s=a.child;if(vt.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(vt=c;vt!==null;){var u=vt;switch(u.tag){case 0:case 11:case 15:Zf(8,u,a)}var d=u.child;if(d!==null)d.return=u,vt=d;else for(;vt!==null;){u=vt;var p=u.sibling,h=u.return;if(K3(u),u===c){vt=null;break}if(p!==null){p.return=h,vt=p;break}vt=h}}}var y=a.alternate;if(y!==null){var m=y.child;if(m!==null){y.child=null;do{var x=m.sibling;m.sibling=null,m=x}while(m!==null)}}vt=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,vt=s;else e:for(;vt!==null;){if(a=vt,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Zf(9,a,a.return)}var g=a.sibling;if(g!==null){g.return=a.return,vt=g;break e}vt=a.return}}var v=e.current;for(vt=v;vt!==null;){s=vt;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,vt=b;else e:for(s=v;vt!==null;){if(o=vt,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:t1(9,o)}}catch(E){Wr(o,o.return,E)}if(o===s){vt=null;break e}var _=o.sibling;if(_!==null){_.return=o.return,vt=_;break e}vt=o.return}}if(tr=i,cl(),ps&&typeof ps.onPostCommitFiberRoot=="function")try{ps.onPostCommitFiberRoot(Gp,e)}catch{}n=!0}return n}finally{mr=r,ga.transition=t}}return!1}function B_(e,t,r){t=Nu(r,t),t=D3(e,t,1),e=Vo(e,t,1),t=gi(),e!==null&&(Yh(e,1,t),ji(e,t))}function Wr(e,t,r){if(e.tag===3)B_(e,e,r);else for(;t!==null;){if(t.tag===3){B_(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Go===null||!Go.has(n))){e=Nu(r,e),e=M3(t,e,1),t=Vo(t,e,1),e=gi(),t!==null&&(Yh(t,1,e),ji(t,e));break}}t=t.return}}function e8(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=gi(),e.pingedLanes|=e.suspendedLanes&r,Ln===e&&(Hn&r)===r&&(Sn===4||Sn===3&&(Hn&130023424)===Hn&&500>Jr()-X2?zl(e,0):Y2|=r),ji(e,t)}function iN(e,t){t===0&&(e.mode&1?(t=Vd,Vd<<=1,!(Vd&130023424)&&(Vd=4194304)):t=1);var r=gi();e=Qs(e,t),e!==null&&(Yh(e,t,r),ji(e,r))}function t8(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),iN(e,r)}function r8(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(nt(314))}n!==null&&n.delete(t),iN(e,r)}var aN;aN=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ai.current)ki=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ki=!1,zT(e,t,r);ki=!!(e.flags&131072)}else ki=!1,Rr&&t.flags&1048576&&c3(t,sp,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;I0(e,t),e=t.pendingProps;var i=yu(t,ai.current);su(t,r),i=z2(null,t,n,e,i,r);var a=H2();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ti(n)?(a=!0,ip(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,M2(t),i.updater=e1,t.stateNode=i,i._reactInternals=t,uv(t,n,e,r),t=dv(null,t,n,!0,a,r)):(t.tag=0,Rr&&a&&C2(t),hi(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(I0(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=i8(n),e=Ia(n,e),i){case 0:t=hv(null,t,n,e,r);break e;case 1:t=j_(null,t,n,e,r);break e;case 11:t=A_(null,t,n,e,r);break e;case 14:t=T_(null,t,n,Ia(n.type,e),r);break e}throw Error(nt(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ia(n,i),hv(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ia(n,i),j_(e,t,n,i,r);case 3:e:{if($3(t),e===null)throw Error(nt(387));n=t.pendingProps,a=t.memoizedState,i=a.element,m3(e,t),cp(t,n,null,r);var s=t.memoizedState;if(n=s.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Nu(Error(nt(423)),t),t=O_(e,t,n,r,i);break e}else if(n!==i){i=Nu(Error(nt(424)),t),t=O_(e,t,n,r,i);break e}else for(Yi=Wo(t.stateNode.containerInfo.firstChild),Ji=t,Rr=!0,Ma=null,r=d3(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(_u(),n===i){t=eo(e,t,r);break e}hi(e,t,n,r)}t=t.child}return t;case 5:return g3(t),e===null&&ov(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,s=i.children,rv(n,i)?s=null:a!==null&&rv(n,a)&&(t.flags|=32),q3(e,t),hi(e,t,s,r),t.child;case 6:return e===null&&ov(t),null;case 13:return z3(e,t,r);case 4:return B2(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=bu(t,null,n,r):hi(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ia(n,i),A_(e,t,n,i,r);case 7:return hi(e,t,t.pendingProps,r),t.child;case 8:return hi(e,t,t.pendingProps.children,r),t.child;case 12:return hi(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,kr(op,n._currentValue),n._currentValue=s,a!==null)if(Ha(a.value,s)){if(a.children===i.children&&!Ai.current){t=eo(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=Vs(-1,r&-r),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),lv(a.return,r,t),o.lanes|=r;break}l=l.next}}else if(a.tag===10)s=a.type===t.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(nt(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),lv(s,r,t),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}hi(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,su(t,r),i=va(i),n=n(i),t.flags|=1,hi(e,t,n,r),t.child;case 14:return n=t.type,i=Ia(n,t.pendingProps),i=Ia(n.type,i),T_(e,t,n,i,r);case 15:return B3(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ia(n,i),I0(e,t),t.tag=1,Ti(n)?(e=!0,ip(t)):e=!1,su(t,r),R3(t,n,i),uv(t,n,i,r),dv(null,t,n,!0,e,r);case 19:return H3(e,t,r);case 22:return U3(e,t,r)}throw Error(nt(156,t.tag))};function sN(e,t){return P4(e,t)}function n8(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ma(e,t,r,n){return new n8(e,t,r,n)}function ex(e){return e=e.prototype,!(!e||!e.isReactComponent)}function i8(e){if(typeof e=="function")return ex(e)?1:0;if(e!=null){if(e=e.$$typeof,e===y2)return 11;if(e===_2)return 14}return 2}function Yo(e,t){var r=e.alternate;return r===null?(r=ma(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function M0(e,t,r,n,i,a){var s=2;if(n=e,typeof e=="function")ex(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case zc:return Hl(r.children,i,a,t);case x2:s=8,i|=8;break;case Fg:return e=ma(12,r,t,i|2),e.elementType=Fg,e.lanes=a,e;case Ig:return e=ma(13,r,t,i),e.elementType=Ig,e.lanes=a,e;case Rg:return e=ma(19,r,t,i),e.elementType=Rg,e.lanes=a,e;case g4:return n1(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case p4:s=10;break e;case m4:s=9;break e;case y2:s=11;break e;case _2:s=14;break e;case Oo:s=16,n=null;break e}throw Error(nt(130,e==null?e:typeof e,""))}return t=ma(s,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function Hl(e,t,r,n){return e=ma(7,e,n,t),e.lanes=r,e}function n1(e,t,r,n){return e=ma(22,e,n,t),e.elementType=g4,e.lanes=r,e.stateNode={isHidden:!1},e}function Rm(e,t,r){return e=ma(6,e,null,t),e.lanes=r,e}function Dm(e,t,r){return t=ma(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function a8(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vm(0),this.expirationTimes=vm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vm(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function tx(e,t,r,n,i,a,s,o,l){return e=new a8(e,t,r,o,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=ma(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},M2(a),e}function s8(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$c,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function oN(e){if(!e)return rl;e=e._reactInternals;e:{if(ac(e)!==e||e.tag!==1)throw Error(nt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ti(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(nt(171))}if(e.tag===1){var r=e.type;if(Ti(r))return o3(e,r,t)}return t}function lN(e,t,r,n,i,a,s,o,l){return e=tx(r,n,!0,e,i,a,s,o,l),e.context=oN(null),r=e.current,n=gi(),i=Ko(r),a=Vs(n,i),a.callback=t??null,Vo(r,a,i),e.current.lanes=i,Yh(e,i,n),ji(e,n),e}function i1(e,t,r,n){var i=t.current,a=gi(),s=Ko(i);return r=oN(r),t.context===null?t.context=r:t.pendingContext=r,t=Vs(a,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Vo(i,t,s),e!==null&&($a(e,i,s,a),L0(e,i,s)),s}function vp(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function U_(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function rx(e,t){U_(e,t),(e=e.alternate)&&U_(e,t)}function o8(){return null}var cN=typeof reportError=="function"?reportError:function(e){console.error(e)};function nx(e){this._internalRoot=e}a1.prototype.render=nx.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(nt(409));i1(e,t,null,null)};a1.prototype.unmount=nx.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Zl(function(){i1(null,e,null,null)}),t[Js]=null}};function a1(e){this._internalRoot=e}a1.prototype.unstable_scheduleHydration=function(e){if(e){var t=U4();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Lo.length&&t!==0&&t<Lo[r].priority;r++);Lo.splice(r,0,e),r===0&&$4(e)}};function ix(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function s1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function q_(){}function l8(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var c=vp(s);a.call(c)}}var s=lN(t,n,e,0,null,!1,!1,"",q_);return e._reactRootContainer=s,e[Js]=s.current,bh(e.nodeType===8?e.parentNode:e),Zl(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var c=vp(l);o.call(c)}}var l=tx(e,0,!1,null,null,!1,!1,"",q_);return e._reactRootContainer=l,e[Js]=l.current,bh(e.nodeType===8?e.parentNode:e),Zl(function(){i1(t,l,r,n)}),l}function o1(e,t,r,n,i){var a=r._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=vp(s);o.call(l)}}i1(t,s,e,i)}else s=l8(r,t,e,i,n);return vp(s)}M4=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Bf(t.pendingLanes);r!==0&&(N2(t,r|1),ji(t,Jr()),!(tr&6)&&(Su=Jr()+500,cl()))}break;case 13:Zl(function(){var n=Qs(e,1);if(n!==null){var i=gi();$a(n,e,1,i)}}),rx(e,1)}};S2=function(e){if(e.tag===13){var t=Qs(e,134217728);if(t!==null){var r=gi();$a(t,e,134217728,r)}rx(e,134217728)}};B4=function(e){if(e.tag===13){var t=Ko(e),r=Qs(e,t);if(r!==null){var n=gi();$a(r,e,t,n)}rx(e,t)}};U4=function(){return mr};q4=function(e,t){var r=mr;try{return mr=e,t()}finally{mr=r}};Vg=function(e,t,r){switch(t){case"input":if(Bg(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Zp(n);if(!i)throw Error(nt(90));x4(n),Bg(n,i)}}}break;case"textarea":_4(e,r);break;case"select":t=r.value,t!=null&&ru(e,!!r.multiple,t,!1)}};A4=Z2;T4=Zl;var c8={usingClientEntryPoint:!1,Events:[Zh,Gc,Zp,k4,E4,Z2]},jf={findFiberByHostInstance:Dl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},u8={bundleType:jf.bundleType,version:jf.version,rendererPackageName:jf.rendererPackageName,rendererConfig:jf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:no.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=C4(e),e===null?null:e.stateNode},findFiberByHostInstance:jf.findFiberByHostInstance||o8,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var n0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!n0.isDisabled&&n0.supportsFiber)try{Gp=n0.inject(u8),ps=n0}catch{}}ta.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=c8;ta.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ix(t))throw Error(nt(200));return s8(e,t,null,r)};ta.createRoot=function(e,t){if(!ix(e))throw Error(nt(299));var r=!1,n="",i=cN;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=tx(e,1,!1,null,null,r,!1,n,i),e[Js]=t.current,bh(e.nodeType===8?e.parentNode:e),new nx(t)};ta.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(nt(188)):(e=Object.keys(e).join(","),Error(nt(268,e)));return e=C4(t),e=e===null?null:e.stateNode,e};ta.flushSync=function(e){return Zl(e)};ta.hydrate=function(e,t,r){if(!s1(t))throw Error(nt(200));return o1(null,e,t,!0,r)};ta.hydrateRoot=function(e,t,r){if(!ix(e))throw Error(nt(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",s=cN;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=lN(t,null,e,1,r??null,i,!1,a,s),e[Js]=t.current,bh(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new a1(t)};ta.render=function(e,t,r){if(!s1(t))throw Error(nt(200));return o1(null,e,t,!1,r)};ta.unmountComponentAtNode=function(e){if(!s1(e))throw Error(nt(40));return e._reactRootContainer?(Zl(function(){o1(null,null,e,!1,function(){e._reactRootContainer=null,e[Js]=null})}),!0):!1};ta.unstable_batchedUpdates=Z2;ta.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!s1(r))throw Error(nt(200));if(e==null||e._reactInternals===void 0)throw Error(nt(38));return o1(e,t,r,!1,n)};ta.version="18.3.1-next-f1338f8080-20240426";function uN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uN)}catch(e){console.error(e)}}uN(),u4.exports=ta;var fN=u4.exports,hN,$_=fN;hN=$_.createRoot,$_.hydrateRoot;const f8="modulepreload",h8=function(e){return"/"+e},z_={},Xo=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(r.map(l=>{if(l=h8(l),l in z_)return;z_[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":f8,c||(d.as="script"),d.crossOrigin="",d.href=l,o&&d.setAttribute("nonce",o),document.head.appendChild(d),c)return new Promise((p,h)=>{d.addEventListener("load",p),d.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return i.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return t().catch(a)})},d8=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Xo(async()=>{const{default:n}=await Promise.resolve().then(()=>Iu);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class ax extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class p8 extends ax{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class H_ extends ax{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class W_ extends ax{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var kv;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(kv||(kv={}));var m8=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(u){try{c(n.next(u))}catch(d){s(d)}}function l(u){try{c(n.throw(u))}catch(d){s(d)}}function c(u){u.done?a(u.value):i(u.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};class g8{constructor(t,{headers:r={},customFetch:n,region:i=kv.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=d8(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return m8(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:s}=r;let o={},{region:l}=r;l||(l=this.region);const c=new URL(`${this.url}/${t}`);l&&l!=="any"&&(o["x-region"]=l,c.searchParams.set("forceFunctionRegion",l));let u;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",u=s):typeof s=="string"?(o["Content-Type"]="text/plain",u=s):typeof FormData<"u"&&s instanceof FormData?u=s:(o["Content-Type"]="application/json",u=JSON.stringify(s)));const d=yield this.fetch(c.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),i),body:u}).catch(m=>{throw new p8(m)}),p=d.headers.get("x-relay-error");if(p&&p==="true")throw new H_(d);if(!d.ok)throw new W_(d);let h=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),y;return h==="application/json"?y=yield d.json():h==="application/octet-stream"?y=yield d.blob():h==="text/event-stream"?y=d:h==="multipart/form-data"?y=yield d.formData():y=yield d.text(),{data:y,error:null,response:d}}catch(i){return{data:null,error:i,response:i instanceof W_||i instanceof H_?i.context:void 0}}})}}var Si={},sx={},l1={},Qh={},c1={},u1={},v8=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ku=v8();const x8=ku.fetch,dN=ku.fetch.bind(ku),pN=ku.Headers,y8=ku.Request,_8=ku.Response,Iu=Object.freeze(Object.defineProperty({__proto__:null,Headers:pN,Request:y8,Response:_8,default:dN,fetch:x8},Symbol.toStringTag,{value:"Module"})),b8=BE(Iu);var f1={};Object.defineProperty(f1,"__esModule",{value:!0});let w8=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};f1.default=w8;var mN=Cr&&Cr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(u1,"__esModule",{value:!0});const N8=mN(b8),S8=mN(f1);let k8=class{constructor(t){var r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(r=t.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=N8.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=new Headers(this.headers),this.headers.set(t,r),this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var s,o,l,c;let u=null,d=null,p=null,h=a.status,y=a.statusText;if(a.ok){if(this.method!=="HEAD"){const v=await a.text();v===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((s=this.headers.get("Accept"))===null||s===void 0)&&s.includes("application/vnd.pgrst.plan+text"))?d=v:d=JSON.parse(v))}const x=(o=this.headers.get("Prefer"))===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),g=(l=a.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");x&&g&&g.length>1&&(p=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,p=null,h=406,y="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const x=await a.text();try{u=JSON.parse(x),Array.isArray(u)&&a.status===404&&(d=[],u=null,h=200,y="OK")}catch{a.status===404&&x===""?(h=204,y="No Content"):u={message:x}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,y="OK"),u&&this.shouldThrowOnError)throw new S8.default(u)}return{error:u,data:d,count:p,status:h,statusText:y}});return this.shouldThrowOnError||(i=i.catch(a=>{var s,o,l;return{error:{message:`${(s=a==null?void 0:a.name)!==null&&s!==void 0?s:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(o=a==null?void 0:a.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(l=a==null?void 0:a.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,r)}returns(){return this}overrideTypes(){return this}};u1.default=k8;var E8=Cr&&Cr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(c1,"__esModule",{value:!0});const A8=E8(u1);let T8=class extends A8.default{select(t){let r=!1;const n=(t??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:a=i}={}){const s=a?`${a}.order`:"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?`${o},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:i=n}={}){const a=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(s,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:a=!1,format:s="text"}={}){var o;const l=[t?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${c}"; options=${l};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};c1.default=T8;var j8=Cr&&Cr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qh,"__esModule",{value:!0});const O8=j8(c1);let C8=class extends O8.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const s=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${a}fts${s}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Qh.default=C8;var L8=Cr&&Cr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(l1,"__esModule",{value:!0});const Of=L8(Qh);let P8=class{constructor(t,{headers:r={},schema:n,fetch:i}){this.url=t,this.headers=new Headers(r),this.schema=n,this.fetch=i}select(t,{head:r=!1,count:n}={}){const i=r?"HEAD":"GET";let a=!1;const s=(t??"*").split("").map(o=>/\s/.test(o)&&!a?"":(o==='"'&&(a=!a),o)).join("");return this.url.searchParams.set("select",s),n&&this.headers.append("Prefer",`count=${n}`),new Of.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:r,defaultToNull:n=!0}={}){var i;const a="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const s=t.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(s.length>0){const o=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new Of.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:a=!0}={}){var s;const o="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),i&&this.headers.append("Prefer",`count=${i}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const l=t.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Of.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(t,{count:r}={}){var n;const i="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new Of.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var r;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Of.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};l1.default=P8;var gN=Cr&&Cr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(sx,"__esModule",{value:!0});const F8=gN(l1),I8=gN(Qh);let R8=class vN{constructor(t,{headers:r={},schema:n,fetch:i}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=i}from(t){const r=new URL(`${this.url}/${t}`);return new F8.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new vN(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:i=!1,count:a}={}){var s;let o;const l=new URL(`${this.url}/rpc/${t}`);let c;n||i?(o=n?"HEAD":"GET",Object.entries(r).filter(([d,p])=>p!==void 0).map(([d,p])=>[d,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([d,p])=>{l.searchParams.append(d,p)})):(o="POST",c=r);const u=new Headers(this.headers);return a&&u.set("Prefer",`count=${a}`),new I8.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};sx.default=R8;var Ru=Cr&&Cr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Si,"__esModule",{value:!0});Si.PostgrestError=Si.PostgrestBuilder=Si.PostgrestTransformBuilder=Si.PostgrestFilterBuilder=Si.PostgrestQueryBuilder=Si.PostgrestClient=void 0;const xN=Ru(sx);Si.PostgrestClient=xN.default;const yN=Ru(l1);Si.PostgrestQueryBuilder=yN.default;const _N=Ru(Qh);Si.PostgrestFilterBuilder=_N.default;const bN=Ru(c1);Si.PostgrestTransformBuilder=bN.default;const wN=Ru(u1);Si.PostgrestBuilder=wN.default;const NN=Ru(f1);Si.PostgrestError=NN.default;var D8=Si.default={PostgrestClient:xN.default,PostgrestQueryBuilder:yN.default,PostgrestFilterBuilder:_N.default,PostgrestTransformBuilder:bN.default,PostgrestBuilder:wN.default,PostgrestError:NN.default};const{PostgrestClient:M8,PostgrestQueryBuilder:fK,PostgrestFilterBuilder:hK,PostgrestTransformBuilder:dK,PostgrestBuilder:pK,PostgrestError:mK}=D8;class B8{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const U8="2.15.5",q8=`realtime-js/${U8}`,$8="1.0.0",Ev=1e4,z8=1e3,H8=100;var eh;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(eh||(eh={}));var _n;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(_n||(_n={}));var Da;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Da||(Da={}));var Av;(function(e){e.websocket="websocket"})(Av||(Av={}));var Pl;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Pl||(Pl={}));class W8{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const i=r.getUint8(1),a=r.getUint8(2);let s=this.HEADER_LENGTH+2;const o=n.decode(t.slice(s,s+i));s=s+i;const l=n.decode(t.slice(s,s+a));s=s+a;const c=JSON.parse(n.decode(t.slice(s,t.byteLength)));return{ref:null,topic:o,event:l,payload:c}}}class SN{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Sr;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Sr||(Sr={}));const V_=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((a,s)=>(a[s]=V8(s,e,t,i),a),{})},V8=(e,t,r,n)=>{const i=t.find(o=>o.name===e),a=i==null?void 0:i.type,s=r[e];return a&&!n.includes(a)?kN(a,s):Tv(s)},kN=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return X8(t,r)}switch(e){case Sr.bool:return G8(t);case Sr.float4:case Sr.float8:case Sr.int2:case Sr.int4:case Sr.int8:case Sr.numeric:case Sr.oid:return K8(t);case Sr.json:case Sr.jsonb:return Y8(t);case Sr.timestamp:return Z8(t);case Sr.abstime:case Sr.date:case Sr.daterange:case Sr.int4range:case Sr.int8range:case Sr.money:case Sr.reltime:case Sr.text:case Sr.time:case Sr.timestamptz:case Sr.timetz:case Sr.tsrange:case Sr.tstzrange:return Tv(t);default:return Tv(t)}},Tv=e=>e,G8=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},K8=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Y8=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},X8=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const s=e.slice(1,r);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(o=>kN(t,o))}return e},Z8=e=>typeof e=="string"?e.replace(" ","T"):e,EN=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Mm{constructor(t,r,n={},i=Ev){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var G_;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(G_||(G_={}));class th{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=th.syncState(this.state,i,a,s),this.pendingDiffs.forEach(l=>{this.state=th.syncDiff(this.state,l,a,s)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=th.syncDiff(this.state,i,a,s),o())}),this.onJoin((i,a,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:s})}),this.onLeave((i,a,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const a=this.cloneDeep(t),s=this.transformState(r),o={},l={};return this.map(a,(c,u)=>{s[c]||(l[c]=u)}),this.map(s,(c,u)=>{const d=a[c];if(d){const p=u.map(x=>x.presence_ref),h=d.map(x=>x.presence_ref),y=u.filter(x=>h.indexOf(x.presence_ref)<0),m=d.filter(x=>p.indexOf(x.presence_ref)<0);y.length>0&&(o[c]=y),m.length>0&&(l[c]=m)}else o[c]=u}),this.syncDiff(a,{joins:o,leaves:l},n,i)}static syncDiff(t,r,n,i){const{joins:a,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(o,l)=>{var c;const u=(c=t[o])!==null&&c!==void 0?c:[];if(t[o]=this.cloneDeep(l),u.length>0){const d=t[o].map(h=>h.presence_ref),p=u.filter(h=>d.indexOf(h.presence_ref)<0);t[o].unshift(...p)}n(o,u,l)}),this.map(s,(o,l)=>{let c=t[o];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),t[o]=c,i(o,c,l),c.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var K_;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(K_||(K_={}));var rh;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(rh||(rh={}));var Us;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Us||(Us={}));class ox{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=_n.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Mm(this,Da.join,this.params,this.timeout),this.rejoinTimer=new SN(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=_n.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=_n.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=_n.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=_n.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=_n.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Da.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new th(this),this.broadcastEndpointURL=EN(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==_n.closed){const{config:{broadcast:s,presence:o,private:l}}=this.params,c=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(h=>h.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[rh.PRESENCE]&&this.bindings[rh.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,d={},p={broadcast:s,presence:Object.assign(Object.assign({},o),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(h=>t==null?void 0:t(Us.CHANNEL_ERROR,h)),this._onClose(()=>t==null?void 0:t(Us.CLOSED)),this.updateJoinPayload(Object.assign({config:p},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:h})=>{var y;if(this.socket.setAuth(),h===void 0){t==null||t(Us.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,x=(y=m==null?void 0:m.length)!==null&&y!==void 0?y:0,g=[];for(let v=0;v<x;v++){const b=m[v],{filter:{event:_,schema:E,table:F,filter:A}}=b,O=h&&h[v];if(O&&O.event===_&&O.schema===E&&O.table===F&&O.filter===A)g.push(Object.assign(Object.assign({},b),{id:O.id}));else{this.unsubscribe(),this.state=_n.errored,t==null||t(Us.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(Us.SUBSCRIBED);return}}).receive("error",h=>{this.state=_n.errored,t==null||t(Us.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Us.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===_n.joined&&t===rh.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:s}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,o,l;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(o=(s=this.params)===null||s===void 0?void 0:s.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),c.receive("ok",()=>a("ok")),c.receive("error",()=>a("error")),c.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=_n.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Da.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Mm(this,Da.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=_n.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),s=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),s}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Mm(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>H8){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,a;const s=t.toLocaleLowerCase(),{close:o,error:l,leave:c,join:u}=Da;if(n&&[o,l,c,u].indexOf(s)>=0&&n!==this._joinRef())return;let p=this._onMessage(s,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(h=>{var y,m,x;return((y=h.filter)===null||y===void 0?void 0:y.event)==="*"||((x=(m=h.filter)===null||m===void 0?void 0:m.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===s}).map(h=>h.callback(p,n)):(a=this.bindings[s])===null||a===void 0||a.filter(h=>{var y,m,x,g,v,b;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in h){const _=h.id,E=(y=h.filter)===null||y===void 0?void 0:y.event;return _&&((m=r.ids)===null||m===void 0?void 0:m.includes(_))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const _=(v=(g=h==null?void 0:h.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return _==="*"||_===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===s}).map(h=>{if(typeof p=="object"&&"ids"in p){const y=p.data,{schema:m,table:x,commit_timestamp:g,type:v,errors:b}=y;p=Object.assign(Object.assign({},{schema:m,table:x,commit_timestamp:g,eventType:v,new:{},old:{},errors:b}),this._getPayloadRecords(y))}h.callback(p,n)})}_isClosed(){return this.state===_n.closed}_isJoined(){return this.state===_n.joined}_isJoining(){return this.state===_n.joining}_isLeaving(){return this.state===_n.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&ox.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Da.close,{},t)}_onError(t){this._on(Da.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=_n.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=V_(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=V_(t.columns,t.old_record)),r}}const Bm=()=>{},i0={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},J8=[1e3,2e3,5e3,1e4],Q8=1e4,ej=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class tj{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ev,this.transport=null,this.heartbeatIntervalMs=i0.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Bm,this.ref=0,this.reconnectTimer=null,this.logger=Bm,this.conn=null,this.sendBuffer=[],this.serializer=new W8,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...s)=>Xo(async()=>{const{default:o}=await Promise.resolve().then(()=>Iu);return{default:o}},void 0).then(({default:o})=>o(...s)).catch(o=>{throw new Error(`Failed to load @supabase/node-fetch: ${o.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...s)=>a(...s)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Av.websocket}`,this.httpEndpoint=EN(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=B8.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:$8}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case eh.connecting:return Pl.Connecting;case eh.open:return Pl.Open;case eh.closing:return Pl.Closing;default:return Pl.Closed}}isConnected(){return this.connectionState()===Pl.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new ox(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:i,ref:a}=t,s=()=>{this.encode(t,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(z8,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},i0.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:a,ref:s}=r,o=s?`(${s})`:"",l=a.status||"";this.log("receive",`${l} ${n} ${i} ${o}`.trim(),a),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(i,a,s)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Da.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([ej],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:q8};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(Da.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new SN(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},i0.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,a,s,o,l,c,u;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Ev,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:i0.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(s=t==null?void 0:t.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(o=t==null?void 0:t.heartbeatCallback)!==null&&o!==void 0?o:Bm,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=t==null?void 0:t.reconnectAfterMs)!==null&&l!==void 0?l:d=>J8[d-1]||Q8,this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(d,p)=>p(JSON.stringify(d)),this.decode=(u=t==null?void 0:t.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class lx extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function wn(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class rj extends lx{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class jv extends lx{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var nj=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(u){try{c(n.next(u))}catch(d){s(d)}}function l(u){try{c(n.throw(u))}catch(d){s(d)}}function c(u){u.done?a(u.value):i(u.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};const AN=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Xo(async()=>{const{default:n}=await Promise.resolve().then(()=>Iu);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},ij=()=>nj(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Xo(()=>Promise.resolve().then(()=>Iu),void 0)).Response:Response}),Ov=e=>{if(Array.isArray(e))return e.map(r=>Ov(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=Ov(n)}),t},aj=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var sc=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(u){try{c(n.next(u))}catch(d){s(d)}}function l(u){try{c(n.throw(u))}catch(d){s(d)}}function c(u){u.done?a(u.value):i(u.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};const Um=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),sj=(e,t,r)=>sc(void 0,void 0,void 0,function*(){const n=yield ij();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{const a=e.status||500,s=(i==null?void 0:i.statusCode)||a+"";t(new rj(Um(i),a,s))}).catch(i=>{t(new jv(Um(i),i))}):t(new jv(Um(e),e))}),oj=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?i:(aj(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),r))};function ed(e,t,r,n,i,a){return sc(this,void 0,void 0,function*(){return new Promise((s,o)=>{e(r,oj(t,n,i,a)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>sj(l,o,n))})})}function xp(e,t,r,n){return sc(this,void 0,void 0,function*(){return ed(e,"GET",t,r,n)})}function us(e,t,r,n,i){return sc(this,void 0,void 0,function*(){return ed(e,"POST",t,n,i,r)})}function Cv(e,t,r,n,i){return sc(this,void 0,void 0,function*(){return ed(e,"PUT",t,n,i,r)})}function lj(e,t,r,n){return sc(this,void 0,void 0,function*(){return ed(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function TN(e,t,r,n,i){return sc(this,void 0,void 0,function*(){return ed(e,"DELETE",t,n,i,r)})}var fi=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(u){try{c(n.next(u))}catch(d){s(d)}}function l(u){try{c(n.throw(u))}catch(d){s(d)}}function c(u){u.done?a(u.value):i(u.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};const cj={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Y_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class uj{constructor(t,r={},n,i){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=AN(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,i){return fi(this,void 0,void 0,function*(){try{let a;const s=Object.assign(Object.assign({},Y_),i);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const l=s.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),l&&a.append("metadata",this.encodeMetadata(l)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",s.cacheControl),l&&a.append("metadata",this.encodeMetadata(l))):(a=n,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const c=this._removeEmptyFolders(r),u=this._getFinalPath(c),d=yield(t=="PUT"?Cv:us)(this.fetch,`${this.url}/object/${u}`,a,Object.assign({headers:o},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:c,id:d.Id,fullPath:d.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(wn(a))return{data:null,error:a};throw a}})}upload(t,r,n){return fi(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return fi(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),s=this._getFinalPath(a),o=new URL(this.url+`/object/upload/sign/${s}`);o.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:Y_.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield Cv(this.fetch,o.toString(),l,{headers:u});return{data:{path:a,fullPath:d.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(wn(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return fi(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const a=yield us(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),s=new URL(this.url+a.url),o=s.searchParams.get("token");if(!o)throw new lx("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:o},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wn(n))return{data:null,error:n};throw n}})}update(t,r,n){return fi(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return fi(this,void 0,void 0,function*(){try{return{data:yield us(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(wn(i))return{data:null,error:i};throw i}})}copy(t,r,n){return fi(this,void 0,void 0,function*(){try{return{data:{path:(yield us(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(wn(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return fi(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield us(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${s}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(wn(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return fi(this,void 0,void 0,function*(){try{const i=yield us(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(wn(i))return{data:null,error:i};throw i}})}download(t,r){return fi(this,void 0,void 0,function*(){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),s=a?`?${a}`:"";try{const o=this._getFinalPath(t);return{data:yield(yield xp(this.fetch,`${this.url}/${i}/${o}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(wn(o))return{data:null,error:o};throw o}})}info(t){return fi(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield xp(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Ov(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wn(n))return{data:null,error:n};throw n}})}exists(t){return fi(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield lj(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wn(n)&&n instanceof jv){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${c}`)}}}remove(t){return fi(this,void 0,void 0,function*(){try{return{data:yield TN(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wn(r))return{data:null,error:r};throw r}})}list(t,r,n){return fi(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},cj),r),{prefix:t||""});return{data:yield us(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(wn(i))return{data:null,error:i};throw i}})}listV2(t,r){return fi(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield us(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wn(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const fj="2.12.1",hj={"X-Client-Info":`storage-js/${fj}`};var kc=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(u){try{c(n.next(u))}catch(d){s(d)}}function l(u){try{c(n.throw(u))}catch(d){s(d)}}function c(u){u.done?a(u.value):i(u.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};class dj{constructor(t,r={},n,i){this.shouldThrowOnError=!1;const a=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},hj),r),this.fetch=AN(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return kc(this,void 0,void 0,function*(){try{return{data:yield xp(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(wn(t))return{data:null,error:t};throw t}})}getBucket(t){return kc(this,void 0,void 0,function*(){try{return{data:yield xp(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wn(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return kc(this,void 0,void 0,function*(){try{return{data:yield us(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wn(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return kc(this,void 0,void 0,function*(){try{return{data:yield Cv(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wn(n))return{data:null,error:n};throw n}})}emptyBucket(t){return kc(this,void 0,void 0,function*(){try{return{data:yield us(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wn(r))return{data:null,error:r};throw r}})}deleteBucket(t){return kc(this,void 0,void 0,function*(){try{return{data:yield TN(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wn(r))return{data:null,error:r};throw r}})}}class pj extends dj{constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new uj(this.url,this.headers,t,this.fetch)}}const mj="2.57.4";let qf="";typeof Deno<"u"?qf="deno":typeof document<"u"?qf="web":typeof navigator<"u"&&navigator.product==="ReactNative"?qf="react-native":qf="node";const gj={"X-Client-Info":`supabase-js-${qf}/${mj}`},vj={headers:gj},xj={schema:"public"},yj={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},_j={};var bj=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(u){try{c(n.next(u))}catch(d){s(d)}}function l(u){try{c(n.throw(u))}catch(d){s(d)}}function c(u){u.done?a(u.value):i(u.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};const wj=e=>{let t;return e?t=e:typeof fetch>"u"?t=dN:t=fetch,(...r)=>t(...r)},Nj=()=>typeof Headers>"u"?pN:Headers,Sj=(e,t,r)=>{const n=wj(r),i=Nj();return(a,s)=>bj(void 0,void 0,void 0,function*(){var o;const l=(o=yield t())!==null&&o!==void 0?o:e;let c=new i(s==null?void 0:s.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(a,Object.assign(Object.assign({},s),{headers:c}))})};var kj=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(u){try{c(n.next(u))}catch(d){s(d)}}function l(u){try{c(n.throw(u))}catch(d){s(d)}}function c(u){u.done?a(u.value):i(u.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};function Ej(e){return e.endsWith("/")?e:e+"/"}function Aj(e,t){var r,n;const{db:i,auth:a,realtime:s,global:o}=e,{db:l,auth:c,realtime:u,global:d}=t,p={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),a),realtime:Object.assign(Object.assign({},u),s),storage:{},global:Object.assign(Object.assign(Object.assign({},d),o),{headers:Object.assign(Object.assign({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>kj(this,void 0,void 0,function*(){return""})};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}function Tj(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Ej(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const jN="2.71.1",Dc=30*1e3,Lv=3,qm=Lv*Dc,jj="http://localhost:9999",Oj="supabase.auth.token",Cj={"X-Client-Info":`gotrue-js/${jN}`},Pv="X-Supabase-Api-Version",ON={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Lj=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Pj=10*60*1e3;class cx extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function zt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Fj extends cx{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Ij(e){return zt(e)&&e.name==="AuthApiError"}class CN extends cx{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class ul extends cx{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class To extends ul{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Rj(e){return zt(e)&&e.name==="AuthSessionMissingError"}class a0 extends ul{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class s0 extends ul{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class o0 extends ul{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Dj(e){return zt(e)&&e.name==="AuthImplicitGrantRedirectError"}class X_ extends ul{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Fv extends ul{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function $m(e){return zt(e)&&e.name==="AuthRetryableFetchError"}class Z_ extends ul{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Iv extends ul{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const yp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),J_=` 	
\r=`.split(""),Mj=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<J_.length;t+=1)e[J_[t].charCodeAt(0)]=-2;for(let t=0;t<yp.length;t+=1)e[yp[t].charCodeAt(0)]=t;return e})();function Q_(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(yp[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(yp[n]),t.queuedBits-=6}}function LN(e,t,r){const n=Mj[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function eb(e){const t=[],r=s=>{t.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=s=>{qj(s,n,r)};for(let s=0;s<e.length;s+=1)LN(e.charCodeAt(s),i,a);return t.join("")}function Bj(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Uj(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}Bj(n,t)}}function qj(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function $j(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)LN(e.charCodeAt(i),r,n);return new Uint8Array(t)}function zj(e){const t=[];return Uj(e,r=>t.push(r)),new Uint8Array(t)}function Hj(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>Q_(i,r,n)),Q_(null,r,n),t.join("")}function Wj(e){return Math.round(Date.now()/1e3)+e}function Vj(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Fa=()=>typeof window<"u"&&typeof document<"u",El={tested:!1,writable:!1},PN=()=>{if(!Fa())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(El.tested)return El.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),El.tested=!0,El.writable=!0}catch{El.tested=!0,El.writable=!1}return El.writable};function Gj(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const FN=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Xo(async()=>{const{default:n}=await Promise.resolve().then(()=>Iu);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Kj=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Mc=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Al=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},So=async(e,t)=>{await e.removeItem(t)};class h1{constructor(){this.promise=new h1.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}h1.promiseConstructor=Promise;function zm(e){const t=e.split(".");if(t.length!==3)throw new Iv("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Lj.test(t[n]))throw new Iv("JWT not in base64url format");return{header:JSON.parse(eb(t[0])),payload:JSON.parse(eb(t[1])),signature:$j(t[2]),raw:{header:t[0],payload:t[1]}}}async function Yj(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Xj(e,t){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await e(a);if(!t(a,null,s)){n(s);return}}catch(s){if(!t(a,s)){i(s);return}}})()})}function Zj(e){return("0"+e.toString(16)).substr(-2)}function Jj(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,Zj).join("")}async function Qj(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function eO(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Qj(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ec(e,t,r=!1){const n=Jj();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Mc(e,`${t}-code-verifier`,i);const a=await eO(n);return[a,n===a?"plain":"s256"]}const tO=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function rO(e){const t=e.headers.get(Pv);if(!t||!t.match(tO))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function nO(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function iO(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const aO=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ac(e){if(!aO.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Hm(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function tb(e){return JSON.parse(JSON.stringify(e))}var sO=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const Ol=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),oO=[502,503,504];async function rb(e){var t;if(!Kj(e))throw new Fv(Ol(e),0);if(oO.includes(e.status))throw new Fv(Ol(e),e.status);let r;try{r=await e.json()}catch(a){throw new CN(Ol(a),a)}let n;const i=rO(e);if(i&&i.getTime()>=ON["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Z_(Ol(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new To}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new Z_(Ol(r),e.status,r.weak_password.reasons);throw new Fj(Ol(r),e.status||500,n)}const lO=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Gt(e,t,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[Pv]||(a[Pv]=ON["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const s=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await cO(e,t,r+o,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function cO(e,t,r,n,i,a){const s=lO(t,n,i,a);let o;try{o=await e(r,Object.assign({},s))}catch(l){throw console.error(l),new Fv(Ol(l),0)}if(o.ok||await rb(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await rb(l)}}function Ms(e){var t;let r=null;dO(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Wj(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function nb(e){const t=Ms(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Fo(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function uO(e){return{data:e,error:null}}function fO(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=e,s=sO(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},l=Object.assign({},s);return{data:{properties:o,user:l},error:null}}function hO(e){return e}function dO(e){return e.access_token&&e.refresh_token&&e.expires_in}const Wm=["global","local","others"];var pO=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class mO{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=FN(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Wm[0]){if(Wm.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Wm.join(", ")}`);try{return await Gt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(zt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Gt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Fo})}catch(n){if(zt(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=pO(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await Gt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:fO,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(zt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Gt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Fo})}catch(r){if(zt(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,a,s,o,l;try{const c={nextPage:null,lastPage:0,total:0},u=await Gt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:hO});if(u.error)throw u.error;const d=await u.json(),p=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,h=(l=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(y=>{const m=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(y.split(";")[1].split("=")[1]);c[`${x}Page`]=m}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(zt(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){Ac(t);try{return await Gt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Fo})}catch(r){if(zt(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Ac(t);try{return await Gt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Fo})}catch(n){if(zt(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Ac(t);try{return await Gt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Fo})}catch(n){if(zt(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Ac(t.userId);try{const{data:r,error:n}=await Gt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(zt(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Ac(t.userId),Ac(t.id);try{return{data:await Gt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(zt(r))return{data:null,error:r};throw r}}}function ib(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function gO(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Tc={debug:!!(globalThis&&PN()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class IN extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class vO extends IN{}async function xO(e,t,r){Tc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Tc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Tc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{Tc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Tc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new vO(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Tc.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}gO();const yO={url:jj,storageKey:Oj,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Cj,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ab(e,t,r){return await r()}const jc={};class Oh{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Oh.nextInstanceID,Oh.nextInstanceID+=1,this.instanceID>0&&Fa()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},yO),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new mO({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=FN(i.fetch),this.lock=i.lock||ab,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Fa()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=xO:this.lock=ab,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:PN()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ib(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=ib(this.memoryStorage)),Fa()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=jc[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){jc[this.storageKey]=Object.assign(Object.assign({},jc[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=jc[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){jc[this.storageKey]=Object.assign(Object.assign({},jc[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${jN}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=Gj(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Fa()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),Dj(a)){const l=(t=a.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return zt(r)?{error:r}:{error:new CN("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const a=await Gt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ms}),{data:s,error:o}=a;if(o||!s)return{data:{user:null,session:null},error:o};const l=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(a){if(zt(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var r,n,i;try{let a;if("email"in t){const{email:u,password:d,options:p}=t;let h=null,y=null;this.flowType==="pkce"&&([h,y]=await Ec(this.storage,this.storageKey)),a=await Gt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:u,password:d,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:h,code_challenge_method:y},xform:Ms})}else if("phone"in t){const{phone:u,password:d,options:p}=t;a=await Gt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(i=p==null?void 0:p.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Ms})}else throw new s0("You must provide either an email or phone number and a password");const{data:s,error:o}=a;if(o||!s)return{data:{user:null,session:null},error:o};const l=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(a){if(zt(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:s,options:o}=t;r=await Gt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:nb})}else if("phone"in t){const{phone:a,password:s,options:o}=t;r=await Gt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:nb})}else throw new s0("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new a0}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(zt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,i,a,s,o,l,c,u,d,p,h;let y,m;if("message"in t)y=t.message,m=t.signature;else{const{chain:x,wallet:g,statement:v,options:b}=t;let _;if(Fa())if(typeof g=="object")_=g;else{const F=window;if("solana"in F&&typeof F.solana=="object"&&("signIn"in F.solana&&typeof F.solana.signIn=="function"||"signMessage"in F.solana&&typeof F.solana.signMessage=="function"))_=F.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=g}const E=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const F=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),v?{statement:v}:null));let A;if(Array.isArray(F)&&F[0]&&typeof F[0]=="object")A=F[0];else if(F&&typeof F=="object"&&"signedMessage"in F&&"signature"in F)A=F;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in A&&"signature"in A&&(typeof A.signedMessage=="string"||A.signedMessage instanceof Uint8Array)&&A.signature instanceof Uint8Array)y=typeof A.signedMessage=="string"?A.signedMessage:new TextDecoder().decode(A.signedMessage),m=A.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${E.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(i=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((s=b==null?void 0:b.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((d=(u=b==null?void 0:b.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||d===void 0)&&d.length?["Resources",...b.signInWithSolana.resources.map(A=>`- ${A}`)]:[]].join(`
`);const F=await _.signMessage(new TextEncoder().encode(y),"utf8");if(!F||!(F instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=F}}try{const{data:x,error:g}=await Gt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:Hj(m)},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Ms});if(g)throw g;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new a0}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:g})}catch(x){if(zt(x))return{data:{user:null,session:null},error:x};throw x}}async _exchangeCodeForSession(t){const r=await Al(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:s}=await Gt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Ms});if(await So(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new a0}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(zt(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:a,nonce:s}=t,o=await Gt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ms}),{data:l,error:c}=o;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new a0}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(r){if(zt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,i,a,s;try{if("email"in t){const{email:o,options:l}=t;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Ec(this.storage,this.storageKey));const{error:d}=await Gt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:o,options:l}=t,{data:c,error:u}=await Gt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(a=l==null?void 0:l.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(s=l==null?void 0:l.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new s0("You must provide either an email or phone number.")}catch(o){if(zt(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var r,n;try{let i,a;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:o}=await Gt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Ms});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const l=s.session,c=s.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(zt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var r,n,i;try{let a=null,s=null;return this.flowType==="pkce"&&([a,s]=await Ec(this.storage,this.storageKey)),await Gt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:s}),headers:this.headers,xform:uO})}catch(a){if(zt(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new To;const{error:i}=await Gt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(zt(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:a}=t,{error:s}=await Gt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in t){const{phone:n,type:i,options:a}=t,{data:s,error:o}=await Gt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:o}}throw new s0("You must provide either an email or phone number and a type")}catch(r){if(zt(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Al(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<qm:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const s=await Al(this.userStorage,this.storageKey+"-user");s!=null&&s.user?t.user=s.user:t.user=Hm()}if(this.storage.isServer&&t.user){let s=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,u)=>(!s&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:t},error:null}}const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Gt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Fo}):await this._useSession(async r=>{var n,i,a;const{data:s,error:o}=r;if(o)throw o;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new To}:await Gt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Fo})})}catch(r){if(zt(r))return Rj(r)&&(await this._removeSession(),await So(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new To;const s=i.session;let o=null,l=null;this.flowType==="pkce"&&t.email!=null&&([o,l]=await Ec(this.storage,this.storageKey));const{data:c,error:u}=await Gt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:l}),jwt:s.access_token,xform:Fo});if(u)throw u;return s.user=c.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(n){if(zt(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new To;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:s}=zm(t.access_token);if(s.exp&&(n=s.exp,i=n<=r),i){const{session:o,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};a=o}else{const{data:o,error:l}=await this._getUser(t.access_token);if(l)throw l;a={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(zt(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:s,error:o}=r;if(o)throw o;t=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new To;const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(zt(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Fa())throw new o0("No browser detected.");if(t.error||t.error_description||t.error_code)throw new o0(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new X_("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new o0("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new X_("No code detected.");const{data:v,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:o,expires_at:l,token_type:c}=t;if(!a||!o||!s||!c)throw new o0("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(o);let p=u+d;l&&(p=parseInt(l));const h=p-u;h*1e3<=Dc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${d}s`);const y=p-d;u-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,p,u):u-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,p,u);const{data:m,error:x}=await this._getUser(a);if(x)throw x;const g={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:d,expires_at:p,refresh_token:s,token_type:c,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(n){if(zt(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Al(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{error:a};const s=(n=i.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:o}=await this.admin.signOut(s,t);if(o&&!(Ij(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await So(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=Vj(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Ec(this.storage,this.storageKey,!0));try{return await Gt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(zt(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(zt(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var s,o,l,c,u;const{data:d,error:p}=a;if(p)throw p;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Gt(this.fetch,"GET",h,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return Fa()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(zt(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)throw s;return await Gt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(zt(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Xj(async i=>(i>0&&await Yj(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Gt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ms})),(i,a)=>{const s=200*Math.pow(2,i);return a&&$m(a)&&Date.now()+s-n<Dc})}catch(n){if(this._debug(r,"error",n),zt(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Fa()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Al(this.storage,this.storageKey);if(i&&this.userStorage){let s=await Al(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await Mc(this.userStorage,this.storageKey+"-user",s)),i.user=(t=s==null?void 0:s.user)!==null&&t!==void 0?t:Hm()}else if(i&&!i.user&&!i.user){const s=await Al(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(i.user=s.user,await So(this.storage,this.storageKey+"-user"),await Mc(this.storage,this.storageKey,i)):i.user=Hm()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<qm;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${qm}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),$m(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:o}=await this._getUser(i.access_token);!o&&(s!=null&&s.user)?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(n,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new To;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new h1;const{data:a,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!a.session)throw new To;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const o={session:a.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(a){if(this._debug(i,"error",a),zt(a)){const s={session:null,error:a};return $m(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(l){a.push(l)}});if(await Promise.all(s),a.length>0){for(let o=0;o<a.length;o+=1)console.error(a[o]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Mc(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=tb(i);await Mc(this.storage,this.storageKey,a)}else{const i=tb(r);await Mc(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await So(this.storage,this.storageKey),await So(this.storage,this.storageKey+"-code-verifier"),await So(this.storage,this.storageKey+"-user"),this.userStorage&&await So(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Fa()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Dc);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/Dc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Dc}ms, refresh threshold is ${Lv} ticks`),i<=Lv&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof IN)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Fa()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,s]=await Ec(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(o.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await Gt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(zt(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)return{data:null,error:s};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:c}=await Gt(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(zt(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{data:null,error:a};const{data:s,error:o}=await Gt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:o})})}catch(r){if(zt(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await Gt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(zt(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],i=n.filter(s=>s.factor_type==="totp"&&s.status==="verified"),a=n.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:n,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:i},error:a}=t;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=zm(i.access_token);let o=null;s.aal&&(o=s.aal);let l=o;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=s.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+Pj>i)return n;const{data:a,error:s}=await Gt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(o=>o.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:h,error:y}=await this.getSession();if(y||!h.session)return{data:null,error:y};n=h.session.access_token}const{header:i,payload:a,signature:s,raw:{header:o,payload:l}}=zm(n);r!=null&&r.allowExpired||nO(a.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:h}=await this.getUser(n);if(h)throw h;return{data:{claims:a,header:i,signature:s},error:null}}const u=iO(i.alg),d=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,s,zj(`${o}.${l}`)))throw new Iv("Invalid JWT signature");return{data:{claims:a,header:i,signature:s},error:null}}catch(n){if(zt(n))return{data:null,error:n};throw n}}}Oh.nextInstanceID=0;const _O=Oh;class bO extends _O{constructor(t){super(t)}}var wO=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(u){try{c(n.next(u))}catch(d){s(d)}}function l(u){try{c(n.throw(u))}catch(d){s(d)}}function c(u){u.done?a(u.value):i(u.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};class NO{constructor(t,r,n){var i,a,s;this.supabaseUrl=t,this.supabaseKey=r;const o=Tj(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const l=`sb-${o.hostname.split(".")[0]}-auth-token`,c={db:xj,realtime:_j,auth:Object.assign(Object.assign({},yj),{storageKey:l}),global:vj},u=Aj(n??{},c);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=u.global.headers)!==null&&a!==void 0?a:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=u.auth)!==null&&s!==void 0?s:{},this.headers,u.global.fetch),this.fetch=Sj(r,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new M8(new URL("rest/v1",o).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new pj(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new g8(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return wO(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,storageKey:s,flowType:o,lock:l,debug:c},u,d){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new bO({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),u),storageKey:s,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,flowType:o,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(h=>h.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new tj(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const SO=(e,t,r)=>new NO(e,t,r);function kO(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}kO()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const EO="https://vbhbidmjzezqjwpawprh.supabase.co",AO="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZiaGJpZG1qemV6cWp3cGF3cHJoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjY1NzMyMjcsImV4cCI6MjA4MjE0OTIyN30.9XZ_QvRngFm_eRYiUMk0O_Zr3QZJ2JLK6ZMGn_CTyIk",qe=SO(EO,AO),RN=ye.createContext(void 0);function TO({children:e}){const[t,r]=ye.useState(null),[n,i]=ye.useState(!0);ye.useEffect(()=>{qe.auth.getSession().then(({data:{session:c}})=>{r((c==null?void 0:c.user)??null),i(!1)});const{data:{subscription:l}}=qe.auth.onAuthStateChange((c,u)=>{(async()=>r((u==null?void 0:u.user)??null))()});return()=>l.unsubscribe()},[]);const a=async(l,c)=>{const{error:u}=await qe.auth.signInWithPassword({email:l,password:c});return{error:u}},s=async(l,c)=>{const{error:u}=await qe.auth.signUp({email:l,password:c});return{error:u}},o=async()=>{await qe.auth.signOut()};return f.jsx(RN.Provider,{value:{user:t,loading:n,signIn:a,signUp:s,signOut:o},children:e})}function Ga(){const e=ye.useContext(RN);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OO=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Lt=(e,t)=>{const r=ye.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:o="",children:l,...c},u)=>ye.createElement("svg",{ref:u,...jO,width:i,height:i,stroke:n,strokeWidth:s?Number(a)*24/Number(i):a,className:["lucide",`lucide-${OO(e)}`,o].join(" "),...c},[...t.map(([d,p])=>ye.createElement(d,p)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=Lt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CO=Lt("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1=Lt("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=Lt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LO=Lt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ch=Lt("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1=Lt("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=Lt("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PO=Lt("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FO=Lt("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _p=Lt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jo=Lt("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IO=Lt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RO=Lt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bp=Lt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=Lt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=Lt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=Lt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zo=Lt("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DO=Lt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MO=Lt("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BO=Lt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UO=Lt("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qO=Lt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $O=Lt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zO=Lt("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HO=Lt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=Lt("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WO=Lt("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VO=Lt("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GO=Lt("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ob=Lt("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rv=Lt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KO=Lt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YO=Lt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lh=Lt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XO=Lt("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZO=Lt("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lb=Lt("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=Lt("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Er=Lt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const si=Lt("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1=Lt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=Lt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cb=Lt("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JO=Lt("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0=Lt("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0=Lt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QO=Lt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eu=Lt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=Lt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Au=Lt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e7=Lt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dv=Lt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=Lt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nn=Lt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function t7(){const[e,t]=ye.useState(!0),[r,n]=ye.useState(""),[i,a]=ye.useState(""),[s,o]=ye.useState(""),[l,c]=ye.useState(!1),{signIn:u,signUp:d}=Ga(),p=async h=>{h.preventDefault(),o(""),c(!0);const{error:y}=e?await u(r,i):await d(r,i);y?o(y.message):e||(o("Account created! Please sign in."),t(!0)),c(!1)};return f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center p-4",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md p-8",children:[f.jsx("div",{className:"flex justify-center mb-6",children:f.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center",children:f.jsx(Zo,{className:"w-10 h-10 text-white"})})}),f.jsx("h1",{className:"text-3xl font-bold text-center text-slate-900 mb-2",children:"Team Manager"}),f.jsx("p",{className:"text-center text-slate-600 mb-8",children:e?"Sign in to manage your team":"Create your account"}),f.jsxs("form",{onSubmit:p,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 mb-2",children:"Email"}),f.jsx("input",{id:"email",type:"email",value:r,onChange:h=>n(h.target.value),required:!0,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",placeholder:"you@example.com"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 mb-2",children:"Password"}),f.jsx("input",{id:"password",type:"password",value:i,onChange:h=>a(h.target.value),required:!0,minLength:6,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",placeholder:""})]}),s&&f.jsx("div",{className:`text-sm p-3 rounded-lg ${s.includes("created")?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:s}),f.jsx("button",{type:"submit",disabled:l,className:"w-full bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700 transition disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Processing...":e?"Sign In":"Sign Up"})]}),f.jsx("div",{className:"mt-6 text-center",children:f.jsx("button",{onClick:()=>{t(!e),o("")},className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:e?"Don't have an account? Sign up":"Already have an account? Sign in"})})]})})}function r7({children:e,currentView:t,onViewChange:r}){const{signOut:n,user:i}=Ga(),[a,s]=ye.useState(!1),o=[{id:"dashboard",label:"Home",icon:VO},{id:"admin",label:"Admin",icon:qN}],l=async()=>{await n()},c=u=>{r(u),s(!1)};return f.jsxs("div",{className:"flex flex-col h-screen bg-slate-50",children:[f.jsxs("header",{className:"bg-white border-b border-slate-200 shadow-sm",children:[f.jsx("div",{className:"px-4 lg:px-8",children:f.jsxs("div",{className:"flex items-center justify-between h-16",children:[f.jsxs("div",{className:"flex items-center gap-8",children:[f.jsx("h1",{className:"text-xl font-bold text-slate-900",children:"Team Manager"}),f.jsx("nav",{className:"hidden md:flex items-center gap-1",children:o.map(u=>{const d=u.icon,p=t===u.id||u.id==="dashboard"&&t==="member-detail";return f.jsxs("button",{onClick:()=>c(u.id),className:`
                        flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition
                        ${p?"bg-blue-50 text-blue-700":"text-slate-600 hover:bg-slate-50 hover:text-slate-900"}
                      `,children:[f.jsx(d,{className:"w-4 h-4"}),f.jsx("span",{children:u.label})]},u.id)})})]}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("span",{className:"hidden sm:block text-sm text-slate-600",children:i==null?void 0:i.email}),f.jsxs("button",{onClick:l,className:"hidden md:flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium text-slate-600 hover:bg-red-50 hover:text-red-700 transition",children:[f.jsx(Rv,{className:"w-4 h-4"}),f.jsx("span",{children:"Sign Out"})]}),f.jsx("button",{onClick:()=>s(!a),className:"md:hidden p-2 rounded-lg hover:bg-slate-100 transition",children:a?f.jsx(nn,{className:"w-6 h-6"}):f.jsx(YO,{className:"w-6 h-6"})})]})]})}),a&&f.jsx("div",{className:"md:hidden border-t border-slate-200 bg-white",children:f.jsxs("nav",{className:"px-4 py-2 space-y-1",children:[o.map(u=>{const d=u.icon,p=t===u.id||u.id==="dashboard"&&t==="member-detail";return f.jsxs("button",{onClick:()=>c(u.id),className:`
                      w-full flex items-center gap-3 px-4 py-3 rounded-lg text-left transition
                      ${p?"bg-blue-50 text-blue-700 font-medium":"text-slate-600 hover:bg-slate-50 hover:text-slate-900"}
                    `,children:[f.jsx(d,{className:"w-5 h-5"}),f.jsx("span",{children:u.label})]},u.id)}),f.jsxs("button",{onClick:l,className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-left text-slate-600 hover:bg-red-50 hover:text-red-700 transition",children:[f.jsx(Rv,{className:"w-5 h-5"}),f.jsx("span",{children:"Sign Out"})]})]})})]}),f.jsx("main",{className:"flex-1 overflow-y-auto p-4 lg:p-8",children:e})]})}function n7(){this.__data__=[],this.size=0}var i7=n7;function a7(e,t){return e===t||e!==e&&t!==t}var zN=a7,s7=zN;function o7(e,t){for(var r=e.length;r--;)if(s7(e[r][0],t))return r;return-1}var g1=o7,l7=g1,c7=Array.prototype,u7=c7.splice;function f7(e){var t=this.__data__,r=l7(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():u7.call(t,r,1),--this.size,!0}var h7=f7,d7=g1;function p7(e){var t=this.__data__,r=d7(t,e);return r<0?void 0:t[r][1]}var m7=p7,g7=g1;function v7(e){return g7(this.__data__,e)>-1}var x7=v7,y7=g1;function _7(e,t){var r=this.__data__,n=y7(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var b7=_7,w7=i7,N7=h7,S7=m7,k7=x7,E7=b7;function Du(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Du.prototype.clear=w7;Du.prototype.delete=N7;Du.prototype.get=S7;Du.prototype.has=k7;Du.prototype.set=E7;var v1=Du,A7=v1;function T7(){this.__data__=new A7,this.size=0}var j7=T7;function O7(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var C7=O7;function L7(e){return this.__data__.get(e)}var P7=L7;function F7(e){return this.__data__.has(e)}var I7=F7,R7=typeof Cr=="object"&&Cr&&Cr.Object===Object&&Cr,HN=R7,D7=HN,M7=typeof self=="object"&&self&&self.Object===Object&&self,B7=D7||M7||Function("return this")(),io=B7,U7=io,q7=U7.Symbol,hx=q7,ub=hx,WN=Object.prototype,$7=WN.hasOwnProperty,z7=WN.toString,Cf=ub?ub.toStringTag:void 0;function H7(e){var t=$7.call(e,Cf),r=e[Cf];try{e[Cf]=void 0;var n=!0}catch{}var i=z7.call(e);return n&&(t?e[Cf]=r:delete e[Cf]),i}var W7=H7,V7=Object.prototype,G7=V7.toString;function K7(e){return G7.call(e)}var Y7=K7,fb=hx,X7=W7,Z7=Y7,J7="[object Null]",Q7="[object Undefined]",hb=fb?fb.toStringTag:void 0;function eC(e){return e==null?e===void 0?Q7:J7:hb&&hb in Object(e)?X7(e):Z7(e)}var x1=eC;function tC(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var VN=tC,rC=x1,nC=VN,iC="[object AsyncFunction]",aC="[object Function]",sC="[object GeneratorFunction]",oC="[object Proxy]";function lC(e){if(!nC(e))return!1;var t=rC(e);return t==aC||t==sC||t==iC||t==oC}var GN=lC,cC=io,uC=cC["__core-js_shared__"],fC=uC,Vm=fC,db=function(){var e=/[^.]+$/.exec(Vm&&Vm.keys&&Vm.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function hC(e){return!!db&&db in e}var dC=hC,pC=Function.prototype,mC=pC.toString;function gC(e){if(e!=null){try{return mC.call(e)}catch{}try{return e+""}catch{}}return""}var KN=gC,vC=GN,xC=dC,yC=VN,_C=KN,bC=/[\\^$.*+?()[\]{}|]/g,wC=/^\[object .+?Constructor\]$/,NC=Function.prototype,SC=Object.prototype,kC=NC.toString,EC=SC.hasOwnProperty,AC=RegExp("^"+kC.call(EC).replace(bC,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function TC(e){if(!yC(e)||xC(e))return!1;var t=vC(e)?AC:wC;return t.test(_C(e))}var jC=TC;function OC(e,t){return e==null?void 0:e[t]}var CC=OC,LC=jC,PC=CC;function FC(e,t){var r=PC(e,t);return LC(r)?r:void 0}var Mu=FC,IC=Mu,RC=io,DC=IC(RC,"Map"),dx=DC,MC=Mu,BC=MC(Object,"create"),y1=BC,pb=y1;function UC(){this.__data__=pb?pb(null):{},this.size=0}var qC=UC;function $C(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var zC=$C,HC=y1,WC="__lodash_hash_undefined__",VC=Object.prototype,GC=VC.hasOwnProperty;function KC(e){var t=this.__data__;if(HC){var r=t[e];return r===WC?void 0:r}return GC.call(t,e)?t[e]:void 0}var YC=KC,XC=y1,ZC=Object.prototype,JC=ZC.hasOwnProperty;function QC(e){var t=this.__data__;return XC?t[e]!==void 0:JC.call(t,e)}var eL=QC,tL=y1,rL="__lodash_hash_undefined__";function nL(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=tL&&t===void 0?rL:t,this}var iL=nL,aL=qC,sL=zC,oL=YC,lL=eL,cL=iL;function Bu(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Bu.prototype.clear=aL;Bu.prototype.delete=sL;Bu.prototype.get=oL;Bu.prototype.has=lL;Bu.prototype.set=cL;var uL=Bu,mb=uL,fL=v1,hL=dx;function dL(){this.size=0,this.__data__={hash:new mb,map:new(hL||fL),string:new mb}}var pL=dL;function mL(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var gL=mL,vL=gL;function xL(e,t){var r=e.__data__;return vL(t)?r[typeof t=="string"?"string":"hash"]:r.map}var _1=xL,yL=_1;function _L(e){var t=yL(this,e).delete(e);return this.size-=t?1:0,t}var bL=_L,wL=_1;function NL(e){return wL(this,e).get(e)}var SL=NL,kL=_1;function EL(e){return kL(this,e).has(e)}var AL=EL,TL=_1;function jL(e,t){var r=TL(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var OL=jL,CL=pL,LL=bL,PL=SL,FL=AL,IL=OL;function Uu(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Uu.prototype.clear=CL;Uu.prototype.delete=LL;Uu.prototype.get=PL;Uu.prototype.has=FL;Uu.prototype.set=IL;var YN=Uu,RL=v1,DL=dx,ML=YN,BL=200;function UL(e,t){var r=this.__data__;if(r instanceof RL){var n=r.__data__;if(!DL||n.length<BL-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new ML(n)}return r.set(e,t),this.size=r.size,this}var qL=UL,$L=v1,zL=j7,HL=C7,WL=P7,VL=I7,GL=qL;function qu(e){var t=this.__data__=new $L(e);this.size=t.size}qu.prototype.clear=zL;qu.prototype.delete=HL;qu.prototype.get=WL;qu.prototype.has=VL;qu.prototype.set=GL;var KL=qu,YL="__lodash_hash_undefined__";function XL(e){return this.__data__.set(e,YL),this}var ZL=XL;function JL(e){return this.__data__.has(e)}var QL=JL,eP=YN,tP=ZL,rP=QL;function wp(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new eP;++t<r;)this.add(e[t])}wp.prototype.add=wp.prototype.push=tP;wp.prototype.has=rP;var nP=wp;function iP(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var aP=iP;function sP(e,t){return e.has(t)}var oP=sP,lP=nP,cP=aP,uP=oP,fP=1,hP=2;function dP(e,t,r,n,i,a){var s=r&fP,o=e.length,l=t.length;if(o!=l&&!(s&&l>o))return!1;var c=a.get(e),u=a.get(t);if(c&&u)return c==t&&u==e;var d=-1,p=!0,h=r&hP?new lP:void 0;for(a.set(e,t),a.set(t,e);++d<o;){var y=e[d],m=t[d];if(n)var x=s?n(m,y,d,t,e,a):n(y,m,d,e,t,a);if(x!==void 0){if(x)continue;p=!1;break}if(h){if(!cP(t,function(g,v){if(!uP(h,v)&&(y===g||i(y,g,r,n,a)))return h.push(v)})){p=!1;break}}else if(!(y===m||i(y,m,r,n,a))){p=!1;break}}return a.delete(e),a.delete(t),p}var XN=dP,pP=io,mP=pP.Uint8Array,gP=mP;function vP(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}var xP=vP;function yP(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var _P=yP,gb=hx,vb=gP,bP=zN,wP=XN,NP=xP,SP=_P,kP=1,EP=2,AP="[object Boolean]",TP="[object Date]",jP="[object Error]",OP="[object Map]",CP="[object Number]",LP="[object RegExp]",PP="[object Set]",FP="[object String]",IP="[object Symbol]",RP="[object ArrayBuffer]",DP="[object DataView]",xb=gb?gb.prototype:void 0,Gm=xb?xb.valueOf:void 0;function MP(e,t,r,n,i,a,s){switch(r){case DP:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case RP:return!(e.byteLength!=t.byteLength||!a(new vb(e),new vb(t)));case AP:case TP:case CP:return bP(+e,+t);case jP:return e.name==t.name&&e.message==t.message;case LP:case FP:return e==t+"";case OP:var o=NP;case PP:var l=n&kP;if(o||(o=SP),e.size!=t.size&&!l)return!1;var c=s.get(e);if(c)return c==t;n|=EP,s.set(e,t);var u=wP(o(e),o(t),n,i,a,s);return s.delete(e),u;case IP:if(Gm)return Gm.call(e)==Gm.call(t)}return!1}var BP=MP;function UP(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var qP=UP,$P=Array.isArray,px=$P,zP=qP,HP=px;function WP(e,t,r){var n=t(e);return HP(e)?n:zP(n,r(e))}var VP=WP;function GP(e,t){for(var r=-1,n=e==null?0:e.length,i=0,a=[];++r<n;){var s=e[r];t(s,r,e)&&(a[i++]=s)}return a}var KP=GP;function YP(){return[]}var XP=YP,ZP=KP,JP=XP,QP=Object.prototype,eF=QP.propertyIsEnumerable,yb=Object.getOwnPropertySymbols,tF=yb?function(e){return e==null?[]:(e=Object(e),ZP(yb(e),function(t){return eF.call(e,t)}))}:JP,rF=tF;function nF(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var iF=nF;function aF(e){return e!=null&&typeof e=="object"}var b1=aF,sF=x1,oF=b1,lF="[object Arguments]";function cF(e){return oF(e)&&sF(e)==lF}var uF=cF,_b=uF,fF=b1,ZN=Object.prototype,hF=ZN.hasOwnProperty,dF=ZN.propertyIsEnumerable,pF=_b(function(){return arguments}())?_b:function(e){return fF(e)&&hF.call(e,"callee")&&!dF.call(e,"callee")},mF=pF,Np={exports:{}};function gF(){return!1}var vF=gF;Np.exports;(function(e,t){var r=io,n=vF,i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===i,o=s?r.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||n;e.exports=c})(Np,Np.exports);var JN=Np.exports,xF=9007199254740991,yF=/^(?:0|[1-9]\d*)$/;function _F(e,t){var r=typeof e;return t=t??xF,!!t&&(r=="number"||r!="symbol"&&yF.test(e))&&e>-1&&e%1==0&&e<t}var bF=_F,wF=9007199254740991;function NF(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=wF}var QN=NF,SF=x1,kF=QN,EF=b1,AF="[object Arguments]",TF="[object Array]",jF="[object Boolean]",OF="[object Date]",CF="[object Error]",LF="[object Function]",PF="[object Map]",FF="[object Number]",IF="[object Object]",RF="[object RegExp]",DF="[object Set]",MF="[object String]",BF="[object WeakMap]",UF="[object ArrayBuffer]",qF="[object DataView]",$F="[object Float32Array]",zF="[object Float64Array]",HF="[object Int8Array]",WF="[object Int16Array]",VF="[object Int32Array]",GF="[object Uint8Array]",KF="[object Uint8ClampedArray]",YF="[object Uint16Array]",XF="[object Uint32Array]",jr={};jr[$F]=jr[zF]=jr[HF]=jr[WF]=jr[VF]=jr[GF]=jr[KF]=jr[YF]=jr[XF]=!0;jr[AF]=jr[TF]=jr[UF]=jr[jF]=jr[qF]=jr[OF]=jr[CF]=jr[LF]=jr[PF]=jr[FF]=jr[IF]=jr[RF]=jr[DF]=jr[MF]=jr[BF]=!1;function ZF(e){return EF(e)&&kF(e.length)&&!!jr[SF(e)]}var JF=ZF;function QF(e){return function(t){return e(t)}}var eI=QF,Sp={exports:{}};Sp.exports;(function(e,t){var r=HN,n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===n,s=a&&r.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();e.exports=o})(Sp,Sp.exports);var tI=Sp.exports,rI=JF,nI=eI,bb=tI,wb=bb&&bb.isTypedArray,iI=wb?nI(wb):rI,eS=iI,aI=iF,sI=mF,oI=px,lI=JN,cI=bF,uI=eS,fI=Object.prototype,hI=fI.hasOwnProperty;function dI(e,t){var r=oI(e),n=!r&&sI(e),i=!r&&!n&&lI(e),a=!r&&!n&&!i&&uI(e),s=r||n||i||a,o=s?aI(e.length,String):[],l=o.length;for(var c in e)(t||hI.call(e,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||a&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||cI(c,l)))&&o.push(c);return o}var pI=dI,mI=Object.prototype;function gI(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||mI;return e===r}var vI=gI;function xI(e,t){return function(r){return e(t(r))}}var yI=xI,_I=yI,bI=_I(Object.keys,Object),wI=bI,NI=vI,SI=wI,kI=Object.prototype,EI=kI.hasOwnProperty;function AI(e){if(!NI(e))return SI(e);var t=[];for(var r in Object(e))EI.call(e,r)&&r!="constructor"&&t.push(r);return t}var TI=AI,jI=GN,OI=QN;function CI(e){return e!=null&&OI(e.length)&&!jI(e)}var LI=CI,PI=pI,FI=TI,II=LI;function RI(e){return II(e)?PI(e):FI(e)}var DI=RI,MI=VP,BI=rF,UI=DI;function qI(e){return MI(e,UI,BI)}var $I=qI,Nb=$I,zI=1,HI=Object.prototype,WI=HI.hasOwnProperty;function VI(e,t,r,n,i,a){var s=r&zI,o=Nb(e),l=o.length,c=Nb(t),u=c.length;if(l!=u&&!s)return!1;for(var d=l;d--;){var p=o[d];if(!(s?p in t:WI.call(t,p)))return!1}var h=a.get(e),y=a.get(t);if(h&&y)return h==t&&y==e;var m=!0;a.set(e,t),a.set(t,e);for(var x=s;++d<l;){p=o[d];var g=e[p],v=t[p];if(n)var b=s?n(v,g,p,t,e,a):n(g,v,p,e,t,a);if(!(b===void 0?g===v||i(g,v,r,n,a):b)){m=!1;break}x||(x=p=="constructor")}if(m&&!x){var _=e.constructor,E=t.constructor;_!=E&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof E=="function"&&E instanceof E)&&(m=!1)}return a.delete(e),a.delete(t),m}var GI=VI,KI=Mu,YI=io,XI=KI(YI,"DataView"),ZI=XI,JI=Mu,QI=io,eR=JI(QI,"Promise"),tR=eR,rR=Mu,nR=io,iR=rR(nR,"Set"),aR=iR,sR=Mu,oR=io,lR=sR(oR,"WeakMap"),cR=lR,Mv=ZI,Bv=dx,Uv=tR,qv=aR,$v=cR,tS=x1,$u=KN,Sb="[object Map]",uR="[object Object]",kb="[object Promise]",Eb="[object Set]",Ab="[object WeakMap]",Tb="[object DataView]",fR=$u(Mv),hR=$u(Bv),dR=$u(Uv),pR=$u(qv),mR=$u($v),Cl=tS;(Mv&&Cl(new Mv(new ArrayBuffer(1)))!=Tb||Bv&&Cl(new Bv)!=Sb||Uv&&Cl(Uv.resolve())!=kb||qv&&Cl(new qv)!=Eb||$v&&Cl(new $v)!=Ab)&&(Cl=function(e){var t=tS(e),r=t==uR?e.constructor:void 0,n=r?$u(r):"";if(n)switch(n){case fR:return Tb;case hR:return Sb;case dR:return kb;case pR:return Eb;case mR:return Ab}return t});var gR=Cl,Km=KL,vR=XN,xR=BP,yR=GI,jb=gR,Ob=px,Cb=JN,_R=eS,bR=1,Lb="[object Arguments]",Pb="[object Array]",l0="[object Object]",wR=Object.prototype,Fb=wR.hasOwnProperty;function NR(e,t,r,n,i,a){var s=Ob(e),o=Ob(t),l=s?Pb:jb(e),c=o?Pb:jb(t);l=l==Lb?l0:l,c=c==Lb?l0:c;var u=l==l0,d=c==l0,p=l==c;if(p&&Cb(e)){if(!Cb(t))return!1;s=!0,u=!1}if(p&&!u)return a||(a=new Km),s||_R(e)?vR(e,t,r,n,i,a):xR(e,t,l,r,n,i,a);if(!(r&bR)){var h=u&&Fb.call(e,"__wrapped__"),y=d&&Fb.call(t,"__wrapped__");if(h||y){var m=h?e.value():e,x=y?t.value():t;return a||(a=new Km),i(m,x,r,n,a)}}return p?(a||(a=new Km),yR(e,t,r,n,i,a)):!1}var SR=NR,kR=SR,Ib=b1;function rS(e,t,r,n,i){return e===t?!0:e==null||t==null||!Ib(e)&&!Ib(t)?e!==e&&t!==t:kR(e,t,r,n,rS,i)}var ER=rS,AR=ER;function TR(e,t){return AR(e,t)}var jR=TR,nS={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(e,t){(function(n,i){e.exports=i()})(typeof self<"u"?self:Cr,function(){return function(r){var n={};function i(a){if(n[a])return n[a].exports;var s=n[a]={i:a,l:!1,exports:{}};return r[a].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=r,i.c=n,i.d=function(a,s,o){i.o(a,s)||Object.defineProperty(a,s,{configurable:!1,enumerable:!0,get:o})},i.n=function(a){var s=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(s,"a",s),s},i.o=function(a,s){return Object.prototype.hasOwnProperty.call(a,s)},i.p="",i(i.s=109)}([function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(17),s=i(18),o=i(19),l=i(45),c=i(46),u=i(47),d=i(48),p=i(49),h=i(12),y=i(32),m=i(33),x=i(31),g=i(1),v={Scope:g.Scope,create:g.create,find:g.find,query:g.query,register:g.register,Container:a.default,Format:s.default,Leaf:o.default,Embed:d.default,Scroll:l.default,Block:u.default,Inline:c.default,Text:p.default,Attributor:{Attribute:h.default,Class:y.default,Style:m.default,Store:x.default}};n.default=v},function(r,n,i){var a=this&&this.__extends||function(){var x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,v){g.__proto__=v}||function(g,v){for(var b in v)v.hasOwnProperty(b)&&(g[b]=v[b])};return function(g,v){x(g,v);function b(){this.constructor=g}g.prototype=v===null?Object.create(v):(b.prototype=v.prototype,new b)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=function(x){a(g,x);function g(v){var b=this;return v="[Parchment] "+v,b=x.call(this,v)||this,b.message=v,b.name=b.constructor.name,b}return g}(Error);n.ParchmentError=s;var o={},l={},c={},u={};n.DATA_KEY="__blot";var d;(function(x){x[x.TYPE=3]="TYPE",x[x.LEVEL=12]="LEVEL",x[x.ATTRIBUTE=13]="ATTRIBUTE",x[x.BLOT=14]="BLOT",x[x.INLINE=7]="INLINE",x[x.BLOCK=11]="BLOCK",x[x.BLOCK_BLOT=10]="BLOCK_BLOT",x[x.INLINE_BLOT=6]="INLINE_BLOT",x[x.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",x[x.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",x[x.ANY=15]="ANY"})(d=n.Scope||(n.Scope={}));function p(x,g){var v=y(x);if(v==null)throw new s("Unable to create "+x+" blot");var b=v,_=x instanceof Node||x.nodeType===Node.TEXT_NODE?x:b.create(g);return new b(_,g)}n.create=p;function h(x,g){return g===void 0&&(g=!1),x==null?null:x[n.DATA_KEY]!=null?x[n.DATA_KEY].blot:g?h(x.parentNode,g):null}n.find=h;function y(x,g){g===void 0&&(g=d.ANY);var v;if(typeof x=="string")v=u[x]||o[x];else if(x instanceof Text||x.nodeType===Node.TEXT_NODE)v=u.text;else if(typeof x=="number")x&d.LEVEL&d.BLOCK?v=u.block:x&d.LEVEL&d.INLINE&&(v=u.inline);else if(x instanceof HTMLElement){var b=(x.getAttribute("class")||"").split(/\s+/);for(var _ in b)if(v=l[b[_]],v)break;v=v||c[x.tagName]}return v==null?null:g&d.LEVEL&v.scope&&g&d.TYPE&v.scope?v:null}n.query=y;function m(){for(var x=[],g=0;g<arguments.length;g++)x[g]=arguments[g];if(x.length>1)return x.map(function(_){return m(_)});var v=x[0];if(typeof v.blotName!="string"&&typeof v.attrName!="string")throw new s("Invalid definition");if(v.blotName==="abstract")throw new s("Cannot register abstract class");if(u[v.blotName||v.attrName]=v,typeof v.keyName=="string")o[v.keyName]=v;else if(v.className!=null&&(l[v.className]=v),v.tagName!=null){Array.isArray(v.tagName)?v.tagName=v.tagName.map(function(_){return _.toUpperCase()}):v.tagName=v.tagName.toUpperCase();var b=Array.isArray(v.tagName)?v.tagName:[v.tagName];b.forEach(function(_){(c[_]==null||v.className==null)&&(c[_]=v)})}return v}n.register=m},function(r,n,i){var a=i(51),s=i(11),o=i(3),l=i(20),c="\0",u=function(d){Array.isArray(d)?this.ops=d:d!=null&&Array.isArray(d.ops)?this.ops=d.ops:this.ops=[]};u.prototype.insert=function(d,p){var h={};return d.length===0?this:(h.insert=d,p!=null&&typeof p=="object"&&Object.keys(p).length>0&&(h.attributes=p),this.push(h))},u.prototype.delete=function(d){return d<=0?this:this.push({delete:d})},u.prototype.retain=function(d,p){if(d<=0)return this;var h={retain:d};return p!=null&&typeof p=="object"&&Object.keys(p).length>0&&(h.attributes=p),this.push(h)},u.prototype.push=function(d){var p=this.ops.length,h=this.ops[p-1];if(d=o(!0,{},d),typeof h=="object"){if(typeof d.delete=="number"&&typeof h.delete=="number")return this.ops[p-1]={delete:h.delete+d.delete},this;if(typeof h.delete=="number"&&d.insert!=null&&(p-=1,h=this.ops[p-1],typeof h!="object"))return this.ops.unshift(d),this;if(s(d.attributes,h.attributes)){if(typeof d.insert=="string"&&typeof h.insert=="string")return this.ops[p-1]={insert:h.insert+d.insert},typeof d.attributes=="object"&&(this.ops[p-1].attributes=d.attributes),this;if(typeof d.retain=="number"&&typeof h.retain=="number")return this.ops[p-1]={retain:h.retain+d.retain},typeof d.attributes=="object"&&(this.ops[p-1].attributes=d.attributes),this}}return p===this.ops.length?this.ops.push(d):this.ops.splice(p,0,d),this},u.prototype.chop=function(){var d=this.ops[this.ops.length-1];return d&&d.retain&&!d.attributes&&this.ops.pop(),this},u.prototype.filter=function(d){return this.ops.filter(d)},u.prototype.forEach=function(d){this.ops.forEach(d)},u.prototype.map=function(d){return this.ops.map(d)},u.prototype.partition=function(d){var p=[],h=[];return this.forEach(function(y){var m=d(y)?p:h;m.push(y)}),[p,h]},u.prototype.reduce=function(d,p){return this.ops.reduce(d,p)},u.prototype.changeLength=function(){return this.reduce(function(d,p){return p.insert?d+l.length(p):p.delete?d-p.delete:d},0)},u.prototype.length=function(){return this.reduce(function(d,p){return d+l.length(p)},0)},u.prototype.slice=function(d,p){d=d||0,typeof p!="number"&&(p=1/0);for(var h=[],y=l.iterator(this.ops),m=0;m<p&&y.hasNext();){var x;m<d?x=y.next(d-m):(x=y.next(p-m),h.push(x)),m+=l.length(x)}return new u(h)},u.prototype.compose=function(d){var p=l.iterator(this.ops),h=l.iterator(d.ops),y=[],m=h.peek();if(m!=null&&typeof m.retain=="number"&&m.attributes==null){for(var x=m.retain;p.peekType()==="insert"&&p.peekLength()<=x;)x-=p.peekLength(),y.push(p.next());m.retain-x>0&&h.next(m.retain-x)}for(var g=new u(y);p.hasNext()||h.hasNext();)if(h.peekType()==="insert")g.push(h.next());else if(p.peekType()==="delete")g.push(p.next());else{var v=Math.min(p.peekLength(),h.peekLength()),b=p.next(v),_=h.next(v);if(typeof _.retain=="number"){var E={};typeof b.retain=="number"?E.retain=v:E.insert=b.insert;var F=l.attributes.compose(b.attributes,_.attributes,typeof b.retain=="number");if(F&&(E.attributes=F),g.push(E),!h.hasNext()&&s(g.ops[g.ops.length-1],E)){var A=new u(p.rest());return g.concat(A).chop()}}else typeof _.delete=="number"&&typeof b.retain=="number"&&g.push(_)}return g.chop()},u.prototype.concat=function(d){var p=new u(this.ops.slice());return d.ops.length>0&&(p.push(d.ops[0]),p.ops=p.ops.concat(d.ops.slice(1))),p},u.prototype.diff=function(d,p){if(this.ops===d.ops)return new u;var h=[this,d].map(function(v){return v.map(function(b){if(b.insert!=null)return typeof b.insert=="string"?b.insert:c;var _=v===d?"on":"with";throw new Error("diff() called "+_+" non-document")}).join("")}),y=new u,m=a(h[0],h[1],p),x=l.iterator(this.ops),g=l.iterator(d.ops);return m.forEach(function(v){for(var b=v[1].length;b>0;){var _=0;switch(v[0]){case a.INSERT:_=Math.min(g.peekLength(),b),y.push(g.next(_));break;case a.DELETE:_=Math.min(b,x.peekLength()),x.next(_),y.delete(_);break;case a.EQUAL:_=Math.min(x.peekLength(),g.peekLength(),b);var E=x.next(_),F=g.next(_);s(E.insert,F.insert)?y.retain(_,l.attributes.diff(E.attributes,F.attributes)):y.push(F).delete(_);break}b-=_}}),y.chop()},u.prototype.eachLine=function(d,p){p=p||`
`;for(var h=l.iterator(this.ops),y=new u,m=0;h.hasNext();){if(h.peekType()!=="insert")return;var x=h.peek(),g=l.length(x)-h.peekLength(),v=typeof x.insert=="string"?x.insert.indexOf(p,g)-g:-1;if(v<0)y.push(h.next());else if(v>0)y.push(h.next(v));else{if(d(y,h.next(1).attributes||{},m)===!1)return;m+=1,y=new u}}y.length()>0&&d(y,{},m)},u.prototype.transform=function(d,p){if(p=!!p,typeof d=="number")return this.transformPosition(d,p);for(var h=l.iterator(this.ops),y=l.iterator(d.ops),m=new u;h.hasNext()||y.hasNext();)if(h.peekType()==="insert"&&(p||y.peekType()!=="insert"))m.retain(l.length(h.next()));else if(y.peekType()==="insert")m.push(y.next());else{var x=Math.min(h.peekLength(),y.peekLength()),g=h.next(x),v=y.next(x);if(g.delete)continue;v.delete?m.push(v):m.retain(x,l.attributes.transform(g.attributes,v.attributes,p))}return m.chop()},u.prototype.transformPosition=function(d,p){p=!!p;for(var h=l.iterator(this.ops),y=0;h.hasNext()&&y<=d;){var m=h.peekLength(),x=h.peekType();if(h.next(),x==="delete"){d-=Math.min(m,d-y);continue}else x==="insert"&&(y<d||!p)&&(d+=m);y+=m}return d},r.exports=u},function(r,n){var i=Object.prototype.hasOwnProperty,a=Object.prototype.toString,s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,l=function(h){return typeof Array.isArray=="function"?Array.isArray(h):a.call(h)==="[object Array]"},c=function(h){if(!h||a.call(h)!=="[object Object]")return!1;var y=i.call(h,"constructor"),m=h.constructor&&h.constructor.prototype&&i.call(h.constructor.prototype,"isPrototypeOf");if(h.constructor&&!y&&!m)return!1;var x;for(x in h);return typeof x>"u"||i.call(h,x)},u=function(h,y){s&&y.name==="__proto__"?s(h,y.name,{enumerable:!0,configurable:!0,value:y.newValue,writable:!0}):h[y.name]=y.newValue},d=function(h,y){if(y==="__proto__")if(i.call(h,y)){if(o)return o(h,y).value}else return;return h[y]};r.exports=function p(){var h,y,m,x,g,v,b=arguments[0],_=1,E=arguments.length,F=!1;for(typeof b=="boolean"&&(F=b,b=arguments[1]||{},_=2),(b==null||typeof b!="object"&&typeof b!="function")&&(b={});_<E;++_)if(h=arguments[_],h!=null)for(y in h)m=d(b,y),x=d(h,y),b!==x&&(F&&x&&(c(x)||(g=l(x)))?(g?(g=!1,v=m&&l(m)?m:[]):v=m&&c(m)?m:{},u(b,{name:y,newValue:p(F,v,x)})):typeof x<"u"&&u(b,{name:y,newValue:x}));return b}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BlockEmbed=n.bubbleFormats=void 0;var a=function(){function N(j,T){for(var B=0;B<T.length;B++){var z=T[B];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(j,z.key,z)}}return function(j,T,B){return T&&N(j.prototype,T),B&&N(j,B),j}}(),s=function N(j,T,B){j===null&&(j=Function.prototype);var z=Object.getOwnPropertyDescriptor(j,T);if(z===void 0){var Q=Object.getPrototypeOf(j);return Q===null?void 0:N(Q,T,B)}else{if("value"in z)return z.value;var ne=z.get;return ne===void 0?void 0:ne.call(B)}},o=i(3),l=b(o),c=i(2),u=b(c),d=i(0),p=b(d),h=i(16),y=b(h),m=i(6),x=b(m),g=i(7),v=b(g);function b(N){return N&&N.__esModule?N:{default:N}}function _(N,j){if(!(N instanceof j))throw new TypeError("Cannot call a class as a function")}function E(N,j){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:N}function F(N,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);N.prototype=Object.create(j&&j.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(N,j):N.__proto__=j)}var A=1,O=function(N){F(j,N);function j(){return _(this,j),E(this,(j.__proto__||Object.getPrototypeOf(j)).apply(this,arguments))}return a(j,[{key:"attach",value:function(){s(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"attach",this).call(this),this.attributes=new p.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new u.default().insert(this.value(),(0,l.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(B,z){var Q=p.default.query(B,p.default.Scope.BLOCK_ATTRIBUTE);Q!=null&&this.attributes.attribute(Q,z)}},{key:"formatAt",value:function(B,z,Q,ne){this.format(Q,ne)}},{key:"insertAt",value:function(B,z,Q){if(typeof z=="string"&&z.endsWith(`
`)){var ne=p.default.create(C.blotName);this.parent.insertBefore(ne,B===0?this:this.next),ne.insertAt(0,z.slice(0,-1))}else s(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"insertAt",this).call(this,B,z,Q)}}]),j}(p.default.Embed);O.scope=p.default.Scope.BLOCK_BLOT;var C=function(N){F(j,N);function j(T){_(this,j);var B=E(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,T));return B.cache={},B}return a(j,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(p.default.Leaf).reduce(function(B,z){return z.length()===0?B:B.insert(z.value(),L(z))},new u.default).insert(`
`,L(this))),this.cache.delta}},{key:"deleteAt",value:function(B,z){s(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"deleteAt",this).call(this,B,z),this.cache={}}},{key:"formatAt",value:function(B,z,Q,ne){z<=0||(p.default.query(Q,p.default.Scope.BLOCK)?B+z===this.length()&&this.format(Q,ne):s(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"formatAt",this).call(this,B,Math.min(z,this.length()-B-1),Q,ne),this.cache={})}},{key:"insertAt",value:function(B,z,Q){if(Q!=null)return s(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"insertAt",this).call(this,B,z,Q);if(z.length!==0){var ne=z.split(`
`),ie=ne.shift();ie.length>0&&(B<this.length()-1||this.children.tail==null?s(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"insertAt",this).call(this,Math.min(B,this.length()-1),ie):this.children.tail.insertAt(this.children.tail.length(),ie),this.cache={});var K=this;ne.reduce(function(W,q){return K=K.split(W,!0),K.insertAt(0,q),q.length},B+ie.length)}}},{key:"insertBefore",value:function(B,z){var Q=this.children.head;s(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"insertBefore",this).call(this,B,z),Q instanceof y.default&&Q.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=s(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"length",this).call(this)+A),this.cache.length}},{key:"moveChildren",value:function(B,z){s(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"moveChildren",this).call(this,B,z),this.cache={}}},{key:"optimize",value:function(B){s(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"optimize",this).call(this,B),this.cache={}}},{key:"path",value:function(B){return s(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"path",this).call(this,B,!0)}},{key:"removeChild",value:function(B){s(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"removeChild",this).call(this,B),this.cache={}}},{key:"split",value:function(B){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(z&&(B===0||B>=this.length()-A)){var Q=this.clone();return B===0?(this.parent.insertBefore(Q,this),this):(this.parent.insertBefore(Q,this.next),Q)}else{var ne=s(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"split",this).call(this,B,z);return this.cache={},ne}}}]),j}(p.default.Block);C.blotName="block",C.tagName="P",C.defaultChild="break",C.allowedChildren=[x.default,p.default.Embed,v.default];function L(N){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return N==null||(typeof N.formats=="function"&&(j=(0,l.default)(j,N.formats())),N.parent==null||N.parent.blotName=="scroll"||N.parent.statics.scope!==N.statics.scope)?j:L(N.parent,j)}n.bubbleFormats=L,n.BlockEmbed=O,n.default=C},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.overload=n.expandConfig=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(K){return typeof K}:function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K},s=function(){function K(W,q){var k=[],I=!0,M=!1,U=void 0;try{for(var R=W[Symbol.iterator](),G;!(I=(G=R.next()).done)&&(k.push(G.value),!(q&&k.length===q));I=!0);}catch(te){M=!0,U=te}finally{try{!I&&R.return&&R.return()}finally{if(M)throw U}}return k}return function(W,q){if(Array.isArray(W))return W;if(Symbol.iterator in Object(W))return K(W,q);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function K(W,q){for(var k=0;k<q.length;k++){var I=q[k];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(W,I.key,I)}}return function(W,q,k){return q&&K(W.prototype,q),k&&K(W,k),W}}();i(50);var l=i(2),c=L(l),u=i(14),d=L(u),p=i(8),h=L(p),y=i(9),m=L(y),x=i(0),g=L(x),v=i(15),b=L(v),_=i(3),E=L(_),F=i(10),A=L(F),O=i(34),C=L(O);function L(K){return K&&K.__esModule?K:{default:K}}function N(K,W,q){return W in K?Object.defineProperty(K,W,{value:q,enumerable:!0,configurable:!0,writable:!0}):K[W]=q,K}function j(K,W){if(!(K instanceof W))throw new TypeError("Cannot call a class as a function")}var T=(0,A.default)("quill"),B=function(){o(K,null,[{key:"debug",value:function(q){q===!0&&(q="log"),A.default.level(q)}},{key:"find",value:function(q){return q.__quill||g.default.find(q)}},{key:"import",value:function(q){return this.imports[q]==null&&T.error("Cannot import "+q+". Are you sure it was registered?"),this.imports[q]}},{key:"register",value:function(q,k){var I=this,M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof q!="string"){var U=q.attrName||q.blotName;typeof U=="string"?this.register("formats/"+U,q,k):Object.keys(q).forEach(function(R){I.register(R,q[R],k)})}else this.imports[q]!=null&&!M&&T.warn("Overwriting "+q+" with",k),this.imports[q]=k,(q.startsWith("blots/")||q.startsWith("formats/"))&&k.blotName!=="abstract"?g.default.register(k):q.startsWith("modules")&&typeof k.register=="function"&&k.register()}}]);function K(W){var q=this,k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(j(this,K),this.options=z(W,k),this.container=this.options.container,this.container==null)return T.error("Invalid Quill container",W);this.options.debug&&K.debug(this.options.debug);var I=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new h.default,this.scroll=g.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new d.default(this.scroll),this.selection=new b.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(h.default.events.EDITOR_CHANGE,function(U){U===h.default.events.TEXT_CHANGE&&q.root.classList.toggle("ql-blank",q.editor.isBlank())}),this.emitter.on(h.default.events.SCROLL_UPDATE,function(U,R){var G=q.selection.lastRange,te=G&&G.length===0?G.index:void 0;Q.call(q,function(){return q.editor.update(null,R,te)},U)});var M=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+I+"<p><br></p></div>");this.setContents(M),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return o(K,[{key:"addContainer",value:function(q){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof q=="string"){var I=q;q=document.createElement("div"),q.classList.add(I)}return this.container.insertBefore(q,k),q}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(q,k,I){var M=this,U=ne(q,k,I),R=s(U,4);return q=R[0],k=R[1],I=R[3],Q.call(this,function(){return M.editor.deleteText(q,k)},I,q,-1*k)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(q),this.container.classList.toggle("ql-disabled",!q)}},{key:"focus",value:function(){var q=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=q,this.scrollIntoView()}},{key:"format",value:function(q,k){var I=this,M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:h.default.sources.API;return Q.call(this,function(){var U=I.getSelection(!0),R=new c.default;if(U==null)return R;if(g.default.query(q,g.default.Scope.BLOCK))R=I.editor.formatLine(U.index,U.length,N({},q,k));else{if(U.length===0)return I.selection.format(q,k),R;R=I.editor.formatText(U.index,U.length,N({},q,k))}return I.setSelection(U,h.default.sources.SILENT),R},M)}},{key:"formatLine",value:function(q,k,I,M,U){var R=this,G=void 0,te=ne(q,k,I,M,U),V=s(te,4);return q=V[0],k=V[1],G=V[2],U=V[3],Q.call(this,function(){return R.editor.formatLine(q,k,G)},U,q,0)}},{key:"formatText",value:function(q,k,I,M,U){var R=this,G=void 0,te=ne(q,k,I,M,U),V=s(te,4);return q=V[0],k=V[1],G=V[2],U=V[3],Q.call(this,function(){return R.editor.formatText(q,k,G)},U,q,0)}},{key:"getBounds",value:function(q){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,I=void 0;typeof q=="number"?I=this.selection.getBounds(q,k):I=this.selection.getBounds(q.index,q.length);var M=this.container.getBoundingClientRect();return{bottom:I.bottom-M.top,height:I.height,left:I.left-M.left,right:I.right-M.left,top:I.top-M.top,width:I.width}}},{key:"getContents",value:function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-q,I=ne(q,k),M=s(I,2);return q=M[0],k=M[1],this.editor.getContents(q,k)}},{key:"getFormat",value:function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof q=="number"?this.editor.getFormat(q,k):this.editor.getFormat(q.index,q.length)}},{key:"getIndex",value:function(q){return q.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(q){return this.scroll.leaf(q)}},{key:"getLine",value:function(q){return this.scroll.line(q)}},{key:"getLines",value:function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof q!="number"?this.scroll.lines(q.index,q.length):this.scroll.lines(q,k)}},{key:"getModule",value:function(q){return this.theme.modules[q]}},{key:"getSelection",value:function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return q&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-q,I=ne(q,k),M=s(I,2);return q=M[0],k=M[1],this.editor.getText(q,k)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(q,k,I){var M=this,U=arguments.length>3&&arguments[3]!==void 0?arguments[3]:K.sources.API;return Q.call(this,function(){return M.editor.insertEmbed(q,k,I)},U,q)}},{key:"insertText",value:function(q,k,I,M,U){var R=this,G=void 0,te=ne(q,0,I,M,U),V=s(te,4);return q=V[0],G=V[2],U=V[3],Q.call(this,function(){return R.editor.insertText(q,k,G)},U,q,k.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(q,k,I){this.clipboard.dangerouslyPasteHTML(q,k,I)}},{key:"removeFormat",value:function(q,k,I){var M=this,U=ne(q,k,I),R=s(U,4);return q=R[0],k=R[1],I=R[3],Q.call(this,function(){return M.editor.removeFormat(q,k)},I,q)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(q){var k=this,I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h.default.sources.API;return Q.call(this,function(){q=new c.default(q);var M=k.getLength(),U=k.editor.deleteText(0,M),R=k.editor.applyDelta(q),G=R.ops[R.ops.length-1];G!=null&&typeof G.insert=="string"&&G.insert[G.insert.length-1]===`
`&&(k.editor.deleteText(k.getLength()-1,1),R.delete(1));var te=U.compose(R);return te},I)}},{key:"setSelection",value:function(q,k,I){if(q==null)this.selection.setRange(null,k||K.sources.API);else{var M=ne(q,k,I),U=s(M,4);q=U[0],k=U[1],I=U[3],this.selection.setRange(new v.Range(q,k),I),I!==h.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(q){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h.default.sources.API,I=new c.default().insert(q);return this.setContents(I,k)}},{key:"update",value:function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h.default.sources.USER,k=this.scroll.update(q);return this.selection.update(q),k}},{key:"updateContents",value:function(q){var k=this,I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h.default.sources.API;return Q.call(this,function(){return q=new c.default(q),k.editor.applyDelta(q,I)},I,!0)}}]),K}();B.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},B.events=h.default.events,B.sources=h.default.sources,B.version="1.3.7",B.imports={delta:c.default,parchment:g.default,"core/module":m.default,"core/theme":C.default};function z(K,W){if(W=(0,E.default)(!0,{container:K,modules:{clipboard:!0,keyboard:!0,history:!0}},W),!W.theme||W.theme===B.DEFAULTS.theme)W.theme=C.default;else if(W.theme=B.import("themes/"+W.theme),W.theme==null)throw new Error("Invalid theme "+W.theme+". Did you register it?");var q=(0,E.default)(!0,{},W.theme.DEFAULTS);[q,W].forEach(function(M){M.modules=M.modules||{},Object.keys(M.modules).forEach(function(U){M.modules[U]===!0&&(M.modules[U]={})})});var k=Object.keys(q.modules).concat(Object.keys(W.modules)),I=k.reduce(function(M,U){var R=B.import("modules/"+U);return R==null?T.error("Cannot load "+U+" module. Are you sure you registered it?"):M[U]=R.DEFAULTS||{},M},{});return W.modules!=null&&W.modules.toolbar&&W.modules.toolbar.constructor!==Object&&(W.modules.toolbar={container:W.modules.toolbar}),W=(0,E.default)(!0,{},B.DEFAULTS,{modules:I},q,W),["bounds","container","scrollingContainer"].forEach(function(M){typeof W[M]=="string"&&(W[M]=document.querySelector(W[M]))}),W.modules=Object.keys(W.modules).reduce(function(M,U){return W.modules[U]&&(M[U]=W.modules[U]),M},{}),W}function Q(K,W,q,k){if(this.options.strict&&!this.isEnabled()&&W===h.default.sources.USER)return new c.default;var I=q==null?null:this.getSelection(),M=this.editor.delta,U=K();if(I!=null&&(q===!0&&(q=I.index),k==null?I=ie(I,U,W):k!==0&&(I=ie(I,q,k,W)),this.setSelection(I,h.default.sources.SILENT)),U.length()>0){var R,G=[h.default.events.TEXT_CHANGE,U,M,W];if((R=this.emitter).emit.apply(R,[h.default.events.EDITOR_CHANGE].concat(G)),W!==h.default.sources.SILENT){var te;(te=this.emitter).emit.apply(te,G)}}return U}function ne(K,W,q,k,I){var M={};return typeof K.index=="number"&&typeof K.length=="number"?typeof W!="number"?(I=k,k=q,q=W,W=K.length,K=K.index):(W=K.length,K=K.index):typeof W!="number"&&(I=k,k=q,q=W,W=0),(typeof q>"u"?"undefined":a(q))==="object"?(M=q,I=k):typeof q=="string"&&(k!=null?M[q]=k:I=q),I=I||h.default.sources.API,[K,W,M,I]}function ie(K,W,q,k){if(K==null)return null;var I=void 0,M=void 0;if(W instanceof c.default){var U=[K.index,K.index+K.length].map(function(V){return W.transformPosition(V,k!==h.default.sources.USER)}),R=s(U,2);I=R[0],M=R[1]}else{var G=[K.index,K.index+K.length].map(function(V){return V<W||V===W&&k===h.default.sources.USER?V:q>=0?V+q:Math.max(W,V+q)}),te=s(G,2);I=te[0],M=te[1]}return new v.Range(I,M-I)}n.expandConfig=z,n.overload=ne,n.default=B},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function x(g,v){for(var b=0;b<v.length;b++){var _=v[b];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(g,_.key,_)}}return function(g,v,b){return v&&x(g.prototype,v),b&&x(g,b),g}}(),s=function x(g,v,b){g===null&&(g=Function.prototype);var _=Object.getOwnPropertyDescriptor(g,v);if(_===void 0){var E=Object.getPrototypeOf(g);return E===null?void 0:x(E,v,b)}else{if("value"in _)return _.value;var F=_.get;return F===void 0?void 0:F.call(b)}},o=i(7),l=d(o),c=i(0),u=d(c);function d(x){return x&&x.__esModule?x:{default:x}}function p(x,g){if(!(x instanceof g))throw new TypeError("Cannot call a class as a function")}function h(x,g){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:x}function y(x,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);x.prototype=Object.create(g&&g.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(x,g):x.__proto__=g)}var m=function(x){y(g,x);function g(){return p(this,g),h(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return a(g,[{key:"formatAt",value:function(b,_,E,F){if(g.compare(this.statics.blotName,E)<0&&u.default.query(E,u.default.Scope.BLOT)){var A=this.isolate(b,_);F&&A.wrap(E,F)}else s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"formatAt",this).call(this,b,_,E,F)}},{key:"optimize",value:function(b){if(s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"optimize",this).call(this,b),this.parent instanceof g&&g.compare(this.statics.blotName,this.parent.statics.blotName)>0){var _=this.parent.isolate(this.offset(),this.length());this.moveChildren(_),_.wrap(this)}}}],[{key:"compare",value:function(b,_){var E=g.order.indexOf(b),F=g.order.indexOf(_);return E>=0||F>=0?E-F:b===_?0:b<_?-1:1}}]),g}(u.default.Inline);m.allowedChildren=[m,u.default.Embed,l.default],m.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],n.default=m},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(0),s=o(a);function o(p){return p&&p.__esModule?p:{default:p}}function l(p,h){if(!(p instanceof h))throw new TypeError("Cannot call a class as a function")}function c(p,h){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:p}function u(p,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);p.prototype=Object.create(h&&h.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(p,h):p.__proto__=h)}var d=function(p){u(h,p);function h(){return l(this,h),c(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(s.default.Text);n.default=d},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function v(b,_){for(var E=0;E<_.length;E++){var F=_[E];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(b,F.key,F)}}return function(b,_,E){return _&&v(b.prototype,_),E&&v(b,E),b}}(),s=function v(b,_,E){b===null&&(b=Function.prototype);var F=Object.getOwnPropertyDescriptor(b,_);if(F===void 0){var A=Object.getPrototypeOf(b);return A===null?void 0:v(A,_,E)}else{if("value"in F)return F.value;var O=F.get;return O===void 0?void 0:O.call(E)}},o=i(54),l=d(o),c=i(10),u=d(c);function d(v){return v&&v.__esModule?v:{default:v}}function p(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")}function h(v,b){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:v}function y(v,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);v.prototype=Object.create(b&&b.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(v,b):v.__proto__=b)}var m=(0,u.default)("quill:events"),x=["selectionchange","mousedown","mouseup","click"];x.forEach(function(v){document.addEventListener(v,function(){for(var b=arguments.length,_=Array(b),E=0;E<b;E++)_[E]=arguments[E];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(F){if(F.__quill&&F.__quill.emitter){var A;(A=F.__quill.emitter).handleDOM.apply(A,_)}})})});var g=function(v){y(b,v);function b(){p(this,b);var _=h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return _.listeners={},_.on("error",m.error),_}return a(b,[{key:"emit",value:function(){m.log.apply(m,arguments),s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(E){for(var F=arguments.length,A=Array(F>1?F-1:0),O=1;O<F;O++)A[O-1]=arguments[O];(this.listeners[E.type]||[]).forEach(function(C){var L=C.node,N=C.handler;(E.target===L||L.contains(E.target))&&N.apply(void 0,[E].concat(A))})}},{key:"listenDOM",value:function(E,F,A){this.listeners[E]||(this.listeners[E]=[]),this.listeners[E].push({node:F,handler:A})}}]),b}(l.default);g.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},g.sources={API:"api",SILENT:"silent",USER:"user"},n.default=g},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});function a(o,l){if(!(o instanceof l))throw new TypeError("Cannot call a class as a function")}var s=function o(l){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};a(this,o),this.quill=l,this.options=c};s.DEFAULTS={},n.default=s},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=["error","warn","log","info"],s="warn";function o(c){if(a.indexOf(c)<=a.indexOf(s)){for(var u,d=arguments.length,p=Array(d>1?d-1:0),h=1;h<d;h++)p[h-1]=arguments[h];(u=console)[c].apply(u,p)}}function l(c){return a.reduce(function(u,d){return u[d]=o.bind(console,d,c),u},{})}o.level=l.level=function(c){s=c},n.default=l},function(r,n,i){var a=Array.prototype.slice,s=i(52),o=i(53),l=r.exports=function(p,h,y){return y||(y={}),p===h?!0:p instanceof Date&&h instanceof Date?p.getTime()===h.getTime():!p||!h||typeof p!="object"&&typeof h!="object"?y.strict?p===h:p==h:d(p,h,y)};function c(p){return p==null}function u(p){return!(!p||typeof p!="object"||typeof p.length!="number"||typeof p.copy!="function"||typeof p.slice!="function"||p.length>0&&typeof p[0]!="number")}function d(p,h,y){var m,x;if(c(p)||c(h)||p.prototype!==h.prototype)return!1;if(o(p))return o(h)?(p=a.call(p),h=a.call(h),l(p,h,y)):!1;if(u(p)){if(!u(h)||p.length!==h.length)return!1;for(m=0;m<p.length;m++)if(p[m]!==h[m])return!1;return!0}try{var g=s(p),v=s(h)}catch{return!1}if(g.length!=v.length)return!1;for(g.sort(),v.sort(),m=g.length-1;m>=0;m--)if(g[m]!=v[m])return!1;for(m=g.length-1;m>=0;m--)if(x=g[m],!l(p[x],h[x],y))return!1;return typeof p==typeof h}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(1),s=function(){function o(l,c,u){u===void 0&&(u={}),this.attrName=l,this.keyName=c;var d=a.Scope.TYPE&a.Scope.ATTRIBUTE;u.scope!=null?this.scope=u.scope&a.Scope.LEVEL|d:this.scope=a.Scope.ATTRIBUTE,u.whitelist!=null&&(this.whitelist=u.whitelist)}return o.keys=function(l){return[].map.call(l.attributes,function(c){return c.name})},o.prototype.add=function(l,c){return this.canAdd(l,c)?(l.setAttribute(this.keyName,c),!0):!1},o.prototype.canAdd=function(l,c){var u=a.query(l,a.Scope.BLOT&(this.scope|a.Scope.TYPE));return u==null?!1:this.whitelist==null?!0:typeof c=="string"?this.whitelist.indexOf(c.replace(/["']/g,""))>-1:this.whitelist.indexOf(c)>-1},o.prototype.remove=function(l){l.removeAttribute(this.keyName)},o.prototype.value=function(l){var c=l.getAttribute(this.keyName);return this.canAdd(l,c)&&c?c:""},o}();n.default=s},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Code=void 0;var a=function(){function O(C,L){var N=[],j=!0,T=!1,B=void 0;try{for(var z=C[Symbol.iterator](),Q;!(j=(Q=z.next()).done)&&(N.push(Q.value),!(L&&N.length===L));j=!0);}catch(ne){T=!0,B=ne}finally{try{!j&&z.return&&z.return()}finally{if(T)throw B}}return N}return function(C,L){if(Array.isArray(C))return C;if(Symbol.iterator in Object(C))return O(C,L);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function O(C,L){for(var N=0;N<L.length;N++){var j=L[N];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(C,j.key,j)}}return function(C,L,N){return L&&O(C.prototype,L),N&&O(C,N),C}}(),o=function O(C,L,N){C===null&&(C=Function.prototype);var j=Object.getOwnPropertyDescriptor(C,L);if(j===void 0){var T=Object.getPrototypeOf(C);return T===null?void 0:O(T,L,N)}else{if("value"in j)return j.value;var B=j.get;return B===void 0?void 0:B.call(N)}},l=i(2),c=v(l),u=i(0),d=v(u),p=i(4),h=v(p),y=i(6),m=v(y),x=i(7),g=v(x);function v(O){return O&&O.__esModule?O:{default:O}}function b(O,C){if(!(O instanceof C))throw new TypeError("Cannot call a class as a function")}function _(O,C){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:O}function E(O,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);O.prototype=Object.create(C&&C.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(O,C):O.__proto__=C)}var F=function(O){E(C,O);function C(){return b(this,C),_(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}return C}(m.default);F.blotName="code",F.tagName="CODE";var A=function(O){E(C,O);function C(){return b(this,C),_(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}return s(C,[{key:"delta",value:function(){var N=this,j=this.domNode.textContent;return j.endsWith(`
`)&&(j=j.slice(0,-1)),j.split(`
`).reduce(function(T,B){return T.insert(B).insert(`
`,N.formats())},new c.default)}},{key:"format",value:function(N,j){if(!(N===this.statics.blotName&&j)){var T=this.descendant(g.default,this.length()-1),B=a(T,1),z=B[0];z!=null&&z.deleteAt(z.length()-1,1),o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"format",this).call(this,N,j)}}},{key:"formatAt",value:function(N,j,T,B){if(j!==0&&!(d.default.query(T,d.default.Scope.BLOCK)==null||T===this.statics.blotName&&B===this.statics.formats(this.domNode))){var z=this.newlineIndex(N);if(!(z<0||z>=N+j)){var Q=this.newlineIndex(N,!0)+1,ne=z-Q+1,ie=this.isolate(Q,ne),K=ie.next;ie.format(T,B),K instanceof C&&K.formatAt(0,N-Q+j-ne,T,B)}}}},{key:"insertAt",value:function(N,j,T){if(T==null){var B=this.descendant(g.default,N),z=a(B,2),Q=z[0],ne=z[1];Q.insertAt(ne,j)}}},{key:"length",value:function(){var N=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?N:N+1}},{key:"newlineIndex",value:function(N){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(j)return this.domNode.textContent.slice(0,N).lastIndexOf(`
`);var T=this.domNode.textContent.slice(N).indexOf(`
`);return T>-1?N+T:-1}},{key:"optimize",value:function(N){this.domNode.textContent.endsWith(`
`)||this.appendChild(d.default.create("text",`
`)),o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"optimize",this).call(this,N);var j=this.next;j!=null&&j.prev===this&&j.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===j.statics.formats(j.domNode)&&(j.optimize(N),j.moveChildren(this),j.remove())}},{key:"replace",value:function(N){o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"replace",this).call(this,N),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(j){var T=d.default.find(j);T==null?j.parentNode.removeChild(j):T instanceof d.default.Embed?T.remove():T.unwrap()})}}],[{key:"create",value:function(N){var j=o(C.__proto__||Object.getPrototypeOf(C),"create",this).call(this,N);return j.setAttribute("spellcheck",!1),j}},{key:"formats",value:function(){return!0}}]),C}(h.default);A.blotName="code-block",A.tagName="PRE",A.TAB="  ",n.Code=F,n.default=A},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(K){return typeof K}:function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K},s=function(){function K(W,q){var k=[],I=!0,M=!1,U=void 0;try{for(var R=W[Symbol.iterator](),G;!(I=(G=R.next()).done)&&(k.push(G.value),!(q&&k.length===q));I=!0);}catch(te){M=!0,U=te}finally{try{!I&&R.return&&R.return()}finally{if(M)throw U}}return k}return function(W,q){if(Array.isArray(W))return W;if(Symbol.iterator in Object(W))return K(W,q);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function K(W,q){for(var k=0;k<q.length;k++){var I=q[k];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(W,I.key,I)}}return function(W,q,k){return q&&K(W.prototype,q),k&&K(W,k),W}}(),l=i(2),c=j(l),u=i(20),d=j(u),p=i(0),h=j(p),y=i(13),m=j(y),x=i(24),g=j(x),v=i(4),b=j(v),_=i(16),E=j(_),F=i(21),A=j(F),O=i(11),C=j(O),L=i(3),N=j(L);function j(K){return K&&K.__esModule?K:{default:K}}function T(K,W,q){return W in K?Object.defineProperty(K,W,{value:q,enumerable:!0,configurable:!0,writable:!0}):K[W]=q,K}function B(K,W){if(!(K instanceof W))throw new TypeError("Cannot call a class as a function")}var z=/^[ -~]*$/,Q=function(){function K(W){B(this,K),this.scroll=W,this.delta=this.getDelta()}return o(K,[{key:"applyDelta",value:function(q){var k=this,I=!1;this.scroll.update();var M=this.scroll.length();return this.scroll.batchStart(),q=ie(q),q.reduce(function(U,R){var G=R.retain||R.delete||R.insert.length||1,te=R.attributes||{};if(R.insert!=null){if(typeof R.insert=="string"){var V=R.insert;V.endsWith(`
`)&&I&&(I=!1,V=V.slice(0,-1)),U>=M&&!V.endsWith(`
`)&&(I=!0),k.scroll.insertAt(U,V);var Y=k.scroll.line(U),oe=s(Y,2),ve=oe[0],Ne=oe[1],_e=(0,N.default)({},(0,v.bubbleFormats)(ve));if(ve instanceof b.default){var X=ve.descendant(h.default.Leaf,Ne),Ee=s(X,1),Oe=Ee[0];_e=(0,N.default)(_e,(0,v.bubbleFormats)(Oe))}te=d.default.attributes.diff(_e,te)||{}}else if(a(R.insert)==="object"){var be=Object.keys(R.insert)[0];if(be==null)return U;k.scroll.insertAt(U,be,R.insert[be])}M+=G}return Object.keys(te).forEach(function(xe){k.scroll.formatAt(U,G,xe,te[xe])}),U+G},0),q.reduce(function(U,R){return typeof R.delete=="number"?(k.scroll.deleteAt(U,R.delete),U):U+(R.retain||R.insert.length||1)},0),this.scroll.batchEnd(),this.update(q)}},{key:"deleteText",value:function(q,k){return this.scroll.deleteAt(q,k),this.update(new c.default().retain(q).delete(k))}},{key:"formatLine",value:function(q,k){var I=this,M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(M).forEach(function(U){if(!(I.scroll.whitelist!=null&&!I.scroll.whitelist[U])){var R=I.scroll.lines(q,Math.max(k,1)),G=k;R.forEach(function(te){var V=te.length();if(!(te instanceof m.default))te.format(U,M[U]);else{var Y=q-te.offset(I.scroll),oe=te.newlineIndex(Y+G)-Y+1;te.formatAt(Y,oe,U,M[U])}G-=V})}}),this.scroll.optimize(),this.update(new c.default().retain(q).retain(k,(0,A.default)(M)))}},{key:"formatText",value:function(q,k){var I=this,M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(M).forEach(function(U){I.scroll.formatAt(q,k,U,M[U])}),this.update(new c.default().retain(q).retain(k,(0,A.default)(M)))}},{key:"getContents",value:function(q,k){return this.delta.slice(q,q+k)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(q,k){return q.concat(k.delta())},new c.default)}},{key:"getFormat",value:function(q){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,I=[],M=[];k===0?this.scroll.path(q).forEach(function(R){var G=s(R,1),te=G[0];te instanceof b.default?I.push(te):te instanceof h.default.Leaf&&M.push(te)}):(I=this.scroll.lines(q,k),M=this.scroll.descendants(h.default.Leaf,q,k));var U=[I,M].map(function(R){if(R.length===0)return{};for(var G=(0,v.bubbleFormats)(R.shift());Object.keys(G).length>0;){var te=R.shift();if(te==null)return G;G=ne((0,v.bubbleFormats)(te),G)}return G});return N.default.apply(N.default,U)}},{key:"getText",value:function(q,k){return this.getContents(q,k).filter(function(I){return typeof I.insert=="string"}).map(function(I){return I.insert}).join("")}},{key:"insertEmbed",value:function(q,k,I){return this.scroll.insertAt(q,k,I),this.update(new c.default().retain(q).insert(T({},k,I)))}},{key:"insertText",value:function(q,k){var I=this,M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return k=k.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(q,k),Object.keys(M).forEach(function(U){I.scroll.formatAt(q,k.length,U,M[U])}),this.update(new c.default().retain(q).insert(k,(0,A.default)(M)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var q=this.scroll.children.head;return q.statics.blotName!==b.default.blotName||q.children.length>1?!1:q.children.head instanceof E.default}},{key:"removeFormat",value:function(q,k){var I=this.getText(q,k),M=this.scroll.line(q+k),U=s(M,2),R=U[0],G=U[1],te=0,V=new c.default;R!=null&&(R instanceof m.default?te=R.newlineIndex(G)-G+1:te=R.length()-G,V=R.delta().slice(G,G+te-1).insert(`
`));var Y=this.getContents(q,k+te),oe=Y.diff(new c.default().insert(I).concat(V)),ve=new c.default().retain(q).concat(oe);return this.applyDelta(ve)}},{key:"update",value:function(q){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,M=this.delta;if(k.length===1&&k[0].type==="characterData"&&k[0].target.data.match(z)&&h.default.find(k[0].target)){var U=h.default.find(k[0].target),R=(0,v.bubbleFormats)(U),G=U.offset(this.scroll),te=k[0].oldValue.replace(g.default.CONTENTS,""),V=new c.default().insert(te),Y=new c.default().insert(U.value()),oe=new c.default().retain(G).concat(V.diff(Y,I));q=oe.reduce(function(ve,Ne){return Ne.insert?ve.insert(Ne.insert,R):ve.push(Ne)},new c.default),this.delta=M.compose(q)}else this.delta=this.getDelta(),(!q||!(0,C.default)(M.compose(q),this.delta))&&(q=M.diff(this.delta,I));return q}}]),K}();function ne(K,W){return Object.keys(W).reduce(function(q,k){return K[k]==null||(W[k]===K[k]?q[k]=W[k]:Array.isArray(W[k])?W[k].indexOf(K[k])<0&&(q[k]=W[k].concat([K[k]])):q[k]=[W[k],K[k]]),q},{})}function ie(K){return K.reduce(function(W,q){if(q.insert===1){var k=(0,A.default)(q.attributes);return delete k.image,W.insert({image:q.attributes.image},k)}if(q.attributes!=null&&(q.attributes.list===!0||q.attributes.bullet===!0)&&(q=(0,A.default)(q),q.attributes.list?q.attributes.list="ordered":(q.attributes.list="bullet",delete q.attributes.bullet)),typeof q.insert=="string"){var I=q.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return W.insert(I,q.attributes)}return W.push(q)},new c.default)}n.default=Q},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Range=void 0;var a=function(){function O(C,L){var N=[],j=!0,T=!1,B=void 0;try{for(var z=C[Symbol.iterator](),Q;!(j=(Q=z.next()).done)&&(N.push(Q.value),!(L&&N.length===L));j=!0);}catch(ne){T=!0,B=ne}finally{try{!j&&z.return&&z.return()}finally{if(T)throw B}}return N}return function(C,L){if(Array.isArray(C))return C;if(Symbol.iterator in Object(C))return O(C,L);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function O(C,L){for(var N=0;N<L.length;N++){var j=L[N];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(C,j.key,j)}}return function(C,L,N){return L&&O(C.prototype,L),N&&O(C,N),C}}(),o=i(0),l=g(o),c=i(21),u=g(c),d=i(11),p=g(d),h=i(8),y=g(h),m=i(10),x=g(m);function g(O){return O&&O.__esModule?O:{default:O}}function v(O){if(Array.isArray(O)){for(var C=0,L=Array(O.length);C<O.length;C++)L[C]=O[C];return L}else return Array.from(O)}function b(O,C){if(!(O instanceof C))throw new TypeError("Cannot call a class as a function")}var _=(0,x.default)("quill:selection"),E=function O(C){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;b(this,O),this.index=C,this.length=L},F=function(){function O(C,L){var N=this;b(this,O),this.emitter=L,this.scroll=C,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=l.default.create("cursor",this),this.lastRange=this.savedRange=new E(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){N.mouseDown||setTimeout(N.update.bind(N,y.default.sources.USER),1)}),this.emitter.on(y.default.events.EDITOR_CHANGE,function(j,T){j===y.default.events.TEXT_CHANGE&&T.length()>0&&N.update(y.default.sources.SILENT)}),this.emitter.on(y.default.events.SCROLL_BEFORE_UPDATE,function(){if(N.hasFocus()){var j=N.getNativeRange();j!=null&&j.start.node!==N.cursor.textNode&&N.emitter.once(y.default.events.SCROLL_UPDATE,function(){try{N.setNativeRange(j.start.node,j.start.offset,j.end.node,j.end.offset)}catch{}})}}),this.emitter.on(y.default.events.SCROLL_OPTIMIZE,function(j,T){if(T.range){var B=T.range,z=B.startNode,Q=B.startOffset,ne=B.endNode,ie=B.endOffset;N.setNativeRange(z,Q,ne,ie)}}),this.update(y.default.sources.SILENT)}return s(O,[{key:"handleComposition",value:function(){var L=this;this.root.addEventListener("compositionstart",function(){L.composing=!0}),this.root.addEventListener("compositionend",function(){if(L.composing=!1,L.cursor.parent){var N=L.cursor.restore();if(!N)return;setTimeout(function(){L.setNativeRange(N.startNode,N.startOffset,N.endNode,N.endOffset)},1)}})}},{key:"handleDragging",value:function(){var L=this;this.emitter.listenDOM("mousedown",document.body,function(){L.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){L.mouseDown=!1,L.update(y.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(L,N){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[L])){this.scroll.update();var j=this.getNativeRange();if(!(j==null||!j.native.collapsed||l.default.query(L,l.default.Scope.BLOCK))){if(j.start.node!==this.cursor.textNode){var T=l.default.find(j.start.node,!1);if(T==null)return;if(T instanceof l.default.Leaf){var B=T.split(j.start.offset);T.parent.insertBefore(this.cursor,B)}else T.insertBefore(this.cursor,j.start.node);this.cursor.attach()}this.cursor.format(L,N),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(L){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,j=this.scroll.length();L=Math.min(L,j-1),N=Math.min(L+N,j-1)-L;var T=void 0,B=this.scroll.leaf(L),z=a(B,2),Q=z[0],ne=z[1];if(Q==null)return null;var ie=Q.position(ne,!0),K=a(ie,2);T=K[0],ne=K[1];var W=document.createRange();if(N>0){W.setStart(T,ne);var q=this.scroll.leaf(L+N),k=a(q,2);if(Q=k[0],ne=k[1],Q==null)return null;var I=Q.position(ne,!0),M=a(I,2);return T=M[0],ne=M[1],W.setEnd(T,ne),W.getBoundingClientRect()}else{var U="left",R=void 0;return T instanceof Text?(ne<T.data.length?(W.setStart(T,ne),W.setEnd(T,ne+1)):(W.setStart(T,ne-1),W.setEnd(T,ne),U="right"),R=W.getBoundingClientRect()):(R=Q.domNode.getBoundingClientRect(),ne>0&&(U="right")),{bottom:R.top+R.height,height:R.height,left:R[U],right:R[U],top:R.top,width:0}}}},{key:"getNativeRange",value:function(){var L=document.getSelection();if(L==null||L.rangeCount<=0)return null;var N=L.getRangeAt(0);if(N==null)return null;var j=this.normalizeNative(N);return _.info("getNativeRange",j),j}},{key:"getRange",value:function(){var L=this.getNativeRange();if(L==null)return[null,null];var N=this.normalizedToRange(L);return[N,L]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(L){var N=this,j=[[L.start.node,L.start.offset]];L.native.collapsed||j.push([L.end.node,L.end.offset]);var T=j.map(function(Q){var ne=a(Q,2),ie=ne[0],K=ne[1],W=l.default.find(ie,!0),q=W.offset(N.scroll);return K===0?q:W instanceof l.default.Container?q+W.length():q+W.index(ie,K)}),B=Math.min(Math.max.apply(Math,v(T)),this.scroll.length()-1),z=Math.min.apply(Math,[B].concat(v(T)));return new E(z,B-z)}},{key:"normalizeNative",value:function(L){if(!A(this.root,L.startContainer)||!L.collapsed&&!A(this.root,L.endContainer))return null;var N={start:{node:L.startContainer,offset:L.startOffset},end:{node:L.endContainer,offset:L.endOffset},native:L};return[N.start,N.end].forEach(function(j){for(var T=j.node,B=j.offset;!(T instanceof Text)&&T.childNodes.length>0;)if(T.childNodes.length>B)T=T.childNodes[B],B=0;else if(T.childNodes.length===B)T=T.lastChild,B=T instanceof Text?T.data.length:T.childNodes.length+1;else break;j.node=T,j.offset=B}),N}},{key:"rangeToNative",value:function(L){var N=this,j=L.collapsed?[L.index]:[L.index,L.index+L.length],T=[],B=this.scroll.length();return j.forEach(function(z,Q){z=Math.min(B-1,z);var ne=void 0,ie=N.scroll.leaf(z),K=a(ie,2),W=K[0],q=K[1],k=W.position(q,Q!==0),I=a(k,2);ne=I[0],q=I[1],T.push(ne,q)}),T.length<2&&(T=T.concat(T)),T}},{key:"scrollIntoView",value:function(L){var N=this.lastRange;if(N!=null){var j=this.getBounds(N.index,N.length);if(j!=null){var T=this.scroll.length()-1,B=this.scroll.line(Math.min(N.index,T)),z=a(B,1),Q=z[0],ne=Q;if(N.length>0){var ie=this.scroll.line(Math.min(N.index+N.length,T)),K=a(ie,1);ne=K[0]}if(!(Q==null||ne==null)){var W=L.getBoundingClientRect();j.top<W.top?L.scrollTop-=W.top-j.top:j.bottom>W.bottom&&(L.scrollTop+=j.bottom-W.bottom)}}}}},{key:"setNativeRange",value:function(L,N){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:L,T=arguments.length>3&&arguments[3]!==void 0?arguments[3]:N,B=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(_.info("setNativeRange",L,N,j,T),!(L!=null&&(this.root.parentNode==null||L.parentNode==null||j.parentNode==null))){var z=document.getSelection();if(z!=null)if(L!=null){this.hasFocus()||this.root.focus();var Q=(this.getNativeRange()||{}).native;if(Q==null||B||L!==Q.startContainer||N!==Q.startOffset||j!==Q.endContainer||T!==Q.endOffset){L.tagName=="BR"&&(N=[].indexOf.call(L.parentNode.childNodes,L),L=L.parentNode),j.tagName=="BR"&&(T=[].indexOf.call(j.parentNode.childNodes,j),j=j.parentNode);var ne=document.createRange();ne.setStart(L,N),ne.setEnd(j,T),z.removeAllRanges(),z.addRange(ne)}}else z.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(L){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y.default.sources.API;if(typeof N=="string"&&(j=N,N=!1),_.info("setRange",L),L!=null){var T=this.rangeToNative(L);this.setNativeRange.apply(this,v(T).concat([N]))}else this.setNativeRange(null);this.update(j)}},{key:"update",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:y.default.sources.USER,N=this.lastRange,j=this.getRange(),T=a(j,2),B=T[0],z=T[1];if(this.lastRange=B,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,p.default)(N,this.lastRange)){var Q;!this.composing&&z!=null&&z.native.collapsed&&z.start.node!==this.cursor.textNode&&this.cursor.restore();var ne=[y.default.events.SELECTION_CHANGE,(0,u.default)(this.lastRange),(0,u.default)(N),L];if((Q=this.emitter).emit.apply(Q,[y.default.events.EDITOR_CHANGE].concat(ne)),L!==y.default.sources.SILENT){var ie;(ie=this.emitter).emit.apply(ie,ne)}}}}]),O}();function A(O,C){try{C.parentNode}catch{return!1}return C instanceof Text&&(C=C.parentNode),O.contains(C)}n.Range=E,n.default=F},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function y(m,x){for(var g=0;g<x.length;g++){var v=x[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,v.key,v)}}return function(m,x,g){return x&&y(m.prototype,x),g&&y(m,g),m}}(),s=function y(m,x,g){m===null&&(m=Function.prototype);var v=Object.getOwnPropertyDescriptor(m,x);if(v===void 0){var b=Object.getPrototypeOf(m);return b===null?void 0:y(b,x,g)}else{if("value"in v)return v.value;var _=v.get;return _===void 0?void 0:_.call(g)}},o=i(0),l=c(o);function c(y){return y&&y.__esModule?y:{default:y}}function u(y,m){if(!(y instanceof m))throw new TypeError("Cannot call a class as a function")}function d(y,m){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:y}function p(y,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);y.prototype=Object.create(m&&m.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(y,m):y.__proto__=m)}var h=function(y){p(m,y);function m(){return u(this,m),d(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return a(m,[{key:"insertInto",value:function(g,v){g.children.length===0?s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"insertInto",this).call(this,g,v):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),m}(l.default.Embed);h.blotName="break",h.tagName="BR",n.default=h},function(r,n,i){var a=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,h){p.__proto__=h}||function(p,h){for(var y in h)h.hasOwnProperty(y)&&(p[y]=h[y])};return function(p,h){d(p,h);function y(){this.constructor=p}p.prototype=h===null?Object.create(h):(y.prototype=h.prototype,new y)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=i(44),o=i(30),l=i(1),c=function(d){a(p,d);function p(h){var y=d.call(this,h)||this;return y.build(),y}return p.prototype.appendChild=function(h){this.insertBefore(h)},p.prototype.attach=function(){d.prototype.attach.call(this),this.children.forEach(function(h){h.attach()})},p.prototype.build=function(){var h=this;this.children=new s.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(y){try{var m=u(y);h.insertBefore(m,h.children.head||void 0)}catch(x){if(x instanceof l.ParchmentError)return;throw x}})},p.prototype.deleteAt=function(h,y){if(h===0&&y===this.length())return this.remove();this.children.forEachAt(h,y,function(m,x,g){m.deleteAt(x,g)})},p.prototype.descendant=function(h,y){var m=this.children.find(y),x=m[0],g=m[1];return h.blotName==null&&h(x)||h.blotName!=null&&x instanceof h?[x,g]:x instanceof p?x.descendant(h,g):[null,-1]},p.prototype.descendants=function(h,y,m){y===void 0&&(y=0),m===void 0&&(m=Number.MAX_VALUE);var x=[],g=m;return this.children.forEachAt(y,m,function(v,b,_){(h.blotName==null&&h(v)||h.blotName!=null&&v instanceof h)&&x.push(v),v instanceof p&&(x=x.concat(v.descendants(h,b,g))),g-=_}),x},p.prototype.detach=function(){this.children.forEach(function(h){h.detach()}),d.prototype.detach.call(this)},p.prototype.formatAt=function(h,y,m,x){this.children.forEachAt(h,y,function(g,v,b){g.formatAt(v,b,m,x)})},p.prototype.insertAt=function(h,y,m){var x=this.children.find(h),g=x[0],v=x[1];if(g)g.insertAt(v,y,m);else{var b=m==null?l.create("text",y):l.create(y,m);this.appendChild(b)}},p.prototype.insertBefore=function(h,y){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(m){return h instanceof m}))throw new l.ParchmentError("Cannot insert "+h.statics.blotName+" into "+this.statics.blotName);h.insertInto(this,y)},p.prototype.length=function(){return this.children.reduce(function(h,y){return h+y.length()},0)},p.prototype.moveChildren=function(h,y){this.children.forEach(function(m){h.insertBefore(m,y)})},p.prototype.optimize=function(h){if(d.prototype.optimize.call(this,h),this.children.length===0)if(this.statics.defaultChild!=null){var y=l.create(this.statics.defaultChild);this.appendChild(y),y.optimize(h)}else this.remove()},p.prototype.path=function(h,y){y===void 0&&(y=!1);var m=this.children.find(h,y),x=m[0],g=m[1],v=[[this,h]];return x instanceof p?v.concat(x.path(g,y)):(x!=null&&v.push([x,g]),v)},p.prototype.removeChild=function(h){this.children.remove(h)},p.prototype.replace=function(h){h instanceof p&&h.moveChildren(this),d.prototype.replace.call(this,h)},p.prototype.split=function(h,y){if(y===void 0&&(y=!1),!y){if(h===0)return this;if(h===this.length())return this.next}var m=this.clone();return this.parent.insertBefore(m,this.next),this.children.forEachAt(h,this.length(),function(x,g,v){x=x.split(g,y),m.appendChild(x)}),m},p.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},p.prototype.update=function(h,y){var m=this,x=[],g=[];h.forEach(function(v){v.target===m.domNode&&v.type==="childList"&&(x.push.apply(x,v.addedNodes),g.push.apply(g,v.removedNodes))}),g.forEach(function(v){if(!(v.parentNode!=null&&v.tagName!=="IFRAME"&&document.body.compareDocumentPosition(v)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var b=l.find(v);b!=null&&(b.domNode.parentNode==null||b.domNode.parentNode===m.domNode)&&b.detach()}}),x.filter(function(v){return v.parentNode==m.domNode}).sort(function(v,b){return v===b?0:v.compareDocumentPosition(b)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(v){var b=null;v.nextSibling!=null&&(b=l.find(v.nextSibling));var _=u(v);(_.next!=b||_.next==null)&&(_.parent!=null&&_.parent.removeChild(m),m.insertBefore(_,b||void 0))})},p}(o.default);function u(d){var p=l.find(d);if(p==null)try{p=l.create(d)}catch{p=l.create(l.Scope.INLINE),[].slice.call(d.childNodes).forEach(function(y){p.domNode.appendChild(y)}),d.parentNode&&d.parentNode.replaceChild(p.domNode,d),p.attach()}return p}n.default=c},function(r,n,i){var a=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,h){p.__proto__=h}||function(p,h){for(var y in h)h.hasOwnProperty(y)&&(p[y]=h[y])};return function(p,h){d(p,h);function y(){this.constructor=p}p.prototype=h===null?Object.create(h):(y.prototype=h.prototype,new y)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=i(12),o=i(31),l=i(17),c=i(1),u=function(d){a(p,d);function p(h){var y=d.call(this,h)||this;return y.attributes=new o.default(y.domNode),y}return p.formats=function(h){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return h.tagName.toLowerCase()},p.prototype.format=function(h,y){var m=c.query(h);m instanceof s.default?this.attributes.attribute(m,y):y&&m!=null&&(h!==this.statics.blotName||this.formats()[h]!==y)&&this.replaceWith(h,y)},p.prototype.formats=function(){var h=this.attributes.values(),y=this.statics.formats(this.domNode);return y!=null&&(h[this.statics.blotName]=y),h},p.prototype.replaceWith=function(h,y){var m=d.prototype.replaceWith.call(this,h,y);return this.attributes.copy(m),m},p.prototype.update=function(h,y){var m=this;d.prototype.update.call(this,h,y),h.some(function(x){return x.target===m.domNode&&x.type==="attributes"})&&this.attributes.build()},p.prototype.wrap=function(h,y){var m=d.prototype.wrap.call(this,h,y);return m instanceof p&&m.statics.scope===this.statics.scope&&this.attributes.move(m),m},p}(l.default);n.default=u},function(r,n,i){var a=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,d){u.__proto__=d}||function(u,d){for(var p in d)d.hasOwnProperty(p)&&(u[p]=d[p])};return function(u,d){c(u,d);function p(){this.constructor=u}u.prototype=d===null?Object.create(d):(p.prototype=d.prototype,new p)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=i(30),o=i(1),l=function(c){a(u,c);function u(){return c!==null&&c.apply(this,arguments)||this}return u.value=function(d){return!0},u.prototype.index=function(d,p){return this.domNode===d||this.domNode.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(p,1):-1},u.prototype.position=function(d,p){var h=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return d>0&&(h+=1),[this.parent.domNode,h]},u.prototype.value=function(){var d;return d={},d[this.statics.blotName]=this.statics.value(this.domNode)||!0,d},u.scope=o.Scope.INLINE_BLOT,u}(s.default);n.default=l},function(r,n,i){var a=i(11),s=i(3),o={attributes:{compose:function(c,u,d){typeof c!="object"&&(c={}),typeof u!="object"&&(u={});var p=s(!0,{},u);d||(p=Object.keys(p).reduce(function(y,m){return p[m]!=null&&(y[m]=p[m]),y},{}));for(var h in c)c[h]!==void 0&&u[h]===void 0&&(p[h]=c[h]);return Object.keys(p).length>0?p:void 0},diff:function(c,u){typeof c!="object"&&(c={}),typeof u!="object"&&(u={});var d=Object.keys(c).concat(Object.keys(u)).reduce(function(p,h){return a(c[h],u[h])||(p[h]=u[h]===void 0?null:u[h]),p},{});return Object.keys(d).length>0?d:void 0},transform:function(c,u,d){if(typeof c!="object")return u;if(typeof u=="object"){if(!d)return u;var p=Object.keys(u).reduce(function(h,y){return c[y]===void 0&&(h[y]=u[y]),h},{});return Object.keys(p).length>0?p:void 0}}},iterator:function(c){return new l(c)},length:function(c){return typeof c.delete=="number"?c.delete:typeof c.retain=="number"?c.retain:typeof c.insert=="string"?c.insert.length:1}};function l(c){this.ops=c,this.index=0,this.offset=0}l.prototype.hasNext=function(){return this.peekLength()<1/0},l.prototype.next=function(c){c||(c=1/0);var u=this.ops[this.index];if(u){var d=this.offset,p=o.length(u);if(c>=p-d?(c=p-d,this.index+=1,this.offset=0):this.offset+=c,typeof u.delete=="number")return{delete:c};var h={};return u.attributes&&(h.attributes=u.attributes),typeof u.retain=="number"?h.retain=c:typeof u.insert=="string"?h.insert=u.insert.substr(d,c):h.insert=u.insert,h}else return{retain:1/0}},l.prototype.peek=function(){return this.ops[this.index]},l.prototype.peekLength=function(){return this.ops[this.index]?o.length(this.ops[this.index])-this.offset:1/0},l.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},l.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var c=this.offset,u=this.index,d=this.next(),p=this.ops.slice(this.index);return this.offset=c,this.index=u,[d].concat(p)}else return[]},r.exports=o},function(r,n){var i=function(){function a(m,x){return x!=null&&m instanceof x}var s;try{s=Map}catch{s=function(){}}var o;try{o=Set}catch{o=function(){}}var l;try{l=Promise}catch{l=function(){}}function c(m,x,g,v,b){typeof x=="object"&&(g=x.depth,v=x.prototype,b=x.includeNonEnumerable,x=x.circular);var _=[],E=[],F=typeof Buffer<"u";typeof x>"u"&&(x=!0),typeof g>"u"&&(g=1/0);function A(O,C){if(O===null)return null;if(C===0)return O;var L,N;if(typeof O!="object")return O;if(a(O,s))L=new s;else if(a(O,o))L=new o;else if(a(O,l))L=new l(function(W,q){O.then(function(k){W(A(k,C-1))},function(k){q(A(k,C-1))})});else if(c.__isArray(O))L=[];else if(c.__isRegExp(O))L=new RegExp(O.source,y(O)),O.lastIndex&&(L.lastIndex=O.lastIndex);else if(c.__isDate(O))L=new Date(O.getTime());else{if(F&&Buffer.isBuffer(O))return Buffer.allocUnsafe?L=Buffer.allocUnsafe(O.length):L=new Buffer(O.length),O.copy(L),L;a(O,Error)?L=Object.create(O):typeof v>"u"?(N=Object.getPrototypeOf(O),L=Object.create(N)):(L=Object.create(v),N=v)}if(x){var j=_.indexOf(O);if(j!=-1)return E[j];_.push(O),E.push(L)}a(O,s)&&O.forEach(function(W,q){var k=A(q,C-1),I=A(W,C-1);L.set(k,I)}),a(O,o)&&O.forEach(function(W){var q=A(W,C-1);L.add(q)});for(var T in O){var B;N&&(B=Object.getOwnPropertyDescriptor(N,T)),!(B&&B.set==null)&&(L[T]=A(O[T],C-1))}if(Object.getOwnPropertySymbols)for(var z=Object.getOwnPropertySymbols(O),T=0;T<z.length;T++){var Q=z[T],ne=Object.getOwnPropertyDescriptor(O,Q);ne&&!ne.enumerable&&!b||(L[Q]=A(O[Q],C-1),ne.enumerable||Object.defineProperty(L,Q,{enumerable:!1}))}if(b)for(var ie=Object.getOwnPropertyNames(O),T=0;T<ie.length;T++){var K=ie[T],ne=Object.getOwnPropertyDescriptor(O,K);ne&&ne.enumerable||(L[K]=A(O[K],C-1),Object.defineProperty(L,K,{enumerable:!1}))}return L}return A(m,g)}c.clonePrototype=function(x){if(x===null)return null;var g=function(){};return g.prototype=x,new g};function u(m){return Object.prototype.toString.call(m)}c.__objToStr=u;function d(m){return typeof m=="object"&&u(m)==="[object Date]"}c.__isDate=d;function p(m){return typeof m=="object"&&u(m)==="[object Array]"}c.__isArray=p;function h(m){return typeof m=="object"&&u(m)==="[object RegExp]"}c.__isRegExp=h;function y(m){var x="";return m.global&&(x+="g"),m.ignoreCase&&(x+="i"),m.multiline&&(x+="m"),x}return c.__getRegExpFlags=y,c}();typeof r=="object"&&r.exports&&(r.exports=i)},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function L(N,j){var T=[],B=!0,z=!1,Q=void 0;try{for(var ne=N[Symbol.iterator](),ie;!(B=(ie=ne.next()).done)&&(T.push(ie.value),!(j&&T.length===j));B=!0);}catch(K){z=!0,Q=K}finally{try{!B&&ne.return&&ne.return()}finally{if(z)throw Q}}return T}return function(N,j){if(Array.isArray(N))return N;if(Symbol.iterator in Object(N))return L(N,j);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function L(N,j){for(var T=0;T<j.length;T++){var B=j[T];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(N,B.key,B)}}return function(N,j,T){return j&&L(N.prototype,j),T&&L(N,T),N}}(),o=function L(N,j,T){N===null&&(N=Function.prototype);var B=Object.getOwnPropertyDescriptor(N,j);if(B===void 0){var z=Object.getPrototypeOf(N);return z===null?void 0:L(z,j,T)}else{if("value"in B)return B.value;var Q=B.get;return Q===void 0?void 0:Q.call(T)}},l=i(0),c=_(l),u=i(8),d=_(u),p=i(4),h=_(p),y=i(16),m=_(y),x=i(13),g=_(x),v=i(25),b=_(v);function _(L){return L&&L.__esModule?L:{default:L}}function E(L,N){if(!(L instanceof N))throw new TypeError("Cannot call a class as a function")}function F(L,N){if(!L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:L}function A(L,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);L.prototype=Object.create(N&&N.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(L,N):L.__proto__=N)}function O(L){return L instanceof h.default||L instanceof p.BlockEmbed}var C=function(L){A(N,L);function N(j,T){E(this,N);var B=F(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,j));return B.emitter=T.emitter,Array.isArray(T.whitelist)&&(B.whitelist=T.whitelist.reduce(function(z,Q){return z[Q]=!0,z},{})),B.domNode.addEventListener("DOMNodeInserted",function(){}),B.optimize(),B.enable(),B}return s(N,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(T,B){var z=this.line(T),Q=a(z,2),ne=Q[0],ie=Q[1],K=this.line(T+B),W=a(K,1),q=W[0];if(o(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"deleteAt",this).call(this,T,B),q!=null&&ne!==q&&ie>0){if(ne instanceof p.BlockEmbed||q instanceof p.BlockEmbed){this.optimize();return}if(ne instanceof g.default){var k=ne.newlineIndex(ne.length(),!0);if(k>-1&&(ne=ne.split(k+1),ne===q)){this.optimize();return}}else if(q instanceof g.default){var I=q.newlineIndex(0);I>-1&&q.split(I+1)}var M=q.children.head instanceof m.default?null:q.children.head;ne.moveChildren(q,M),ne.remove()}this.optimize()}},{key:"enable",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",T)}},{key:"formatAt",value:function(T,B,z,Q){this.whitelist!=null&&!this.whitelist[z]||(o(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"formatAt",this).call(this,T,B,z,Q),this.optimize())}},{key:"insertAt",value:function(T,B,z){if(!(z!=null&&this.whitelist!=null&&!this.whitelist[B])){if(T>=this.length())if(z==null||c.default.query(B,c.default.Scope.BLOCK)==null){var Q=c.default.create(this.statics.defaultChild);this.appendChild(Q),z==null&&B.endsWith(`
`)&&(B=B.slice(0,-1)),Q.insertAt(0,B,z)}else{var ne=c.default.create(B,z);this.appendChild(ne)}else o(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"insertAt",this).call(this,T,B,z);this.optimize()}}},{key:"insertBefore",value:function(T,B){if(T.statics.scope===c.default.Scope.INLINE_BLOT){var z=c.default.create(this.statics.defaultChild);z.appendChild(T),T=z}o(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"insertBefore",this).call(this,T,B)}},{key:"leaf",value:function(T){return this.path(T).pop()||[null,-1]}},{key:"line",value:function(T){return T===this.length()?this.line(T-1):this.descendant(O,T)}},{key:"lines",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,z=function Q(ne,ie,K){var W=[],q=K;return ne.children.forEachAt(ie,K,function(k,I,M){O(k)?W.push(k):k instanceof c.default.Container&&(W=W.concat(Q(k,I,q))),q-=M}),W};return z(this,T,B)}},{key:"optimize",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(o(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"optimize",this).call(this,T,B),T.length>0&&this.emitter.emit(d.default.events.SCROLL_OPTIMIZE,T,B))}},{key:"path",value:function(T){return o(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"path",this).call(this,T).slice(1)}},{key:"update",value:function(T){if(this.batch!==!0){var B=d.default.sources.USER;typeof T=="string"&&(B=T),Array.isArray(T)||(T=this.observer.takeRecords()),T.length>0&&this.emitter.emit(d.default.events.SCROLL_BEFORE_UPDATE,B,T),o(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"update",this).call(this,T.concat([])),T.length>0&&this.emitter.emit(d.default.events.SCROLL_UPDATE,B,T)}}}]),N}(c.default.Scroll);C.blotName="scroll",C.className="ql-editor",C.tagName="DIV",C.defaultChild="block",C.allowedChildren=[h.default,p.BlockEmbed,b.default],n.default=C},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.SHORTKEY=n.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},s=function(){function R(G,te){var V=[],Y=!0,oe=!1,ve=void 0;try{for(var Ne=G[Symbol.iterator](),_e;!(Y=(_e=Ne.next()).done)&&(V.push(_e.value),!(te&&V.length===te));Y=!0);}catch(X){oe=!0,ve=X}finally{try{!Y&&Ne.return&&Ne.return()}finally{if(oe)throw ve}}return V}return function(G,te){if(Array.isArray(G))return G;if(Symbol.iterator in Object(G))return R(G,te);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function R(G,te){for(var V=0;V<te.length;V++){var Y=te[V];Y.enumerable=Y.enumerable||!1,Y.configurable=!0,"value"in Y&&(Y.writable=!0),Object.defineProperty(G,Y.key,Y)}}return function(G,te,V){return te&&R(G.prototype,te),V&&R(G,V),G}}(),l=i(21),c=L(l),u=i(11),d=L(u),p=i(3),h=L(p),y=i(2),m=L(y),x=i(20),g=L(x),v=i(0),b=L(v),_=i(5),E=L(_),F=i(10),A=L(F),O=i(9),C=L(O);function L(R){return R&&R.__esModule?R:{default:R}}function N(R,G,te){return G in R?Object.defineProperty(R,G,{value:te,enumerable:!0,configurable:!0,writable:!0}):R[G]=te,R}function j(R,G){if(!(R instanceof G))throw new TypeError("Cannot call a class as a function")}function T(R,G){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return G&&(typeof G=="object"||typeof G=="function")?G:R}function B(R,G){if(typeof G!="function"&&G!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof G);R.prototype=Object.create(G&&G.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),G&&(Object.setPrototypeOf?Object.setPrototypeOf(R,G):R.__proto__=G)}var z=(0,A.default)("quill:keyboard"),Q=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",ne=function(R){B(G,R),o(G,null,[{key:"match",value:function(V,Y){return Y=U(Y),["altKey","ctrlKey","metaKey","shiftKey"].some(function(oe){return!!Y[oe]!==V[oe]&&Y[oe]!==null})?!1:Y.key===(V.which||V.keyCode)}}]);function G(te,V){j(this,G);var Y=T(this,(G.__proto__||Object.getPrototypeOf(G)).call(this,te,V));return Y.bindings={},Object.keys(Y.options.bindings).forEach(function(oe){oe==="list autofill"&&te.scroll.whitelist!=null&&!te.scroll.whitelist.list||Y.options.bindings[oe]&&Y.addBinding(Y.options.bindings[oe])}),Y.addBinding({key:G.keys.ENTER,shiftKey:null},k),Y.addBinding({key:G.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(Y.addBinding({key:G.keys.BACKSPACE},{collapsed:!0},K),Y.addBinding({key:G.keys.DELETE},{collapsed:!0},W)):(Y.addBinding({key:G.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},K),Y.addBinding({key:G.keys.DELETE},{collapsed:!0,suffix:/^.?$/},W)),Y.addBinding({key:G.keys.BACKSPACE},{collapsed:!1},q),Y.addBinding({key:G.keys.DELETE},{collapsed:!1},q),Y.addBinding({key:G.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},K),Y.listen(),Y}return o(G,[{key:"addBinding",value:function(V){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ve=U(V);if(ve==null||ve.key==null)return z.warn("Attempted to add invalid keyboard binding",ve);typeof Y=="function"&&(Y={handler:Y}),typeof oe=="function"&&(oe={handler:oe}),ve=(0,h.default)(ve,Y,oe),this.bindings[ve.key]=this.bindings[ve.key]||[],this.bindings[ve.key].push(ve)}},{key:"listen",value:function(){var V=this;this.quill.root.addEventListener("keydown",function(Y){if(!Y.defaultPrevented){var oe=Y.which||Y.keyCode,ve=(V.bindings[oe]||[]).filter(function(Ye){return G.match(Y,Ye)});if(ve.length!==0){var Ne=V.quill.getSelection();if(!(Ne==null||!V.quill.hasFocus())){var _e=V.quill.getLine(Ne.index),X=s(_e,2),Ee=X[0],Oe=X[1],be=V.quill.getLeaf(Ne.index),xe=s(be,2),De=xe[0],Be=xe[1],Ce=Ne.length===0?[De,Be]:V.quill.getLeaf(Ne.index+Ne.length),Xe=s(Ce,2),tt=Xe[0],ct=Xe[1],pt=De instanceof b.default.Text?De.value().slice(0,Be):"",bt=tt instanceof b.default.Text?tt.value().slice(ct):"",Ae={collapsed:Ne.length===0,empty:Ne.length===0&&Ee.length()<=1,format:V.quill.getFormat(Ne),offset:Oe,prefix:pt,suffix:bt},We=ve.some(function(Ye){if(Ye.collapsed!=null&&Ye.collapsed!==Ae.collapsed||Ye.empty!=null&&Ye.empty!==Ae.empty||Ye.offset!=null&&Ye.offset!==Ae.offset)return!1;if(Array.isArray(Ye.format)){if(Ye.format.every(function($e){return Ae.format[$e]==null}))return!1}else if(a(Ye.format)==="object"&&!Object.keys(Ye.format).every(function($e){return Ye.format[$e]===!0?Ae.format[$e]!=null:Ye.format[$e]===!1?Ae.format[$e]==null:(0,d.default)(Ye.format[$e],Ae.format[$e])}))return!1;return Ye.prefix!=null&&!Ye.prefix.test(Ae.prefix)||Ye.suffix!=null&&!Ye.suffix.test(Ae.suffix)?!1:Ye.handler.call(V,Ne,Ae)!==!0});We&&Y.preventDefault()}}}})}}]),G}(C.default);ne.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},ne.DEFAULTS={bindings:{bold:M("bold"),italic:M("italic"),underline:M("underline"),indent:{key:ne.keys.TAB,format:["blockquote","indent","list"],handler:function(G,te){if(te.collapsed&&te.offset!==0)return!0;this.quill.format("indent","+1",E.default.sources.USER)}},outdent:{key:ne.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(G,te){if(te.collapsed&&te.offset!==0)return!0;this.quill.format("indent","-1",E.default.sources.USER)}},"outdent backspace":{key:ne.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(G,te){te.format.indent!=null?this.quill.format("indent","-1",E.default.sources.USER):te.format.list!=null&&this.quill.format("list",!1,E.default.sources.USER)}},"indent code-block":I(!0),"outdent code-block":I(!1),"remove tab":{key:ne.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(G){this.quill.deleteText(G.index-1,1,E.default.sources.USER)}},tab:{key:ne.keys.TAB,handler:function(G){this.quill.history.cutoff();var te=new m.default().retain(G.index).delete(G.length).insert("	");this.quill.updateContents(te,E.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(G.index+1,E.default.sources.SILENT)}},"list empty enter":{key:ne.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(G,te){this.quill.format("list",!1,E.default.sources.USER),te.format.indent&&this.quill.format("indent",!1,E.default.sources.USER)}},"checklist enter":{key:ne.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(G){var te=this.quill.getLine(G.index),V=s(te,2),Y=V[0],oe=V[1],ve=(0,h.default)({},Y.formats(),{list:"checked"}),Ne=new m.default().retain(G.index).insert(`
`,ve).retain(Y.length()-oe-1).retain(1,{list:"unchecked"});this.quill.updateContents(Ne,E.default.sources.USER),this.quill.setSelection(G.index+1,E.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:ne.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(G,te){var V=this.quill.getLine(G.index),Y=s(V,2),oe=Y[0],ve=Y[1],Ne=new m.default().retain(G.index).insert(`
`,te.format).retain(oe.length()-ve-1).retain(1,{header:null});this.quill.updateContents(Ne,E.default.sources.USER),this.quill.setSelection(G.index+1,E.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(G,te){var V=te.prefix.length,Y=this.quill.getLine(G.index),oe=s(Y,2),ve=oe[0],Ne=oe[1];if(Ne>V)return!0;var _e=void 0;switch(te.prefix.trim()){case"[]":case"[ ]":_e="unchecked";break;case"[x]":_e="checked";break;case"-":case"*":_e="bullet";break;default:_e="ordered"}this.quill.insertText(G.index," ",E.default.sources.USER),this.quill.history.cutoff();var X=new m.default().retain(G.index-Ne).delete(V+1).retain(ve.length()-2-Ne).retain(1,{list:_e});this.quill.updateContents(X,E.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(G.index-V,E.default.sources.SILENT)}},"code exit":{key:ne.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(G){var te=this.quill.getLine(G.index),V=s(te,2),Y=V[0],oe=V[1],ve=new m.default().retain(G.index+Y.length()-oe-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(ve,E.default.sources.USER)}},"embed left":ie(ne.keys.LEFT,!1),"embed left shift":ie(ne.keys.LEFT,!0),"embed right":ie(ne.keys.RIGHT,!1),"embed right shift":ie(ne.keys.RIGHT,!0)}};function ie(R,G){var te,V=R===ne.keys.LEFT?"prefix":"suffix";return te={key:R,shiftKey:G,altKey:null},N(te,V,/^$/),N(te,"handler",function(oe){var ve=oe.index;R===ne.keys.RIGHT&&(ve+=oe.length+1);var Ne=this.quill.getLeaf(ve),_e=s(Ne,1),X=_e[0];return X instanceof b.default.Embed?(R===ne.keys.LEFT?G?this.quill.setSelection(oe.index-1,oe.length+1,E.default.sources.USER):this.quill.setSelection(oe.index-1,E.default.sources.USER):G?this.quill.setSelection(oe.index,oe.length+1,E.default.sources.USER):this.quill.setSelection(oe.index+oe.length+1,E.default.sources.USER),!1):!0}),te}function K(R,G){if(!(R.index===0||this.quill.getLength()<=1)){var te=this.quill.getLine(R.index),V=s(te,1),Y=V[0],oe={};if(G.offset===0){var ve=this.quill.getLine(R.index-1),Ne=s(ve,1),_e=Ne[0];if(_e!=null&&_e.length()>1){var X=Y.formats(),Ee=this.quill.getFormat(R.index-1,1);oe=g.default.attributes.diff(X,Ee)||{}}}var Oe=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(G.prefix)?2:1;this.quill.deleteText(R.index-Oe,Oe,E.default.sources.USER),Object.keys(oe).length>0&&this.quill.formatLine(R.index-Oe,Oe,oe,E.default.sources.USER),this.quill.focus()}}function W(R,G){var te=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(G.suffix)?2:1;if(!(R.index>=this.quill.getLength()-te)){var V={},Y=0,oe=this.quill.getLine(R.index),ve=s(oe,1),Ne=ve[0];if(G.offset>=Ne.length()-1){var _e=this.quill.getLine(R.index+1),X=s(_e,1),Ee=X[0];if(Ee){var Oe=Ne.formats(),be=this.quill.getFormat(R.index,1);V=g.default.attributes.diff(Oe,be)||{},Y=Ee.length()}}this.quill.deleteText(R.index,te,E.default.sources.USER),Object.keys(V).length>0&&this.quill.formatLine(R.index+Y-1,te,V,E.default.sources.USER)}}function q(R){var G=this.quill.getLines(R),te={};if(G.length>1){var V=G[0].formats(),Y=G[G.length-1].formats();te=g.default.attributes.diff(Y,V)||{}}this.quill.deleteText(R,E.default.sources.USER),Object.keys(te).length>0&&this.quill.formatLine(R.index,1,te,E.default.sources.USER),this.quill.setSelection(R.index,E.default.sources.SILENT),this.quill.focus()}function k(R,G){var te=this;R.length>0&&this.quill.scroll.deleteAt(R.index,R.length);var V=Object.keys(G.format).reduce(function(Y,oe){return b.default.query(oe,b.default.Scope.BLOCK)&&!Array.isArray(G.format[oe])&&(Y[oe]=G.format[oe]),Y},{});this.quill.insertText(R.index,`
`,V,E.default.sources.USER),this.quill.setSelection(R.index+1,E.default.sources.SILENT),this.quill.focus(),Object.keys(G.format).forEach(function(Y){V[Y]==null&&(Array.isArray(G.format[Y])||Y!=="link"&&te.quill.format(Y,G.format[Y],E.default.sources.USER))})}function I(R){return{key:ne.keys.TAB,shiftKey:!R,format:{"code-block":!0},handler:function(te){var V=b.default.query("code-block"),Y=te.index,oe=te.length,ve=this.quill.scroll.descendant(V,Y),Ne=s(ve,2),_e=Ne[0],X=Ne[1];if(_e!=null){var Ee=this.quill.getIndex(_e),Oe=_e.newlineIndex(X,!0)+1,be=_e.newlineIndex(Ee+X+oe),xe=_e.domNode.textContent.slice(Oe,be).split(`
`);X=0,xe.forEach(function(De,Be){R?(_e.insertAt(Oe+X,V.TAB),X+=V.TAB.length,Be===0?Y+=V.TAB.length:oe+=V.TAB.length):De.startsWith(V.TAB)&&(_e.deleteAt(Oe+X,V.TAB.length),X-=V.TAB.length,Be===0?Y-=V.TAB.length:oe-=V.TAB.length),X+=De.length+1}),this.quill.update(E.default.sources.USER),this.quill.setSelection(Y,oe,E.default.sources.SILENT)}}}}function M(R){return{key:R[0].toUpperCase(),shortKey:!0,handler:function(te,V){this.quill.format(R,!V.format[R],E.default.sources.USER)}}}function U(R){if(typeof R=="string"||typeof R=="number")return U({key:R});if((typeof R>"u"?"undefined":a(R))==="object"&&(R=(0,c.default)(R,!1)),typeof R.key=="string")if(ne.keys[R.key.toUpperCase()]!=null)R.key=ne.keys[R.key.toUpperCase()];else if(R.key.length===1)R.key=R.key.toUpperCase().charCodeAt(0);else return null;return R.shortKey&&(R[Q]=R.shortKey,delete R.shortKey),R}n.default=ne,n.SHORTKEY=Q},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function g(v,b){var _=[],E=!0,F=!1,A=void 0;try{for(var O=v[Symbol.iterator](),C;!(E=(C=O.next()).done)&&(_.push(C.value),!(b&&_.length===b));E=!0);}catch(L){F=!0,A=L}finally{try{!E&&O.return&&O.return()}finally{if(F)throw A}}return _}return function(v,b){if(Array.isArray(v))return v;if(Symbol.iterator in Object(v))return g(v,b);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function g(v,b,_){v===null&&(v=Function.prototype);var E=Object.getOwnPropertyDescriptor(v,b);if(E===void 0){var F=Object.getPrototypeOf(v);return F===null?void 0:g(F,b,_)}else{if("value"in E)return E.value;var A=E.get;return A===void 0?void 0:A.call(_)}},o=function(){function g(v,b){for(var _=0;_<b.length;_++){var E=b[_];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(v,E.key,E)}}return function(v,b,_){return b&&g(v.prototype,b),_&&g(v,_),v}}(),l=i(0),c=p(l),u=i(7),d=p(u);function p(g){return g&&g.__esModule?g:{default:g}}function h(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function y(g,v){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:g}function m(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);g.prototype=Object.create(v&&v.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(g,v):g.__proto__=v)}var x=function(g){m(v,g),o(v,null,[{key:"value",value:function(){}}]);function v(b,_){h(this,v);var E=y(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,b));return E.selection=_,E.textNode=document.createTextNode(v.CONTENTS),E.domNode.appendChild(E.textNode),E._length=0,E}return o(v,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(_,E){if(this._length!==0)return s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"format",this).call(this,_,E);for(var F=this,A=0;F!=null&&F.statics.scope!==c.default.Scope.BLOCK_BLOT;)A+=F.offset(F.parent),F=F.parent;F!=null&&(this._length=v.CONTENTS.length,F.optimize(),F.formatAt(A,v.CONTENTS.length,_,E),this._length=0)}},{key:"index",value:function(_,E){return _===this.textNode?0:s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"index",this).call(this,_,E)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var _=this.textNode,E=this.selection.getNativeRange(),F=void 0,A=void 0,O=void 0;if(E!=null&&E.start.node===_&&E.end.node===_){var C=[_,E.start.offset,E.end.offset];F=C[0],A=C[1],O=C[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==v.CONTENTS){var L=this.textNode.data.split(v.CONTENTS).join("");this.next instanceof d.default?(F=this.next.domNode,this.next.insertAt(0,L),this.textNode.data=v.CONTENTS):(this.textNode.data=L,this.parent.insertBefore(c.default.create(this.textNode),this),this.textNode=document.createTextNode(v.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),A!=null){var N=[A,O].map(function(T){return Math.max(0,Math.min(F.data.length,T-1))}),j=a(N,2);return A=j[0],O=j[1],{startNode:F,startOffset:A,endNode:F,endOffset:O}}}}},{key:"update",value:function(_,E){var F=this;if(_.some(function(O){return O.type==="characterData"&&O.target===F.textNode})){var A=this.restore();A&&(E.range=A)}}},{key:"value",value:function(){return""}}]),v}(c.default.Embed);x.blotName="cursor",x.className="ql-cursor",x.tagName="span",x.CONTENTS="\uFEFF",n.default=x},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(0),s=c(a),o=i(4),l=c(o);function c(y){return y&&y.__esModule?y:{default:y}}function u(y,m){if(!(y instanceof m))throw new TypeError("Cannot call a class as a function")}function d(y,m){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:y}function p(y,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);y.prototype=Object.create(m&&m.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(y,m):y.__proto__=m)}var h=function(y){p(m,y);function m(){return u(this,m),d(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(s.default.Container);h.allowedChildren=[l.default,o.BlockEmbed,h],n.default=h},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.ColorStyle=n.ColorClass=n.ColorAttributor=void 0;var a=function(){function x(g,v){for(var b=0;b<v.length;b++){var _=v[b];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(g,_.key,_)}}return function(g,v,b){return v&&x(g.prototype,v),b&&x(g,b),g}}(),s=function x(g,v,b){g===null&&(g=Function.prototype);var _=Object.getOwnPropertyDescriptor(g,v);if(_===void 0){var E=Object.getPrototypeOf(g);return E===null?void 0:x(E,v,b)}else{if("value"in _)return _.value;var F=_.get;return F===void 0?void 0:F.call(b)}},o=i(0),l=c(o);function c(x){return x&&x.__esModule?x:{default:x}}function u(x,g){if(!(x instanceof g))throw new TypeError("Cannot call a class as a function")}function d(x,g){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:x}function p(x,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);x.prototype=Object.create(g&&g.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(x,g):x.__proto__=g)}var h=function(x){p(g,x);function g(){return u(this,g),d(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return a(g,[{key:"value",value:function(b){var _=s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"value",this).call(this,b);return _.startsWith("rgb(")?(_=_.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+_.split(",").map(function(E){return("00"+parseInt(E).toString(16)).slice(-2)}).join("")):_}}]),g}(l.default.Attributor.Style),y=new l.default.Attributor.Class("color","ql-color",{scope:l.default.Scope.INLINE}),m=new h("color","color",{scope:l.default.Scope.INLINE});n.ColorAttributor=h,n.ColorClass=y,n.ColorStyle=m},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.sanitize=n.default=void 0;var a=function(){function m(x,g){for(var v=0;v<g.length;v++){var b=g[v];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(x,b.key,b)}}return function(x,g,v){return g&&m(x.prototype,g),v&&m(x,v),x}}(),s=function m(x,g,v){x===null&&(x=Function.prototype);var b=Object.getOwnPropertyDescriptor(x,g);if(b===void 0){var _=Object.getPrototypeOf(x);return _===null?void 0:m(_,g,v)}else{if("value"in b)return b.value;var E=b.get;return E===void 0?void 0:E.call(v)}},o=i(6),l=c(o);function c(m){return m&&m.__esModule?m:{default:m}}function u(m,x){if(!(m instanceof x))throw new TypeError("Cannot call a class as a function")}function d(m,x){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:m}function p(m,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);m.prototype=Object.create(x&&x.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(m,x):m.__proto__=x)}var h=function(m){p(x,m);function x(){return u(this,x),d(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return a(x,[{key:"format",value:function(v,b){if(v!==this.statics.blotName||!b)return s(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"format",this).call(this,v,b);b=this.constructor.sanitize(b),this.domNode.setAttribute("href",b)}}],[{key:"create",value:function(v){var b=s(x.__proto__||Object.getPrototypeOf(x),"create",this).call(this,v);return v=this.sanitize(v),b.setAttribute("href",v),b.setAttribute("rel","noopener noreferrer"),b.setAttribute("target","_blank"),b}},{key:"formats",value:function(v){return v.getAttribute("href")}},{key:"sanitize",value:function(v){return y(v,this.PROTOCOL_WHITELIST)?v:this.SANITIZED_URL}}]),x}(l.default);h.blotName="link",h.tagName="A",h.SANITIZED_URL="about:blank",h.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function y(m,x){var g=document.createElement("a");g.href=m;var v=g.href.slice(0,g.href.indexOf(":"));return x.indexOf(v)>-1}n.default=h,n.sanitize=y},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},s=function(){function x(g,v){for(var b=0;b<v.length;b++){var _=v[b];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(g,_.key,_)}}return function(g,v,b){return v&&x(g.prototype,v),b&&x(g,b),g}}(),o=i(23),l=d(o),c=i(107),u=d(c);function d(x){return x&&x.__esModule?x:{default:x}}function p(x,g){if(!(x instanceof g))throw new TypeError("Cannot call a class as a function")}var h=0;function y(x,g){x.setAttribute(g,x.getAttribute(g)!=="true")}var m=function(){function x(g){var v=this;p(this,x),this.select=g,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){v.togglePicker()}),this.label.addEventListener("keydown",function(b){switch(b.keyCode){case l.default.keys.ENTER:v.togglePicker();break;case l.default.keys.ESCAPE:v.escape(),b.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return s(x,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),y(this.label,"aria-expanded"),y(this.options,"aria-hidden")}},{key:"buildItem",value:function(v){var b=this,_=document.createElement("span");return _.tabIndex="0",_.setAttribute("role","button"),_.classList.add("ql-picker-item"),v.hasAttribute("value")&&_.setAttribute("data-value",v.getAttribute("value")),v.textContent&&_.setAttribute("data-label",v.textContent),_.addEventListener("click",function(){b.selectItem(_,!0)}),_.addEventListener("keydown",function(E){switch(E.keyCode){case l.default.keys.ENTER:b.selectItem(_,!0),E.preventDefault();break;case l.default.keys.ESCAPE:b.escape(),E.preventDefault();break}}),_}},{key:"buildLabel",value:function(){var v=document.createElement("span");return v.classList.add("ql-picker-label"),v.innerHTML=u.default,v.tabIndex="0",v.setAttribute("role","button"),v.setAttribute("aria-expanded","false"),this.container.appendChild(v),v}},{key:"buildOptions",value:function(){var v=this,b=document.createElement("span");b.classList.add("ql-picker-options"),b.setAttribute("aria-hidden","true"),b.tabIndex="-1",b.id="ql-picker-options-"+h,h+=1,this.label.setAttribute("aria-controls",b.id),this.options=b,[].slice.call(this.select.options).forEach(function(_){var E=v.buildItem(_);b.appendChild(E),_.selected===!0&&v.selectItem(E)}),this.container.appendChild(b)}},{key:"buildPicker",value:function(){var v=this;[].slice.call(this.select.attributes).forEach(function(b){v.container.setAttribute(b.name,b.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var v=this;this.close(),setTimeout(function(){return v.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(v){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,_=this.container.querySelector(".ql-selected");if(v!==_&&(_!=null&&_.classList.remove("ql-selected"),v!=null&&(v.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(v.parentNode.children,v),v.hasAttribute("data-value")?this.label.setAttribute("data-value",v.getAttribute("data-value")):this.label.removeAttribute("data-value"),v.hasAttribute("data-label")?this.label.setAttribute("data-label",v.getAttribute("data-label")):this.label.removeAttribute("data-label"),b))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":a(Event))==="object"){var E=document.createEvent("Event");E.initEvent("change",!0,!0),this.select.dispatchEvent(E)}this.close()}}},{key:"update",value:function(){var v=void 0;if(this.select.selectedIndex>-1){var b=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];v=this.select.options[this.select.selectedIndex],this.selectItem(b)}else this.selectItem(null);var _=v!=null&&v!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",_)}}]),x}();n.default=m},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(0),s=z(a),o=i(5),l=z(o),c=i(4),u=z(c),d=i(16),p=z(d),h=i(25),y=z(h),m=i(24),x=z(m),g=i(35),v=z(g),b=i(6),_=z(b),E=i(22),F=z(E),A=i(7),O=z(A),C=i(55),L=z(C),N=i(42),j=z(N),T=i(23),B=z(T);function z(Q){return Q&&Q.__esModule?Q:{default:Q}}l.default.register({"blots/block":u.default,"blots/block/embed":c.BlockEmbed,"blots/break":p.default,"blots/container":y.default,"blots/cursor":x.default,"blots/embed":v.default,"blots/inline":_.default,"blots/scroll":F.default,"blots/text":O.default,"modules/clipboard":L.default,"modules/history":j.default,"modules/keyboard":B.default}),s.default.register(u.default,p.default,x.default,_.default,F.default,O.default),n.default=l.default},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(1),s=function(){function o(l){this.domNode=l,this.domNode[a.DATA_KEY]={blot:this}}return Object.defineProperty(o.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),o.create=function(l){if(this.tagName==null)throw new a.ParchmentError("Blot definition missing tagName");var c;return Array.isArray(this.tagName)?(typeof l=="string"&&(l=l.toUpperCase(),parseInt(l).toString()===l&&(l=parseInt(l))),typeof l=="number"?c=document.createElement(this.tagName[l-1]):this.tagName.indexOf(l)>-1?c=document.createElement(l):c=document.createElement(this.tagName[0])):c=document.createElement(this.tagName),this.className&&c.classList.add(this.className),c},o.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},o.prototype.clone=function(){var l=this.domNode.cloneNode(!1);return a.create(l)},o.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[a.DATA_KEY]},o.prototype.deleteAt=function(l,c){var u=this.isolate(l,c);u.remove()},o.prototype.formatAt=function(l,c,u,d){var p=this.isolate(l,c);if(a.query(u,a.Scope.BLOT)!=null&&d)p.wrap(u,d);else if(a.query(u,a.Scope.ATTRIBUTE)!=null){var h=a.create(this.statics.scope);p.wrap(h),h.format(u,d)}},o.prototype.insertAt=function(l,c,u){var d=u==null?a.create("text",c):a.create(c,u),p=this.split(l);this.parent.insertBefore(d,p)},o.prototype.insertInto=function(l,c){c===void 0&&(c=null),this.parent!=null&&this.parent.children.remove(this);var u=null;l.children.insertBefore(this,c),c!=null&&(u=c.domNode),(this.domNode.parentNode!=l.domNode||this.domNode.nextSibling!=u)&&l.domNode.insertBefore(this.domNode,u),this.parent=l,this.attach()},o.prototype.isolate=function(l,c){var u=this.split(l);return u.split(c),u},o.prototype.length=function(){return 1},o.prototype.offset=function(l){return l===void 0&&(l=this.parent),this.parent==null||this==l?0:this.parent.children.offset(this)+this.parent.offset(l)},o.prototype.optimize=function(l){this.domNode[a.DATA_KEY]!=null&&delete this.domNode[a.DATA_KEY].mutations},o.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},o.prototype.replace=function(l){l.parent!=null&&(l.parent.insertBefore(this,l.next),l.remove())},o.prototype.replaceWith=function(l,c){var u=typeof l=="string"?a.create(l,c):l;return u.replace(this),u},o.prototype.split=function(l,c){return l===0?this:this.next},o.prototype.update=function(l,c){},o.prototype.wrap=function(l,c){var u=typeof l=="string"?a.create(l,c):l;return this.parent!=null&&this.parent.insertBefore(u,this.next),u.appendChild(this),u},o.blotName="abstract",o}();n.default=s},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(12),s=i(32),o=i(33),l=i(1),c=function(){function u(d){this.attributes={},this.domNode=d,this.build()}return u.prototype.attribute=function(d,p){p?d.add(this.domNode,p)&&(d.value(this.domNode)!=null?this.attributes[d.attrName]=d:delete this.attributes[d.attrName]):(d.remove(this.domNode),delete this.attributes[d.attrName])},u.prototype.build=function(){var d=this;this.attributes={};var p=a.default.keys(this.domNode),h=s.default.keys(this.domNode),y=o.default.keys(this.domNode);p.concat(h).concat(y).forEach(function(m){var x=l.query(m,l.Scope.ATTRIBUTE);x instanceof a.default&&(d.attributes[x.attrName]=x)})},u.prototype.copy=function(d){var p=this;Object.keys(this.attributes).forEach(function(h){var y=p.attributes[h].value(p.domNode);d.format(h,y)})},u.prototype.move=function(d){var p=this;this.copy(d),Object.keys(this.attributes).forEach(function(h){p.attributes[h].remove(p.domNode)}),this.attributes={}},u.prototype.values=function(){var d=this;return Object.keys(this.attributes).reduce(function(p,h){return p[h]=d.attributes[h].value(d.domNode),p},{})},u}();n.default=c},function(r,n,i){var a=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,d){u.__proto__=d}||function(u,d){for(var p in d)d.hasOwnProperty(p)&&(u[p]=d[p])};return function(u,d){c(u,d);function p(){this.constructor=u}u.prototype=d===null?Object.create(d):(p.prototype=d.prototype,new p)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=i(12);function o(c,u){var d=c.getAttribute("class")||"";return d.split(/\s+/).filter(function(p){return p.indexOf(u+"-")===0})}var l=function(c){a(u,c);function u(){return c!==null&&c.apply(this,arguments)||this}return u.keys=function(d){return(d.getAttribute("class")||"").split(/\s+/).map(function(p){return p.split("-").slice(0,-1).join("-")})},u.prototype.add=function(d,p){return this.canAdd(d,p)?(this.remove(d),d.classList.add(this.keyName+"-"+p),!0):!1},u.prototype.remove=function(d){var p=o(d,this.keyName);p.forEach(function(h){d.classList.remove(h)}),d.classList.length===0&&d.removeAttribute("class")},u.prototype.value=function(d){var p=o(d,this.keyName)[0]||"",h=p.slice(this.keyName.length+1);return this.canAdd(d,h)?h:""},u}(s.default);n.default=l},function(r,n,i){var a=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,d){u.__proto__=d}||function(u,d){for(var p in d)d.hasOwnProperty(p)&&(u[p]=d[p])};return function(u,d){c(u,d);function p(){this.constructor=u}u.prototype=d===null?Object.create(d):(p.prototype=d.prototype,new p)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=i(12);function o(c){var u=c.split("-"),d=u.slice(1).map(function(p){return p[0].toUpperCase()+p.slice(1)}).join("");return u[0]+d}var l=function(c){a(u,c);function u(){return c!==null&&c.apply(this,arguments)||this}return u.keys=function(d){return(d.getAttribute("style")||"").split(";").map(function(p){var h=p.split(":");return h[0].trim()})},u.prototype.add=function(d,p){return this.canAdd(d,p)?(d.style[o(this.keyName)]=p,!0):!1},u.prototype.remove=function(d){d.style[o(this.keyName)]="",d.getAttribute("style")||d.removeAttribute("style")},u.prototype.value=function(d){var p=d.style[o(this.keyName)];return this.canAdd(d,p)?p:""},u}(s.default);n.default=l},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function l(c,u){for(var d=0;d<u.length;d++){var p=u[d];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(c,p.key,p)}}return function(c,u,d){return u&&l(c.prototype,u),d&&l(c,d),c}}();function s(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}var o=function(){function l(c,u){s(this,l),this.quill=c,this.options=u,this.modules={}}return a(l,[{key:"init",value:function(){var u=this;Object.keys(this.options.modules).forEach(function(d){u.modules[d]==null&&u.addModule(d)})}},{key:"addModule",value:function(u){var d=this.quill.constructor.import("modules/"+u);return this.modules[u]=new d(this.quill,this.options.modules[u]||{}),this.modules[u]}}]),l}();o.DEFAULTS={modules:{}},o.themes={default:o},n.default=o},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function g(v,b){for(var _=0;_<b.length;_++){var E=b[_];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(v,E.key,E)}}return function(v,b,_){return b&&g(v.prototype,b),_&&g(v,_),v}}(),s=function g(v,b,_){v===null&&(v=Function.prototype);var E=Object.getOwnPropertyDescriptor(v,b);if(E===void 0){var F=Object.getPrototypeOf(v);return F===null?void 0:g(F,b,_)}else{if("value"in E)return E.value;var A=E.get;return A===void 0?void 0:A.call(_)}},o=i(0),l=d(o),c=i(7),u=d(c);function d(g){return g&&g.__esModule?g:{default:g}}function p(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function h(g,v){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:g}function y(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);g.prototype=Object.create(v&&v.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(g,v):g.__proto__=v)}var m="\uFEFF",x=function(g){y(v,g);function v(b){p(this,v);var _=h(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,b));return _.contentNode=document.createElement("span"),_.contentNode.setAttribute("contenteditable",!1),[].slice.call(_.domNode.childNodes).forEach(function(E){_.contentNode.appendChild(E)}),_.leftGuard=document.createTextNode(m),_.rightGuard=document.createTextNode(m),_.domNode.appendChild(_.leftGuard),_.domNode.appendChild(_.contentNode),_.domNode.appendChild(_.rightGuard),_}return a(v,[{key:"index",value:function(_,E){return _===this.leftGuard?0:_===this.rightGuard?1:s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"index",this).call(this,_,E)}},{key:"restore",value:function(_){var E=void 0,F=void 0,A=_.data.split(m).join("");if(_===this.leftGuard)if(this.prev instanceof u.default){var O=this.prev.length();this.prev.insertAt(O,A),E={startNode:this.prev.domNode,startOffset:O+A.length}}else F=document.createTextNode(A),this.parent.insertBefore(l.default.create(F),this),E={startNode:F,startOffset:A.length};else _===this.rightGuard&&(this.next instanceof u.default?(this.next.insertAt(0,A),E={startNode:this.next.domNode,startOffset:A.length}):(F=document.createTextNode(A),this.parent.insertBefore(l.default.create(F),this.next),E={startNode:F,startOffset:A.length}));return _.data=m,E}},{key:"update",value:function(_,E){var F=this;_.forEach(function(A){if(A.type==="characterData"&&(A.target===F.leftGuard||A.target===F.rightGuard)){var O=F.restore(A.target);O&&(E.range=O)}})}}]),v}(l.default.Embed);n.default=x},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.AlignStyle=n.AlignClass=n.AlignAttribute=void 0;var a=i(0),s=o(a);function o(p){return p&&p.__esModule?p:{default:p}}var l={scope:s.default.Scope.BLOCK,whitelist:["right","center","justify"]},c=new s.default.Attributor.Attribute("align","align",l),u=new s.default.Attributor.Class("align","ql-align",l),d=new s.default.Attributor.Style("align","text-align",l);n.AlignAttribute=c,n.AlignClass=u,n.AlignStyle=d},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.BackgroundStyle=n.BackgroundClass=void 0;var a=i(0),s=l(a),o=i(26);function l(d){return d&&d.__esModule?d:{default:d}}var c=new s.default.Attributor.Class("background","ql-bg",{scope:s.default.Scope.INLINE}),u=new o.ColorAttributor("background","background-color",{scope:s.default.Scope.INLINE});n.BackgroundClass=c,n.BackgroundStyle=u},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.DirectionStyle=n.DirectionClass=n.DirectionAttribute=void 0;var a=i(0),s=o(a);function o(p){return p&&p.__esModule?p:{default:p}}var l={scope:s.default.Scope.BLOCK,whitelist:["rtl"]},c=new s.default.Attributor.Attribute("direction","dir",l),u=new s.default.Attributor.Class("direction","ql-direction",l),d=new s.default.Attributor.Style("direction","direction",l);n.DirectionAttribute=c,n.DirectionClass=u,n.DirectionStyle=d},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.FontClass=n.FontStyle=void 0;var a=function(){function g(v,b){for(var _=0;_<b.length;_++){var E=b[_];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(v,E.key,E)}}return function(v,b,_){return b&&g(v.prototype,b),_&&g(v,_),v}}(),s=function g(v,b,_){v===null&&(v=Function.prototype);var E=Object.getOwnPropertyDescriptor(v,b);if(E===void 0){var F=Object.getPrototypeOf(v);return F===null?void 0:g(F,b,_)}else{if("value"in E)return E.value;var A=E.get;return A===void 0?void 0:A.call(_)}},o=i(0),l=c(o);function c(g){return g&&g.__esModule?g:{default:g}}function u(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function d(g,v){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:g}function p(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);g.prototype=Object.create(v&&v.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(g,v):g.__proto__=v)}var h={scope:l.default.Scope.INLINE,whitelist:["serif","monospace"]},y=new l.default.Attributor.Class("font","ql-font",h),m=function(g){p(v,g);function v(){return u(this,v),d(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return a(v,[{key:"value",value:function(_){return s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"value",this).call(this,_).replace(/["']/g,"")}}]),v}(l.default.Attributor.Style),x=new m("font","font-family",h);n.FontStyle=x,n.FontClass=y},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.SizeStyle=n.SizeClass=void 0;var a=i(0),s=o(a);function o(u){return u&&u.__esModule?u:{default:u}}var l=new s.default.Attributor.Class("size","ql-size",{scope:s.default.Scope.INLINE,whitelist:["small","large","huge"]}),c=new s.default.Attributor.Style("size","font-size",{scope:s.default.Scope.INLINE,whitelist:["10px","18px","32px"]});n.SizeClass=l,n.SizeStyle=c},function(r,n,i){r.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.getLastChangeIndex=n.default=void 0;var a=function(){function b(_,E){for(var F=0;F<E.length;F++){var A=E[F];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(_,A.key,A)}}return function(_,E,F){return E&&b(_.prototype,E),F&&b(_,F),_}}(),s=i(0),o=p(s),l=i(5),c=p(l),u=i(9),d=p(u);function p(b){return b&&b.__esModule?b:{default:b}}function h(b,_){if(!(b instanceof _))throw new TypeError("Cannot call a class as a function")}function y(b,_){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:b}function m(b,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);b.prototype=Object.create(_&&_.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(b,_):b.__proto__=_)}var x=function(b){m(_,b);function _(E,F){h(this,_);var A=y(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,E,F));return A.lastRecorded=0,A.ignoreChange=!1,A.clear(),A.quill.on(c.default.events.EDITOR_CHANGE,function(O,C,L,N){O!==c.default.events.TEXT_CHANGE||A.ignoreChange||(!A.options.userOnly||N===c.default.sources.USER?A.record(C,L):A.transform(C))}),A.quill.keyboard.addBinding({key:"Z",shortKey:!0},A.undo.bind(A)),A.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},A.redo.bind(A)),/Win/i.test(navigator.platform)&&A.quill.keyboard.addBinding({key:"Y",shortKey:!0},A.redo.bind(A)),A}return a(_,[{key:"change",value:function(F,A){if(this.stack[F].length!==0){var O=this.stack[F].pop();this.stack[A].push(O),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(O[F],c.default.sources.USER),this.ignoreChange=!1;var C=v(O[F]);this.quill.setSelection(C)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(F,A){if(F.ops.length!==0){this.stack.redo=[];var O=this.quill.getContents().diff(A),C=Date.now();if(this.lastRecorded+this.options.delay>C&&this.stack.undo.length>0){var L=this.stack.undo.pop();O=O.compose(L.undo),F=L.redo.compose(F)}else this.lastRecorded=C;this.stack.undo.push({redo:F,undo:O}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(F){this.stack.undo.forEach(function(A){A.undo=F.transform(A.undo,!0),A.redo=F.transform(A.redo,!0)}),this.stack.redo.forEach(function(A){A.undo=F.transform(A.undo,!0),A.redo=F.transform(A.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),_}(d.default);x.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function g(b){var _=b.ops[b.ops.length-1];return _==null?!1:_.insert!=null?typeof _.insert=="string"&&_.insert.endsWith(`
`):_.attributes!=null?Object.keys(_.attributes).some(function(E){return o.default.query(E,o.default.Scope.BLOCK)!=null}):!1}function v(b){var _=b.reduce(function(F,A){return F+=A.delete||0,F},0),E=b.length()-_;return g(b)&&(E-=1),E}n.default=x,n.getLastChangeIndex=v},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BaseTooltip=void 0;var a=function(){function k(I,M){for(var U=0;U<M.length;U++){var R=M[U];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(I,R.key,R)}}return function(I,M,U){return M&&k(I.prototype,M),U&&k(I,U),I}}(),s=function k(I,M,U){I===null&&(I=Function.prototype);var R=Object.getOwnPropertyDescriptor(I,M);if(R===void 0){var G=Object.getPrototypeOf(I);return G===null?void 0:k(G,M,U)}else{if("value"in R)return R.value;var te=R.get;return te===void 0?void 0:te.call(U)}},o=i(3),l=C(o),c=i(2),u=C(c),d=i(8),p=C(d),h=i(23),y=C(h),m=i(34),x=C(m),g=i(59),v=C(g),b=i(60),_=C(b),E=i(28),F=C(E),A=i(61),O=C(A);function C(k){return k&&k.__esModule?k:{default:k}}function L(k,I){if(!(k instanceof I))throw new TypeError("Cannot call a class as a function")}function N(k,I){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:k}function j(k,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);k.prototype=Object.create(I&&I.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(k,I):k.__proto__=I)}var T=[!1,"center","right","justify"],B=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],z=[!1,"serif","monospace"],Q=["1","2","3",!1],ne=["small",!1,"large","huge"],ie=function(k){j(I,k);function I(M,U){L(this,I);var R=N(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,M,U)),G=function te(V){if(!document.body.contains(M.root))return document.body.removeEventListener("click",te);R.tooltip!=null&&!R.tooltip.root.contains(V.target)&&document.activeElement!==R.tooltip.textbox&&!R.quill.hasFocus()&&R.tooltip.hide(),R.pickers!=null&&R.pickers.forEach(function(Y){Y.container.contains(V.target)||Y.close()})};return M.emitter.listenDOM("click",document.body,G),R}return a(I,[{key:"addModule",value:function(U){var R=s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"addModule",this).call(this,U);return U==="toolbar"&&this.extendToolbar(R),R}},{key:"buildButtons",value:function(U,R){U.forEach(function(G){var te=G.getAttribute("class")||"";te.split(/\s+/).forEach(function(V){if(V.startsWith("ql-")&&(V=V.slice(3),R[V]!=null))if(V==="direction")G.innerHTML=R[V][""]+R[V].rtl;else if(typeof R[V]=="string")G.innerHTML=R[V];else{var Y=G.value||"";Y!=null&&R[V][Y]&&(G.innerHTML=R[V][Y])}})})}},{key:"buildPickers",value:function(U,R){var G=this;this.pickers=U.map(function(V){if(V.classList.contains("ql-align"))return V.querySelector("option")==null&&q(V,T),new _.default(V,R.align);if(V.classList.contains("ql-background")||V.classList.contains("ql-color")){var Y=V.classList.contains("ql-background")?"background":"color";return V.querySelector("option")==null&&q(V,B,Y==="background"?"#ffffff":"#000000"),new v.default(V,R[Y])}else return V.querySelector("option")==null&&(V.classList.contains("ql-font")?q(V,z):V.classList.contains("ql-header")?q(V,Q):V.classList.contains("ql-size")&&q(V,ne)),new F.default(V)});var te=function(){G.pickers.forEach(function(Y){Y.update()})};this.quill.on(p.default.events.EDITOR_CHANGE,te)}}]),I}(x.default);ie.DEFAULTS=(0,l.default)(!0,{},x.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var I=this,M=this.container.querySelector("input.ql-image[type=file]");M==null&&(M=document.createElement("input"),M.setAttribute("type","file"),M.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),M.classList.add("ql-image"),M.addEventListener("change",function(){if(M.files!=null&&M.files[0]!=null){var U=new FileReader;U.onload=function(R){var G=I.quill.getSelection(!0);I.quill.updateContents(new u.default().retain(G.index).delete(G.length).insert({image:R.target.result}),p.default.sources.USER),I.quill.setSelection(G.index+1,p.default.sources.SILENT),M.value=""},U.readAsDataURL(M.files[0])}}),this.container.appendChild(M)),M.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var K=function(k){j(I,k);function I(M,U){L(this,I);var R=N(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,M,U));return R.textbox=R.root.querySelector('input[type="text"]'),R.listen(),R}return a(I,[{key:"listen",value:function(){var U=this;this.textbox.addEventListener("keydown",function(R){y.default.match(R,"enter")?(U.save(),R.preventDefault()):y.default.match(R,"escape")&&(U.cancel(),R.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),R!=null?this.textbox.value=R:U!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+U)||""),this.root.setAttribute("data-mode",U)}},{key:"restoreFocus",value:function(){var U=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=U}},{key:"save",value:function(){var U=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var R=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",U,p.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",U,p.default.sources.USER)),this.quill.root.scrollTop=R;break}case"video":U=W(U);case"formula":{if(!U)break;var G=this.quill.getSelection(!0);if(G!=null){var te=G.index+G.length;this.quill.insertEmbed(te,this.root.getAttribute("data-mode"),U,p.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(te+1," ",p.default.sources.USER),this.quill.setSelection(te+2,p.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),I}(O.default);function W(k){var I=k.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||k.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return I?(I[1]||"https")+"://www.youtube.com/embed/"+I[2]+"?showinfo=0":(I=k.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(I[1]||"https")+"://player.vimeo.com/video/"+I[2]+"/":k}function q(k,I){var M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;I.forEach(function(U){var R=document.createElement("option");U===M?R.setAttribute("selected","selected"):R.setAttribute("value",U),k.appendChild(R)})}n.BaseTooltip=K,n.default=ie},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function s(){this.head=this.tail=null,this.length=0}return s.prototype.append=function(){for(var o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];this.insertBefore(o[0],null),o.length>1&&this.append.apply(this,o.slice(1))},s.prototype.contains=function(o){for(var l,c=this.iterator();l=c();)if(l===o)return!0;return!1},s.prototype.insertBefore=function(o,l){o&&(o.next=l,l!=null?(o.prev=l.prev,l.prev!=null&&(l.prev.next=o),l.prev=o,l===this.head&&(this.head=o)):this.tail!=null?(this.tail.next=o,o.prev=this.tail,this.tail=o):(o.prev=null,this.head=this.tail=o),this.length+=1)},s.prototype.offset=function(o){for(var l=0,c=this.head;c!=null;){if(c===o)return l;l+=c.length(),c=c.next}return-1},s.prototype.remove=function(o){this.contains(o)&&(o.prev!=null&&(o.prev.next=o.next),o.next!=null&&(o.next.prev=o.prev),o===this.head&&(this.head=o.next),o===this.tail&&(this.tail=o.prev),this.length-=1)},s.prototype.iterator=function(o){return o===void 0&&(o=this.head),function(){var l=o;return o!=null&&(o=o.next),l}},s.prototype.find=function(o,l){l===void 0&&(l=!1);for(var c,u=this.iterator();c=u();){var d=c.length();if(o<d||l&&o===d&&(c.next==null||c.next.length()!==0))return[c,o];o-=d}return[null,0]},s.prototype.forEach=function(o){for(var l,c=this.iterator();l=c();)o(l)},s.prototype.forEachAt=function(o,l,c){if(!(l<=0))for(var u=this.find(o),d=u[0],p=u[1],h,y=o-p,m=this.iterator(d);(h=m())&&y<o+l;){var x=h.length();o>y?c(h,o-y,Math.min(l,y+x-o)):c(h,0,Math.min(x,o+l-y)),y+=x}},s.prototype.map=function(o){return this.reduce(function(l,c){return l.push(o(c)),l},[])},s.prototype.reduce=function(o,l){for(var c,u=this.iterator();c=u();)l=o(l,c);return l},s}();n.default=a},function(r,n,i){var a=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,h){p.__proto__=h}||function(p,h){for(var y in h)h.hasOwnProperty(y)&&(p[y]=h[y])};return function(p,h){d(p,h);function y(){this.constructor=p}p.prototype=h===null?Object.create(h):(y.prototype=h.prototype,new y)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=i(17),o=i(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},c=100,u=function(d){a(p,d);function p(h){var y=d.call(this,h)||this;return y.scroll=y,y.observer=new MutationObserver(function(m){y.update(m)}),y.observer.observe(y.domNode,l),y.attach(),y}return p.prototype.detach=function(){d.prototype.detach.call(this),this.observer.disconnect()},p.prototype.deleteAt=function(h,y){this.update(),h===0&&y===this.length()?this.children.forEach(function(m){m.remove()}):d.prototype.deleteAt.call(this,h,y)},p.prototype.formatAt=function(h,y,m,x){this.update(),d.prototype.formatAt.call(this,h,y,m,x)},p.prototype.insertAt=function(h,y,m){this.update(),d.prototype.insertAt.call(this,h,y,m)},p.prototype.optimize=function(h,y){var m=this;h===void 0&&(h=[]),y===void 0&&(y={}),d.prototype.optimize.call(this,y);for(var x=[].slice.call(this.observer.takeRecords());x.length>0;)h.push(x.pop());for(var g=function(E,F){F===void 0&&(F=!0),!(E==null||E===m)&&E.domNode.parentNode!=null&&(E.domNode[o.DATA_KEY].mutations==null&&(E.domNode[o.DATA_KEY].mutations=[]),F&&g(E.parent))},v=function(E){E.domNode[o.DATA_KEY]==null||E.domNode[o.DATA_KEY].mutations==null||(E instanceof s.default&&E.children.forEach(v),E.optimize(y))},b=h,_=0;b.length>0;_+=1){if(_>=c)throw new Error("[Parchment] Maximum optimize iterations reached");for(b.forEach(function(E){var F=o.find(E.target,!0);F!=null&&(F.domNode===E.target&&(E.type==="childList"?(g(o.find(E.previousSibling,!1)),[].forEach.call(E.addedNodes,function(A){var O=o.find(A,!1);g(O,!1),O instanceof s.default&&O.children.forEach(function(C){g(C,!1)})})):E.type==="attributes"&&g(F.prev)),g(F))}),this.children.forEach(v),b=[].slice.call(this.observer.takeRecords()),x=b.slice();x.length>0;)h.push(x.pop())}},p.prototype.update=function(h,y){var m=this;y===void 0&&(y={}),h=h||this.observer.takeRecords(),h.map(function(x){var g=o.find(x.target,!0);return g==null?null:g.domNode[o.DATA_KEY].mutations==null?(g.domNode[o.DATA_KEY].mutations=[x],g):(g.domNode[o.DATA_KEY].mutations.push(x),null)}).forEach(function(x){x==null||x===m||x.domNode[o.DATA_KEY]==null||x.update(x.domNode[o.DATA_KEY].mutations||[],y)}),this.domNode[o.DATA_KEY].mutations!=null&&d.prototype.update.call(this,this.domNode[o.DATA_KEY].mutations,y),this.optimize(h,y)},p.blotName="scroll",p.defaultChild="block",p.scope=o.Scope.BLOCK_BLOT,p.tagName="DIV",p}(s.default);n.default=u},function(r,n,i){var a=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var h in p)p.hasOwnProperty(h)&&(d[h]=p[h])};return function(d,p){u(d,p);function h(){this.constructor=d}d.prototype=p===null?Object.create(p):(h.prototype=p.prototype,new h)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=i(18),o=i(1);function l(u,d){if(Object.keys(u).length!==Object.keys(d).length)return!1;for(var p in u)if(u[p]!==d[p])return!1;return!0}var c=function(u){a(d,u);function d(){return u!==null&&u.apply(this,arguments)||this}return d.formats=function(p){if(p.tagName!==d.tagName)return u.formats.call(this,p)},d.prototype.format=function(p,h){var y=this;p===this.statics.blotName&&!h?(this.children.forEach(function(m){m instanceof s.default||(m=m.wrap(d.blotName,!0)),y.attributes.copy(m)}),this.unwrap()):u.prototype.format.call(this,p,h)},d.prototype.formatAt=function(p,h,y,m){if(this.formats()[y]!=null||o.query(y,o.Scope.ATTRIBUTE)){var x=this.isolate(p,h);x.format(y,m)}else u.prototype.formatAt.call(this,p,h,y,m)},d.prototype.optimize=function(p){u.prototype.optimize.call(this,p);var h=this.formats();if(Object.keys(h).length===0)return this.unwrap();var y=this.next;y instanceof d&&y.prev===this&&l(h,y.formats())&&(y.moveChildren(this),y.remove())},d.blotName="inline",d.scope=o.Scope.INLINE_BLOT,d.tagName="SPAN",d}(s.default);n.default=c},function(r,n,i){var a=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,d){u.__proto__=d}||function(u,d){for(var p in d)d.hasOwnProperty(p)&&(u[p]=d[p])};return function(u,d){c(u,d);function p(){this.constructor=u}u.prototype=d===null?Object.create(d):(p.prototype=d.prototype,new p)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=i(18),o=i(1),l=function(c){a(u,c);function u(){return c!==null&&c.apply(this,arguments)||this}return u.formats=function(d){var p=o.query(u.blotName).tagName;if(d.tagName!==p)return c.formats.call(this,d)},u.prototype.format=function(d,p){o.query(d,o.Scope.BLOCK)!=null&&(d===this.statics.blotName&&!p?this.replaceWith(u.blotName):c.prototype.format.call(this,d,p))},u.prototype.formatAt=function(d,p,h,y){o.query(h,o.Scope.BLOCK)!=null?this.format(h,y):c.prototype.formatAt.call(this,d,p,h,y)},u.prototype.insertAt=function(d,p,h){if(h==null||o.query(p,o.Scope.INLINE)!=null)c.prototype.insertAt.call(this,d,p,h);else{var y=this.split(d),m=o.create(p,h);y.parent.insertBefore(m,y)}},u.prototype.update=function(d,p){navigator.userAgent.match(/Trident/)?this.build():c.prototype.update.call(this,d,p)},u.blotName="block",u.scope=o.Scope.BLOCK_BLOT,u.tagName="P",u}(s.default);n.default=l},function(r,n,i){var a=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,u){c.__proto__=u}||function(c,u){for(var d in u)u.hasOwnProperty(d)&&(c[d]=u[d])};return function(c,u){l(c,u);function d(){this.constructor=c}c.prototype=u===null?Object.create(u):(d.prototype=u.prototype,new d)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=i(19),o=function(l){a(c,l);function c(){return l!==null&&l.apply(this,arguments)||this}return c.formats=function(u){},c.prototype.format=function(u,d){l.prototype.formatAt.call(this,0,this.length(),u,d)},c.prototype.formatAt=function(u,d,p,h){u===0&&d===this.length()?this.format(p,h):l.prototype.formatAt.call(this,u,d,p,h)},c.prototype.formats=function(){return this.statics.formats(this.domNode)},c}(s.default);n.default=o},function(r,n,i){var a=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,d){u.__proto__=d}||function(u,d){for(var p in d)d.hasOwnProperty(p)&&(u[p]=d[p])};return function(u,d){c(u,d);function p(){this.constructor=u}u.prototype=d===null?Object.create(d):(p.prototype=d.prototype,new p)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=i(19),o=i(1),l=function(c){a(u,c);function u(d){var p=c.call(this,d)||this;return p.text=p.statics.value(p.domNode),p}return u.create=function(d){return document.createTextNode(d)},u.value=function(d){var p=d.data;return p.normalize&&(p=p.normalize()),p},u.prototype.deleteAt=function(d,p){this.domNode.data=this.text=this.text.slice(0,d)+this.text.slice(d+p)},u.prototype.index=function(d,p){return this.domNode===d?p:-1},u.prototype.insertAt=function(d,p,h){h==null?(this.text=this.text.slice(0,d)+p+this.text.slice(d),this.domNode.data=this.text):c.prototype.insertAt.call(this,d,p,h)},u.prototype.length=function(){return this.text.length},u.prototype.optimize=function(d){c.prototype.optimize.call(this,d),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof u&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},u.prototype.position=function(d,p){return[this.domNode,d]},u.prototype.split=function(d,p){if(p===void 0&&(p=!1),!p){if(d===0)return this;if(d===this.length())return this.next}var h=o.create(this.domNode.splitText(d));return this.parent.insertBefore(h,this.next),this.text=this.statics.value(this.domNode),h},u.prototype.update=function(d,p){var h=this;d.some(function(y){return y.type==="characterData"&&y.target===h.domNode})&&(this.text=this.statics.value(this.domNode))},u.prototype.value=function(){return this.text},u.blotName="text",u.scope=o.Scope.INLINE_BLOT,u}(s.default);n.default=l},function(r,n,i){var a=document.createElement("div");if(a.classList.toggle("test-class",!1),a.classList.contains("test-class")){var s=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(o,l){return arguments.length>1&&!this.contains(o)==!l?l:s.call(this,o)}}String.prototype.startsWith||(String.prototype.startsWith=function(o,l){return l=l||0,this.substr(l,o.length)===o}),String.prototype.endsWith||(String.prototype.endsWith=function(o,l){var c=this.toString();(typeof l!="number"||!isFinite(l)||Math.floor(l)!==l||l>c.length)&&(l=c.length),l-=o.length;var u=c.indexOf(o,l);return u!==-1&&u===l}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(l){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof l!="function")throw new TypeError("predicate must be a function");for(var c=Object(this),u=c.length>>>0,d=arguments[1],p,h=0;h<u;h++)if(p=c[h],l.call(d,p,h,c))return p}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(r,n){var i=-1,a=1,s=0;function o(_,E,F){if(_==E)return _?[[s,_]]:[];(F<0||_.length<F)&&(F=null);var A=d(_,E),O=_.substring(0,A);_=_.substring(A),E=E.substring(A),A=p(_,E);var C=_.substring(_.length-A);_=_.substring(0,_.length-A),E=E.substring(0,E.length-A);var L=l(_,E);return O&&L.unshift([s,O]),C&&L.push([s,C]),y(L),F!=null&&(L=g(L,F)),L=v(L),L}function l(_,E){var F;if(!_)return[[a,E]];if(!E)return[[i,_]];var A=_.length>E.length?_:E,O=_.length>E.length?E:_,C=A.indexOf(O);if(C!=-1)return F=[[a,A.substring(0,C)],[s,O],[a,A.substring(C+O.length)]],_.length>E.length&&(F[0][0]=F[2][0]=i),F;if(O.length==1)return[[i,_],[a,E]];var L=h(_,E);if(L){var N=L[0],j=L[1],T=L[2],B=L[3],z=L[4],Q=o(N,T),ne=o(j,B);return Q.concat([[s,z]],ne)}return c(_,E)}function c(_,E){for(var F=_.length,A=E.length,O=Math.ceil((F+A)/2),C=O,L=2*O,N=new Array(L),j=new Array(L),T=0;T<L;T++)N[T]=-1,j[T]=-1;N[C+1]=0,j[C+1]=0;for(var B=F-A,z=B%2!=0,Q=0,ne=0,ie=0,K=0,W=0;W<O;W++){for(var q=-W+Q;q<=W-ne;q+=2){var k=C+q,I;q==-W||q!=W&&N[k-1]<N[k+1]?I=N[k+1]:I=N[k-1]+1;for(var M=I-q;I<F&&M<A&&_.charAt(I)==E.charAt(M);)I++,M++;if(N[k]=I,I>F)ne+=2;else if(M>A)Q+=2;else if(z){var U=C+B-q;if(U>=0&&U<L&&j[U]!=-1){var R=F-j[U];if(I>=R)return u(_,E,I,M)}}}for(var G=-W+ie;G<=W-K;G+=2){var U=C+G,R;G==-W||G!=W&&j[U-1]<j[U+1]?R=j[U+1]:R=j[U-1]+1;for(var te=R-G;R<F&&te<A&&_.charAt(F-R-1)==E.charAt(A-te-1);)R++,te++;if(j[U]=R,R>F)K+=2;else if(te>A)ie+=2;else if(!z){var k=C+B-G;if(k>=0&&k<L&&N[k]!=-1){var I=N[k],M=C+I-k;if(R=F-R,I>=R)return u(_,E,I,M)}}}}return[[i,_],[a,E]]}function u(_,E,F,A){var O=_.substring(0,F),C=E.substring(0,A),L=_.substring(F),N=E.substring(A),j=o(O,C),T=o(L,N);return j.concat(T)}function d(_,E){if(!_||!E||_.charAt(0)!=E.charAt(0))return 0;for(var F=0,A=Math.min(_.length,E.length),O=A,C=0;F<O;)_.substring(C,O)==E.substring(C,O)?(F=O,C=F):A=O,O=Math.floor((A-F)/2+F);return O}function p(_,E){if(!_||!E||_.charAt(_.length-1)!=E.charAt(E.length-1))return 0;for(var F=0,A=Math.min(_.length,E.length),O=A,C=0;F<O;)_.substring(_.length-O,_.length-C)==E.substring(E.length-O,E.length-C)?(F=O,C=F):A=O,O=Math.floor((A-F)/2+F);return O}function h(_,E){var F=_.length>E.length?_:E,A=_.length>E.length?E:_;if(F.length<4||A.length*2<F.length)return null;function O(ne,ie,K){for(var W=ne.substring(K,K+Math.floor(ne.length/4)),q=-1,k="",I,M,U,R;(q=ie.indexOf(W,q+1))!=-1;){var G=d(ne.substring(K),ie.substring(q)),te=p(ne.substring(0,K),ie.substring(0,q));k.length<te+G&&(k=ie.substring(q-te,q)+ie.substring(q,q+G),I=ne.substring(0,K-te),M=ne.substring(K+G),U=ie.substring(0,q-te),R=ie.substring(q+G))}return k.length*2>=ne.length?[I,M,U,R,k]:null}var C=O(F,A,Math.ceil(F.length/4)),L=O(F,A,Math.ceil(F.length/2)),N;if(!C&&!L)return null;L?C?N=C[4].length>L[4].length?C:L:N=L:N=C;var j,T,B,z;_.length>E.length?(j=N[0],T=N[1],B=N[2],z=N[3]):(B=N[0],z=N[1],j=N[2],T=N[3]);var Q=N[4];return[j,T,B,z,Q]}function y(_){_.push([s,""]);for(var E=0,F=0,A=0,O="",C="",L;E<_.length;)switch(_[E][0]){case a:A++,C+=_[E][1],E++;break;case i:F++,O+=_[E][1],E++;break;case s:F+A>1?(F!==0&&A!==0&&(L=d(C,O),L!==0&&(E-F-A>0&&_[E-F-A-1][0]==s?_[E-F-A-1][1]+=C.substring(0,L):(_.splice(0,0,[s,C.substring(0,L)]),E++),C=C.substring(L),O=O.substring(L)),L=p(C,O),L!==0&&(_[E][1]=C.substring(C.length-L)+_[E][1],C=C.substring(0,C.length-L),O=O.substring(0,O.length-L))),F===0?_.splice(E-A,F+A,[a,C]):A===0?_.splice(E-F,F+A,[i,O]):_.splice(E-F-A,F+A,[i,O],[a,C]),E=E-F-A+(F?1:0)+(A?1:0)+1):E!==0&&_[E-1][0]==s?(_[E-1][1]+=_[E][1],_.splice(E,1)):E++,A=0,F=0,O="",C="";break}_[_.length-1][1]===""&&_.pop();var N=!1;for(E=1;E<_.length-1;)_[E-1][0]==s&&_[E+1][0]==s&&(_[E][1].substring(_[E][1].length-_[E-1][1].length)==_[E-1][1]?(_[E][1]=_[E-1][1]+_[E][1].substring(0,_[E][1].length-_[E-1][1].length),_[E+1][1]=_[E-1][1]+_[E+1][1],_.splice(E-1,1),N=!0):_[E][1].substring(0,_[E+1][1].length)==_[E+1][1]&&(_[E-1][1]+=_[E+1][1],_[E][1]=_[E][1].substring(_[E+1][1].length)+_[E+1][1],_.splice(E+1,1),N=!0)),E++;N&&y(_)}var m=o;m.INSERT=a,m.DELETE=i,m.EQUAL=s,r.exports=m;function x(_,E){if(E===0)return[s,_];for(var F=0,A=0;A<_.length;A++){var O=_[A];if(O[0]===i||O[0]===s){var C=F+O[1].length;if(E===C)return[A+1,_];if(E<C){_=_.slice();var L=E-F,N=[O[0],O[1].slice(0,L)],j=[O[0],O[1].slice(L)];return _.splice(A,1,N,j),[A+1,_]}else F=C}}throw new Error("cursor_pos is out of bounds!")}function g(_,E){var F=x(_,E),A=F[1],O=F[0],C=A[O],L=A[O+1];if(C==null)return _;if(C[0]!==s)return _;if(L!=null&&C[1]+L[1]===L[1]+C[1])return A.splice(O,2,L,C),b(A,O,2);if(L!=null&&L[1].indexOf(C[1])===0){A.splice(O,2,[L[0],C[1]],[0,C[1]]);var N=L[1].slice(C[1].length);return N.length>0&&A.splice(O+2,0,[L[0],N]),b(A,O,3)}else return _}function v(_){for(var E=!1,F=function(L){return L.charCodeAt(0)>=56320&&L.charCodeAt(0)<=57343},A=function(L){return L.charCodeAt(L.length-1)>=55296&&L.charCodeAt(L.length-1)<=56319},O=2;O<_.length;O+=1)_[O-2][0]===s&&A(_[O-2][1])&&_[O-1][0]===i&&F(_[O-1][1])&&_[O][0]===a&&F(_[O][1])&&(E=!0,_[O-1][1]=_[O-2][1].slice(-1)+_[O-1][1],_[O][1]=_[O-2][1].slice(-1)+_[O][1],_[O-2][1]=_[O-2][1].slice(0,-1));if(!E)return _;for(var C=[],O=0;O<_.length;O+=1)_[O][1].length>0&&C.push(_[O]);return C}function b(_,E,F){for(var A=E+F-1;A>=0&&A>=E-1;A--)if(A+1<_.length){var O=_[A],C=_[A+1];O[0]===C[1]&&_.splice(A,2,[O[0],O[1]+C[1]])}return _}},function(r,n){n=r.exports=typeof Object.keys=="function"?Object.keys:i,n.shim=i;function i(a){var s=[];for(var o in a)s.push(o);return s}},function(r,n){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";n=r.exports=i?a:s,n.supported=a;function a(o){return Object.prototype.toString.call(o)=="[object Arguments]"}n.unsupported=s;function s(o){return o&&typeof o=="object"&&typeof o.length=="number"&&Object.prototype.hasOwnProperty.call(o,"callee")&&!Object.prototype.propertyIsEnumerable.call(o,"callee")||!1}},function(r,n){var i=Object.prototype.hasOwnProperty,a="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(a=!1));function o(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,p;if(this._eventsCount===0)return u;for(p in d=this._events)i.call(d,p)&&u.push(a?p.slice(1):p);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u,d){var p=a?a+u:u,h=this._events[p];if(d)return!!h;if(!h)return[];if(h.fn)return[h.fn];for(var y=0,m=h.length,x=new Array(m);y<m;y++)x[y]=h[y].fn;return x},l.prototype.emit=function(u,d,p,h,y,m){var x=a?a+u:u;if(!this._events[x])return!1;var g=this._events[x],v=arguments.length,b,_;if(g.fn){switch(g.once&&this.removeListener(u,g.fn,void 0,!0),v){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,d),!0;case 3:return g.fn.call(g.context,d,p),!0;case 4:return g.fn.call(g.context,d,p,h),!0;case 5:return g.fn.call(g.context,d,p,h,y),!0;case 6:return g.fn.call(g.context,d,p,h,y,m),!0}for(_=1,b=new Array(v-1);_<v;_++)b[_-1]=arguments[_];g.fn.apply(g.context,b)}else{var E=g.length,F;for(_=0;_<E;_++)switch(g[_].once&&this.removeListener(u,g[_].fn,void 0,!0),v){case 1:g[_].fn.call(g[_].context);break;case 2:g[_].fn.call(g[_].context,d);break;case 3:g[_].fn.call(g[_].context,d,p);break;case 4:g[_].fn.call(g[_].context,d,p,h);break;default:if(!b)for(F=1,b=new Array(v-1);F<v;F++)b[F-1]=arguments[F];g[_].fn.apply(g[_].context,b)}}return!0},l.prototype.on=function(u,d,p){var h=new o(d,p||this),y=a?a+u:u;return this._events[y]?this._events[y].fn?this._events[y]=[this._events[y],h]:this._events[y].push(h):(this._events[y]=h,this._eventsCount++),this},l.prototype.once=function(u,d,p){var h=new o(d,p||this,!0),y=a?a+u:u;return this._events[y]?this._events[y].fn?this._events[y]=[this._events[y],h]:this._events[y].push(h):(this._events[y]=h,this._eventsCount++),this},l.prototype.removeListener=function(u,d,p,h){var y=a?a+u:u;if(!this._events[y])return this;if(!d)return--this._eventsCount===0?this._events=new s:delete this._events[y],this;var m=this._events[y];if(m.fn)m.fn===d&&(!h||m.once)&&(!p||m.context===p)&&(--this._eventsCount===0?this._events=new s:delete this._events[y]);else{for(var x=0,g=[],v=m.length;x<v;x++)(m[x].fn!==d||h&&!m[x].once||p&&m[x].context!==p)&&g.push(m[x]);g.length?this._events[y]=g.length===1?g[0]:g:--this._eventsCount===0?this._events=new s:delete this._events[y]}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=a?a+u:u,this._events[d]&&(--this._eventsCount===0?this._events=new s:delete this._events[d])):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prototype.setMaxListeners=function(){return this},l.prefixed=a,l.EventEmitter=l,typeof r<"u"&&(r.exports=l)},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.matchText=n.matchSpacing=n.matchNewline=n.matchBlot=n.matchAttributor=n.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(be){return typeof be}:function(be){return be&&typeof Symbol=="function"&&be.constructor===Symbol&&be!==Symbol.prototype?"symbol":typeof be},s=function(){function be(xe,De){var Be=[],Ce=!0,Xe=!1,tt=void 0;try{for(var ct=xe[Symbol.iterator](),pt;!(Ce=(pt=ct.next()).done)&&(Be.push(pt.value),!(De&&Be.length===De));Ce=!0);}catch(bt){Xe=!0,tt=bt}finally{try{!Ce&&ct.return&&ct.return()}finally{if(Xe)throw tt}}return Be}return function(xe,De){if(Array.isArray(xe))return xe;if(Symbol.iterator in Object(xe))return be(xe,De);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function be(xe,De){for(var Be=0;Be<De.length;Be++){var Ce=De[Be];Ce.enumerable=Ce.enumerable||!1,Ce.configurable=!0,"value"in Ce&&(Ce.writable=!0),Object.defineProperty(xe,Ce.key,Ce)}}return function(xe,De,Be){return De&&be(xe.prototype,De),Be&&be(xe,Be),xe}}(),l=i(3),c=j(l),u=i(2),d=j(u),p=i(0),h=j(p),y=i(5),m=j(y),x=i(10),g=j(x),v=i(9),b=j(v),_=i(36),E=i(37),F=i(13),A=j(F),O=i(26),C=i(38),L=i(39),N=i(40);function j(be){return be&&be.__esModule?be:{default:be}}function T(be,xe,De){return xe in be?Object.defineProperty(be,xe,{value:De,enumerable:!0,configurable:!0,writable:!0}):be[xe]=De,be}function B(be,xe){if(!(be instanceof xe))throw new TypeError("Cannot call a class as a function")}function z(be,xe){if(!be)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return xe&&(typeof xe=="object"||typeof xe=="function")?xe:be}function Q(be,xe){if(typeof xe!="function"&&xe!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof xe);be.prototype=Object.create(xe&&xe.prototype,{constructor:{value:be,enumerable:!1,writable:!0,configurable:!0}}),xe&&(Object.setPrototypeOf?Object.setPrototypeOf(be,xe):be.__proto__=xe)}var ne=(0,g.default)("quill:clipboard"),ie="__ql-matcher",K=[[Node.TEXT_NODE,Oe],[Node.TEXT_NODE,_e],["br",oe],[Node.ELEMENT_NODE,_e],[Node.ELEMENT_NODE,Y],[Node.ELEMENT_NODE,X],[Node.ELEMENT_NODE,V],[Node.ELEMENT_NODE,Ee],["li",Ne],["b",te.bind(te,"bold")],["i",te.bind(te,"italic")],["style",ve]],W=[_.AlignAttribute,C.DirectionAttribute].reduce(function(be,xe){return be[xe.keyName]=xe,be},{}),q=[_.AlignStyle,E.BackgroundStyle,O.ColorStyle,C.DirectionStyle,L.FontStyle,N.SizeStyle].reduce(function(be,xe){return be[xe.keyName]=xe,be},{}),k=function(be){Q(xe,be);function xe(De,Be){B(this,xe);var Ce=z(this,(xe.__proto__||Object.getPrototypeOf(xe)).call(this,De,Be));return Ce.quill.root.addEventListener("paste",Ce.onPaste.bind(Ce)),Ce.container=Ce.quill.addContainer("ql-clipboard"),Ce.container.setAttribute("contenteditable",!0),Ce.container.setAttribute("tabindex",-1),Ce.matchers=[],K.concat(Ce.options.matchers).forEach(function(Xe){var tt=s(Xe,2),ct=tt[0],pt=tt[1];!Be.matchVisual&&pt===X||Ce.addMatcher(ct,pt)}),Ce}return o(xe,[{key:"addMatcher",value:function(Be,Ce){this.matchers.push([Be,Ce])}},{key:"convert",value:function(Be){if(typeof Be=="string")return this.container.innerHTML=Be.replace(/\>\r?\n +\</g,"><"),this.convert();var Ce=this.quill.getFormat(this.quill.selection.savedRange.index);if(Ce[A.default.blotName]){var Xe=this.container.innerText;return this.container.innerHTML="",new d.default().insert(Xe,T({},A.default.blotName,Ce[A.default.blotName]))}var tt=this.prepareMatching(),ct=s(tt,2),pt=ct[0],bt=ct[1],Ae=G(this.container,pt,bt);return U(Ae,`
`)&&Ae.ops[Ae.ops.length-1].attributes==null&&(Ae=Ae.compose(new d.default().retain(Ae.length()-1).delete(1))),ne.log("convert",this.container.innerHTML,Ae),this.container.innerHTML="",Ae}},{key:"dangerouslyPasteHTML",value:function(Be,Ce){var Xe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m.default.sources.API;if(typeof Be=="string")this.quill.setContents(this.convert(Be),Ce),this.quill.setSelection(0,m.default.sources.SILENT);else{var tt=this.convert(Ce);this.quill.updateContents(new d.default().retain(Be).concat(tt),Xe),this.quill.setSelection(Be+tt.length(),m.default.sources.SILENT)}}},{key:"onPaste",value:function(Be){var Ce=this;if(!(Be.defaultPrevented||!this.quill.isEnabled())){var Xe=this.quill.getSelection(),tt=new d.default().retain(Xe.index),ct=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(m.default.sources.SILENT),setTimeout(function(){tt=tt.concat(Ce.convert()).delete(Xe.length),Ce.quill.updateContents(tt,m.default.sources.USER),Ce.quill.setSelection(tt.length()-Xe.length,m.default.sources.SILENT),Ce.quill.scrollingContainer.scrollTop=ct,Ce.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var Be=this,Ce=[],Xe=[];return this.matchers.forEach(function(tt){var ct=s(tt,2),pt=ct[0],bt=ct[1];switch(pt){case Node.TEXT_NODE:Xe.push(bt);break;case Node.ELEMENT_NODE:Ce.push(bt);break;default:[].forEach.call(Be.container.querySelectorAll(pt),function(Ae){Ae[ie]=Ae[ie]||[],Ae[ie].push(bt)});break}}),[Ce,Xe]}}]),xe}(b.default);k.DEFAULTS={matchers:[],matchVisual:!0};function I(be,xe,De){return(typeof xe>"u"?"undefined":a(xe))==="object"?Object.keys(xe).reduce(function(Be,Ce){return I(Be,Ce,xe[Ce])},be):be.reduce(function(Be,Ce){return Ce.attributes&&Ce.attributes[xe]?Be.push(Ce):Be.insert(Ce.insert,(0,c.default)({},T({},xe,De),Ce.attributes))},new d.default)}function M(be){if(be.nodeType!==Node.ELEMENT_NODE)return{};var xe="__ql-computed-style";return be[xe]||(be[xe]=window.getComputedStyle(be))}function U(be,xe){for(var De="",Be=be.ops.length-1;Be>=0&&De.length<xe.length;--Be){var Ce=be.ops[Be];if(typeof Ce.insert!="string")break;De=Ce.insert+De}return De.slice(-1*xe.length)===xe}function R(be){if(be.childNodes.length===0)return!1;var xe=M(be);return["block","list-item"].indexOf(xe.display)>-1}function G(be,xe,De){return be.nodeType===be.TEXT_NODE?De.reduce(function(Be,Ce){return Ce(be,Be)},new d.default):be.nodeType===be.ELEMENT_NODE?[].reduce.call(be.childNodes||[],function(Be,Ce){var Xe=G(Ce,xe,De);return Ce.nodeType===be.ELEMENT_NODE&&(Xe=xe.reduce(function(tt,ct){return ct(Ce,tt)},Xe),Xe=(Ce[ie]||[]).reduce(function(tt,ct){return ct(Ce,tt)},Xe)),Be.concat(Xe)},new d.default):new d.default}function te(be,xe,De){return I(De,be,!0)}function V(be,xe){var De=h.default.Attributor.Attribute.keys(be),Be=h.default.Attributor.Class.keys(be),Ce=h.default.Attributor.Style.keys(be),Xe={};return De.concat(Be).concat(Ce).forEach(function(tt){var ct=h.default.query(tt,h.default.Scope.ATTRIBUTE);ct!=null&&(Xe[ct.attrName]=ct.value(be),Xe[ct.attrName])||(ct=W[tt],ct!=null&&(ct.attrName===tt||ct.keyName===tt)&&(Xe[ct.attrName]=ct.value(be)||void 0),ct=q[tt],ct!=null&&(ct.attrName===tt||ct.keyName===tt)&&(ct=q[tt],Xe[ct.attrName]=ct.value(be)||void 0))}),Object.keys(Xe).length>0&&(xe=I(xe,Xe)),xe}function Y(be,xe){var De=h.default.query(be);if(De==null)return xe;if(De.prototype instanceof h.default.Embed){var Be={},Ce=De.value(be);Ce!=null&&(Be[De.blotName]=Ce,xe=new d.default().insert(Be,De.formats(be)))}else typeof De.formats=="function"&&(xe=I(xe,De.blotName,De.formats(be)));return xe}function oe(be,xe){return U(xe,`
`)||xe.insert(`
`),xe}function ve(){return new d.default}function Ne(be,xe){var De=h.default.query(be);if(De==null||De.blotName!=="list-item"||!U(xe,`
`))return xe;for(var Be=-1,Ce=be.parentNode;!Ce.classList.contains("ql-clipboard");)(h.default.query(Ce)||{}).blotName==="list"&&(Be+=1),Ce=Ce.parentNode;return Be<=0?xe:xe.compose(new d.default().retain(xe.length()-1).retain(1,{indent:Be}))}function _e(be,xe){return U(xe,`
`)||(R(be)||xe.length()>0&&be.nextSibling&&R(be.nextSibling))&&xe.insert(`
`),xe}function X(be,xe){if(R(be)&&be.nextElementSibling!=null&&!U(xe,`

`)){var De=be.offsetHeight+parseFloat(M(be).marginTop)+parseFloat(M(be).marginBottom);be.nextElementSibling.offsetTop>be.offsetTop+De*1.5&&xe.insert(`
`)}return xe}function Ee(be,xe){var De={},Be=be.style||{};return Be.fontStyle&&M(be).fontStyle==="italic"&&(De.italic=!0),Be.fontWeight&&(M(be).fontWeight.startsWith("bold")||parseInt(M(be).fontWeight)>=700)&&(De.bold=!0),Object.keys(De).length>0&&(xe=I(xe,De)),parseFloat(Be.textIndent||0)>0&&(xe=new d.default().insert("	").concat(xe)),xe}function Oe(be,xe){var De=be.data;if(be.parentNode.tagName==="O:P")return xe.insert(De.trim());if(De.trim().length===0&&be.parentNode.classList.contains("ql-clipboard"))return xe;if(!M(be.parentNode).whiteSpace.startsWith("pre")){var Be=function(Xe,tt){return tt=tt.replace(/[^\u00a0]/g,""),tt.length<1&&Xe?" ":tt};De=De.replace(/\r\n/g," ").replace(/\n/g," "),De=De.replace(/\s\s+/g,Be.bind(Be,!0)),(be.previousSibling==null&&R(be.parentNode)||be.previousSibling!=null&&R(be.previousSibling))&&(De=De.replace(/^\s+/,Be.bind(Be,!1))),(be.nextSibling==null&&R(be.parentNode)||be.nextSibling!=null&&R(be.nextSibling))&&(De=De.replace(/\s+$/,Be.bind(Be,!1)))}return xe.insert(De)}n.default=k,n.matchAttributor=V,n.matchBlot=Y,n.matchNewline=_e,n.matchSpacing=X,n.matchText=Oe},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function y(m,x){for(var g=0;g<x.length;g++){var v=x[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,v.key,v)}}return function(m,x,g){return x&&y(m.prototype,x),g&&y(m,g),m}}(),s=function y(m,x,g){m===null&&(m=Function.prototype);var v=Object.getOwnPropertyDescriptor(m,x);if(v===void 0){var b=Object.getPrototypeOf(m);return b===null?void 0:y(b,x,g)}else{if("value"in v)return v.value;var _=v.get;return _===void 0?void 0:_.call(g)}},o=i(6),l=c(o);function c(y){return y&&y.__esModule?y:{default:y}}function u(y,m){if(!(y instanceof m))throw new TypeError("Cannot call a class as a function")}function d(y,m){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:y}function p(y,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);y.prototype=Object.create(m&&m.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(y,m):y.__proto__=m)}var h=function(y){p(m,y);function m(){return u(this,m),d(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return a(m,[{key:"optimize",value:function(g){s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"optimize",this).call(this,g),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return s(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),m}(l.default);h.blotName="bold",h.tagName=["STRONG","B"],n.default=h},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.addControls=n.default=void 0;var a=function(){function N(j,T){var B=[],z=!0,Q=!1,ne=void 0;try{for(var ie=j[Symbol.iterator](),K;!(z=(K=ie.next()).done)&&(B.push(K.value),!(T&&B.length===T));z=!0);}catch(W){Q=!0,ne=W}finally{try{!z&&ie.return&&ie.return()}finally{if(Q)throw ne}}return B}return function(j,T){if(Array.isArray(j))return j;if(Symbol.iterator in Object(j))return N(j,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function N(j,T){for(var B=0;B<T.length;B++){var z=T[B];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(j,z.key,z)}}return function(j,T,B){return T&&N(j.prototype,T),B&&N(j,B),j}}(),o=i(2),l=g(o),c=i(0),u=g(c),d=i(5),p=g(d),h=i(10),y=g(h),m=i(9),x=g(m);function g(N){return N&&N.__esModule?N:{default:N}}function v(N,j,T){return j in N?Object.defineProperty(N,j,{value:T,enumerable:!0,configurable:!0,writable:!0}):N[j]=T,N}function b(N,j){if(!(N instanceof j))throw new TypeError("Cannot call a class as a function")}function _(N,j){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:N}function E(N,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);N.prototype=Object.create(j&&j.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(N,j):N.__proto__=j)}var F=(0,y.default)("quill:toolbar"),A=function(N){E(j,N);function j(T,B){b(this,j);var z=_(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,T,B));if(Array.isArray(z.options.container)){var Q=document.createElement("div");C(Q,z.options.container),T.container.parentNode.insertBefore(Q,T.container),z.container=Q}else typeof z.options.container=="string"?z.container=document.querySelector(z.options.container):z.container=z.options.container;if(!(z.container instanceof HTMLElement)){var ne;return ne=F.error("Container required for toolbar",z.options),_(z,ne)}return z.container.classList.add("ql-toolbar"),z.controls=[],z.handlers={},Object.keys(z.options.handlers).forEach(function(ie){z.addHandler(ie,z.options.handlers[ie])}),[].forEach.call(z.container.querySelectorAll("button, select"),function(ie){z.attach(ie)}),z.quill.on(p.default.events.EDITOR_CHANGE,function(ie,K){ie===p.default.events.SELECTION_CHANGE&&z.update(K)}),z.quill.on(p.default.events.SCROLL_OPTIMIZE,function(){var ie=z.quill.selection.getRange(),K=a(ie,1),W=K[0];z.update(W)}),z}return s(j,[{key:"addHandler",value:function(B,z){this.handlers[B]=z}},{key:"attach",value:function(B){var z=this,Q=[].find.call(B.classList,function(ie){return ie.indexOf("ql-")===0});if(Q){if(Q=Q.slice(3),B.tagName==="BUTTON"&&B.setAttribute("type","button"),this.handlers[Q]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[Q]==null){F.warn("ignoring attaching to disabled format",Q,B);return}if(u.default.query(Q)==null){F.warn("ignoring attaching to nonexistent format",Q,B);return}}var ne=B.tagName==="SELECT"?"change":"click";B.addEventListener(ne,function(ie){var K=void 0;if(B.tagName==="SELECT"){if(B.selectedIndex<0)return;var W=B.options[B.selectedIndex];W.hasAttribute("selected")?K=!1:K=W.value||!1}else B.classList.contains("ql-active")?K=!1:K=B.value||!B.hasAttribute("value"),ie.preventDefault();z.quill.focus();var q=z.quill.selection.getRange(),k=a(q,1),I=k[0];if(z.handlers[Q]!=null)z.handlers[Q].call(z,K);else if(u.default.query(Q).prototype instanceof u.default.Embed){if(K=prompt("Enter "+Q),!K)return;z.quill.updateContents(new l.default().retain(I.index).delete(I.length).insert(v({},Q,K)),p.default.sources.USER)}else z.quill.format(Q,K,p.default.sources.USER);z.update(I)}),this.controls.push([Q,B])}}},{key:"update",value:function(B){var z=B==null?{}:this.quill.getFormat(B);this.controls.forEach(function(Q){var ne=a(Q,2),ie=ne[0],K=ne[1];if(K.tagName==="SELECT"){var W=void 0;if(B==null)W=null;else if(z[ie]==null)W=K.querySelector("option[selected]");else if(!Array.isArray(z[ie])){var q=z[ie];typeof q=="string"&&(q=q.replace(/\"/g,'\\"')),W=K.querySelector('option[value="'+q+'"]')}W==null?(K.value="",K.selectedIndex=-1):W.selected=!0}else if(B==null)K.classList.remove("ql-active");else if(K.hasAttribute("value")){var k=z[ie]===K.getAttribute("value")||z[ie]!=null&&z[ie].toString()===K.getAttribute("value")||z[ie]==null&&!K.getAttribute("value");K.classList.toggle("ql-active",k)}else K.classList.toggle("ql-active",z[ie]!=null)})}}]),j}(x.default);A.DEFAULTS={};function O(N,j,T){var B=document.createElement("button");B.setAttribute("type","button"),B.classList.add("ql-"+j),T!=null&&(B.value=T),N.appendChild(B)}function C(N,j){Array.isArray(j[0])||(j=[j]),j.forEach(function(T){var B=document.createElement("span");B.classList.add("ql-formats"),T.forEach(function(z){if(typeof z=="string")O(B,z);else{var Q=Object.keys(z)[0],ne=z[Q];Array.isArray(ne)?L(B,Q,ne):O(B,Q,ne)}}),N.appendChild(B)})}function L(N,j,T){var B=document.createElement("select");B.classList.add("ql-"+j),T.forEach(function(z){var Q=document.createElement("option");z!==!1?Q.setAttribute("value",z):Q.setAttribute("selected","selected"),B.appendChild(Q)}),N.appendChild(B)}A.DEFAULTS={container:null,handlers:{clean:function(){var j=this,T=this.quill.getSelection();if(T!=null)if(T.length==0){var B=this.quill.getFormat();Object.keys(B).forEach(function(z){u.default.query(z,u.default.Scope.INLINE)!=null&&j.quill.format(z,!1)})}else this.quill.removeFormat(T,p.default.sources.USER)},direction:function(j){var T=this.quill.getFormat().align;j==="rtl"&&T==null?this.quill.format("align","right",p.default.sources.USER):!j&&T==="right"&&this.quill.format("align",!1,p.default.sources.USER),this.quill.format("direction",j,p.default.sources.USER)},indent:function(j){var T=this.quill.getSelection(),B=this.quill.getFormat(T),z=parseInt(B.indent||0);if(j==="+1"||j==="-1"){var Q=j==="+1"?1:-1;B.direction==="rtl"&&(Q*=-1),this.quill.format("indent",z+Q,p.default.sources.USER)}},link:function(j){j===!0&&(j=prompt("Enter link URL:")),this.quill.format("link",j,p.default.sources.USER)},list:function(j){var T=this.quill.getSelection(),B=this.quill.getFormat(T);j==="check"?B.list==="checked"||B.list==="unchecked"?this.quill.format("list",!1,p.default.sources.USER):this.quill.format("list","unchecked",p.default.sources.USER):this.quill.format("list",j,p.default.sources.USER)}}},n.default=A,n.addControls=C},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function y(m,x){for(var g=0;g<x.length;g++){var v=x[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,v.key,v)}}return function(m,x,g){return x&&y(m.prototype,x),g&&y(m,g),m}}(),s=function y(m,x,g){m===null&&(m=Function.prototype);var v=Object.getOwnPropertyDescriptor(m,x);if(v===void 0){var b=Object.getPrototypeOf(m);return b===null?void 0:y(b,x,g)}else{if("value"in v)return v.value;var _=v.get;return _===void 0?void 0:_.call(g)}},o=i(28),l=c(o);function c(y){return y&&y.__esModule?y:{default:y}}function u(y,m){if(!(y instanceof m))throw new TypeError("Cannot call a class as a function")}function d(y,m){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:y}function p(y,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);y.prototype=Object.create(m&&m.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(y,m):y.__proto__=m)}var h=function(y){p(m,y);function m(x,g){u(this,m);var v=d(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,x));return v.label.innerHTML=g,v.container.classList.add("ql-color-picker"),[].slice.call(v.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(b){b.classList.add("ql-primary")}),v}return a(m,[{key:"buildItem",value:function(g){var v=s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"buildItem",this).call(this,g);return v.style.backgroundColor=g.getAttribute("value")||"",v}},{key:"selectItem",value:function(g,v){s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"selectItem",this).call(this,g,v);var b=this.label.querySelector(".ql-color-label"),_=g&&g.getAttribute("data-value")||"";b&&(b.tagName==="line"?b.style.stroke=_:b.style.fill=_)}}]),m}(l.default);n.default=h},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function y(m,x){for(var g=0;g<x.length;g++){var v=x[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,v.key,v)}}return function(m,x,g){return x&&y(m.prototype,x),g&&y(m,g),m}}(),s=function y(m,x,g){m===null&&(m=Function.prototype);var v=Object.getOwnPropertyDescriptor(m,x);if(v===void 0){var b=Object.getPrototypeOf(m);return b===null?void 0:y(b,x,g)}else{if("value"in v)return v.value;var _=v.get;return _===void 0?void 0:_.call(g)}},o=i(28),l=c(o);function c(y){return y&&y.__esModule?y:{default:y}}function u(y,m){if(!(y instanceof m))throw new TypeError("Cannot call a class as a function")}function d(y,m){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:y}function p(y,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);y.prototype=Object.create(m&&m.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(y,m):y.__proto__=m)}var h=function(y){p(m,y);function m(x,g){u(this,m);var v=d(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,x));return v.container.classList.add("ql-icon-picker"),[].forEach.call(v.container.querySelectorAll(".ql-picker-item"),function(b){b.innerHTML=g[b.getAttribute("data-value")||""]}),v.defaultItem=v.container.querySelector(".ql-selected"),v.selectItem(v.defaultItem),v}return a(m,[{key:"selectItem",value:function(g,v){s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"selectItem",this).call(this,g,v),g=g||this.defaultItem,this.label.innerHTML=g.innerHTML}}]),m}(l.default);n.default=h},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function l(c,u){for(var d=0;d<u.length;d++){var p=u[d];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(c,p.key,p)}}return function(c,u,d){return u&&l(c.prototype,u),d&&l(c,d),c}}();function s(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}var o=function(){function l(c,u){var d=this;s(this,l),this.quill=c,this.boundsContainer=u||document.body,this.root=c.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){d.root.style.marginTop=-1*d.quill.root.scrollTop+"px"}),this.hide()}return a(l,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(u){var d=u.left+u.width/2-this.root.offsetWidth/2,p=u.bottom+this.quill.root.scrollTop;this.root.style.left=d+"px",this.root.style.top=p+"px",this.root.classList.remove("ql-flip");var h=this.boundsContainer.getBoundingClientRect(),y=this.root.getBoundingClientRect(),m=0;if(y.right>h.right&&(m=h.right-y.right,this.root.style.left=d+m+"px"),y.left<h.left&&(m=h.left-y.left,this.root.style.left=d+m+"px"),y.bottom>h.bottom){var x=y.bottom-y.top,g=u.bottom-u.top+x;this.root.style.top=p-g+"px",this.root.classList.add("ql-flip")}return m}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),l}();n.default=o},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function L(N,j){var T=[],B=!0,z=!1,Q=void 0;try{for(var ne=N[Symbol.iterator](),ie;!(B=(ie=ne.next()).done)&&(T.push(ie.value),!(j&&T.length===j));B=!0);}catch(K){z=!0,Q=K}finally{try{!B&&ne.return&&ne.return()}finally{if(z)throw Q}}return T}return function(N,j){if(Array.isArray(N))return N;if(Symbol.iterator in Object(N))return L(N,j);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function L(N,j,T){N===null&&(N=Function.prototype);var B=Object.getOwnPropertyDescriptor(N,j);if(B===void 0){var z=Object.getPrototypeOf(N);return z===null?void 0:L(z,j,T)}else{if("value"in B)return B.value;var Q=B.get;return Q===void 0?void 0:Q.call(T)}},o=function(){function L(N,j){for(var T=0;T<j.length;T++){var B=j[T];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(N,B.key,B)}}return function(N,j,T){return j&&L(N.prototype,j),T&&L(N,T),N}}(),l=i(3),c=b(l),u=i(8),d=b(u),p=i(43),h=b(p),y=i(27),m=b(y),x=i(15),g=i(41),v=b(g);function b(L){return L&&L.__esModule?L:{default:L}}function _(L,N){if(!(L instanceof N))throw new TypeError("Cannot call a class as a function")}function E(L,N){if(!L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:L}function F(L,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);L.prototype=Object.create(N&&N.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(L,N):L.__proto__=N)}var A=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],O=function(L){F(N,L);function N(j,T){_(this,N),T.modules.toolbar!=null&&T.modules.toolbar.container==null&&(T.modules.toolbar.container=A);var B=E(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,j,T));return B.quill.container.classList.add("ql-snow"),B}return o(N,[{key:"extendToolbar",value:function(T){T.container.classList.add("ql-snow"),this.buildButtons([].slice.call(T.container.querySelectorAll("button")),v.default),this.buildPickers([].slice.call(T.container.querySelectorAll("select")),v.default),this.tooltip=new C(this.quill,this.options.bounds),T.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(B,z){T.handlers.link.call(T,!z.format.link)})}}]),N}(h.default);O.DEFAULTS=(0,c.default)(!0,{},h.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(N){if(N){var j=this.quill.getSelection();if(j==null||j.length==0)return;var T=this.quill.getText(j);/^\S+@\S+\.\S+$/.test(T)&&T.indexOf("mailto:")!==0&&(T="mailto:"+T);var B=this.quill.theme.tooltip;B.edit("link",T)}else this.quill.format("link",!1)}}}}});var C=function(L){F(N,L);function N(j,T){_(this,N);var B=E(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,j,T));return B.preview=B.root.querySelector("a.ql-preview"),B}return o(N,[{key:"listen",value:function(){var T=this;s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(B){T.root.classList.contains("ql-editing")?T.save():T.edit("link",T.preview.textContent),B.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(B){if(T.linkRange!=null){var z=T.linkRange;T.restoreFocus(),T.quill.formatText(z,"link",!1,d.default.sources.USER),delete T.linkRange}B.preventDefault(),T.hide()}),this.quill.on(d.default.events.SELECTION_CHANGE,function(B,z,Q){if(B!=null){if(B.length===0&&Q===d.default.sources.USER){var ne=T.quill.scroll.descendant(m.default,B.index),ie=a(ne,2),K=ie[0],W=ie[1];if(K!=null){T.linkRange=new x.Range(B.index-W,K.length());var q=m.default.formats(K.domNode);T.preview.textContent=q,T.preview.setAttribute("href",q),T.show(),T.position(T.quill.getBounds(T.linkRange));return}}else delete T.linkRange;T.hide()}})}},{key:"show",value:function(){s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),N}(p.BaseTooltip);C.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),n.default=O},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(29),s=Ce(a),o=i(36),l=i(38),c=i(64),u=i(65),d=Ce(u),p=i(66),h=Ce(p),y=i(67),m=Ce(y),x=i(37),g=i(26),v=i(39),b=i(40),_=i(56),E=Ce(_),F=i(68),A=Ce(F),O=i(27),C=Ce(O),L=i(69),N=Ce(L),j=i(70),T=Ce(j),B=i(71),z=Ce(B),Q=i(72),ne=Ce(Q),ie=i(73),K=Ce(ie),W=i(13),q=Ce(W),k=i(74),I=Ce(k),M=i(75),U=Ce(M),R=i(57),G=Ce(R),te=i(41),V=Ce(te),Y=i(28),oe=Ce(Y),ve=i(59),Ne=Ce(ve),_e=i(60),X=Ce(_e),Ee=i(61),Oe=Ce(Ee),be=i(108),xe=Ce(be),De=i(62),Be=Ce(De);function Ce(Xe){return Xe&&Xe.__esModule?Xe:{default:Xe}}s.default.register({"attributors/attribute/direction":l.DirectionAttribute,"attributors/class/align":o.AlignClass,"attributors/class/background":x.BackgroundClass,"attributors/class/color":g.ColorClass,"attributors/class/direction":l.DirectionClass,"attributors/class/font":v.FontClass,"attributors/class/size":b.SizeClass,"attributors/style/align":o.AlignStyle,"attributors/style/background":x.BackgroundStyle,"attributors/style/color":g.ColorStyle,"attributors/style/direction":l.DirectionStyle,"attributors/style/font":v.FontStyle,"attributors/style/size":b.SizeStyle},!0),s.default.register({"formats/align":o.AlignClass,"formats/direction":l.DirectionClass,"formats/indent":c.IndentClass,"formats/background":x.BackgroundStyle,"formats/color":g.ColorStyle,"formats/font":v.FontClass,"formats/size":b.SizeClass,"formats/blockquote":d.default,"formats/code-block":q.default,"formats/header":h.default,"formats/list":m.default,"formats/bold":E.default,"formats/code":W.Code,"formats/italic":A.default,"formats/link":C.default,"formats/script":N.default,"formats/strike":T.default,"formats/underline":z.default,"formats/image":ne.default,"formats/video":K.default,"formats/list/item":y.ListItem,"modules/formula":I.default,"modules/syntax":U.default,"modules/toolbar":G.default,"themes/bubble":xe.default,"themes/snow":Be.default,"ui/icons":V.default,"ui/picker":oe.default,"ui/icon-picker":X.default,"ui/color-picker":Ne.default,"ui/tooltip":Oe.default},!0),n.default=s.default},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.IndentClass=void 0;var a=function(){function m(x,g){for(var v=0;v<g.length;v++){var b=g[v];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(x,b.key,b)}}return function(x,g,v){return g&&m(x.prototype,g),v&&m(x,v),x}}(),s=function m(x,g,v){x===null&&(x=Function.prototype);var b=Object.getOwnPropertyDescriptor(x,g);if(b===void 0){var _=Object.getPrototypeOf(x);return _===null?void 0:m(_,g,v)}else{if("value"in b)return b.value;var E=b.get;return E===void 0?void 0:E.call(v)}},o=i(0),l=c(o);function c(m){return m&&m.__esModule?m:{default:m}}function u(m,x){if(!(m instanceof x))throw new TypeError("Cannot call a class as a function")}function d(m,x){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:m}function p(m,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);m.prototype=Object.create(x&&x.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(m,x):m.__proto__=x)}var h=function(m){p(x,m);function x(){return u(this,x),d(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return a(x,[{key:"add",value:function(v,b){if(b==="+1"||b==="-1"){var _=this.value(v)||0;b=b==="+1"?_+1:_-1}return b===0?(this.remove(v),!0):s(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"add",this).call(this,v,b)}},{key:"canAdd",value:function(v,b){return s(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"canAdd",this).call(this,v,b)||s(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"canAdd",this).call(this,v,parseInt(b))}},{key:"value",value:function(v){return parseInt(s(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"value",this).call(this,v))||void 0}}]),x}(l.default.Attributor.Class),y=new h("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});n.IndentClass=y},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(4),s=o(a);function o(p){return p&&p.__esModule?p:{default:p}}function l(p,h){if(!(p instanceof h))throw new TypeError("Cannot call a class as a function")}function c(p,h){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:p}function u(p,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);p.prototype=Object.create(h&&h.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(p,h):p.__proto__=h)}var d=function(p){u(h,p);function h(){return l(this,h),c(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(s.default);d.blotName="blockquote",d.tagName="blockquote",n.default=d},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function h(y,m){for(var x=0;x<m.length;x++){var g=m[x];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(y,g.key,g)}}return function(y,m,x){return m&&h(y.prototype,m),x&&h(y,x),y}}(),s=i(4),o=l(s);function l(h){return h&&h.__esModule?h:{default:h}}function c(h,y){if(!(h instanceof y))throw new TypeError("Cannot call a class as a function")}function u(h,y){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:h}function d(h,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);h.prototype=Object.create(y&&y.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(h,y):h.__proto__=y)}var p=function(h){d(y,h);function y(){return c(this,y),u(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return a(y,null,[{key:"formats",value:function(x){return this.tagName.indexOf(x.tagName)+1}}]),y}(o.default);p.blotName="header",p.tagName=["H1","H2","H3","H4","H5","H6"],n.default=p},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.ListItem=void 0;var a=function(){function _(E,F){for(var A=0;A<F.length;A++){var O=F[A];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(E,O.key,O)}}return function(E,F,A){return F&&_(E.prototype,F),A&&_(E,A),E}}(),s=function _(E,F,A){E===null&&(E=Function.prototype);var O=Object.getOwnPropertyDescriptor(E,F);if(O===void 0){var C=Object.getPrototypeOf(E);return C===null?void 0:_(C,F,A)}else{if("value"in O)return O.value;var L=O.get;return L===void 0?void 0:L.call(A)}},o=i(0),l=h(o),c=i(4),u=h(c),d=i(25),p=h(d);function h(_){return _&&_.__esModule?_:{default:_}}function y(_,E,F){return E in _?Object.defineProperty(_,E,{value:F,enumerable:!0,configurable:!0,writable:!0}):_[E]=F,_}function m(_,E){if(!(_ instanceof E))throw new TypeError("Cannot call a class as a function")}function x(_,E){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:_}function g(_,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);_.prototype=Object.create(E&&E.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(_,E):_.__proto__=E)}var v=function(_){g(E,_);function E(){return m(this,E),x(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return a(E,[{key:"format",value:function(A,O){A===b.blotName&&!O?this.replaceWith(l.default.create(this.statics.scope)):s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"format",this).call(this,A,O)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(A,O){return this.parent.isolate(this.offset(this.parent),this.length()),A===this.parent.statics.blotName?(this.parent.replaceWith(A,O),this):(this.parent.unwrap(),s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"replaceWith",this).call(this,A,O))}}],[{key:"formats",value:function(A){return A.tagName===this.tagName?void 0:s(E.__proto__||Object.getPrototypeOf(E),"formats",this).call(this,A)}}]),E}(u.default);v.blotName="list-item",v.tagName="LI";var b=function(_){g(E,_),a(E,null,[{key:"create",value:function(A){var O=A==="ordered"?"OL":"UL",C=s(E.__proto__||Object.getPrototypeOf(E),"create",this).call(this,O);return(A==="checked"||A==="unchecked")&&C.setAttribute("data-checked",A==="checked"),C}},{key:"formats",value:function(A){if(A.tagName==="OL")return"ordered";if(A.tagName==="UL")return A.hasAttribute("data-checked")?A.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function E(F){m(this,E);var A=x(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,F)),O=function(L){if(L.target.parentNode===F){var N=A.statics.formats(F),j=l.default.find(L.target);N==="checked"?j.format("list","unchecked"):N==="unchecked"&&j.format("list","checked")}};return F.addEventListener("touchstart",O),F.addEventListener("mousedown",O),A}return a(E,[{key:"format",value:function(A,O){this.children.length>0&&this.children.tail.format(A,O)}},{key:"formats",value:function(){return y({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(A,O){if(A instanceof v)s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"insertBefore",this).call(this,A,O);else{var C=O==null?this.length():O.offset(this),L=this.split(C);L.parent.insertBefore(A,L)}}},{key:"optimize",value:function(A){s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"optimize",this).call(this,A);var O=this.next;O!=null&&O.prev===this&&O.statics.blotName===this.statics.blotName&&O.domNode.tagName===this.domNode.tagName&&O.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(O.moveChildren(this),O.remove())}},{key:"replace",value:function(A){if(A.statics.blotName!==this.statics.blotName){var O=l.default.create(this.statics.defaultChild);A.moveChildren(O),this.appendChild(O)}s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"replace",this).call(this,A)}}]),E}(p.default);b.blotName="list",b.scope=l.default.Scope.BLOCK_BLOT,b.tagName=["OL","UL"],b.defaultChild="list-item",b.allowedChildren=[v],n.ListItem=v,n.default=b},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(56),s=o(a);function o(p){return p&&p.__esModule?p:{default:p}}function l(p,h){if(!(p instanceof h))throw new TypeError("Cannot call a class as a function")}function c(p,h){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:p}function u(p,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);p.prototype=Object.create(h&&h.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(p,h):p.__proto__=h)}var d=function(p){u(h,p);function h(){return l(this,h),c(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(s.default);d.blotName="italic",d.tagName=["EM","I"],n.default=d},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function y(m,x){for(var g=0;g<x.length;g++){var v=x[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,v.key,v)}}return function(m,x,g){return x&&y(m.prototype,x),g&&y(m,g),m}}(),s=function y(m,x,g){m===null&&(m=Function.prototype);var v=Object.getOwnPropertyDescriptor(m,x);if(v===void 0){var b=Object.getPrototypeOf(m);return b===null?void 0:y(b,x,g)}else{if("value"in v)return v.value;var _=v.get;return _===void 0?void 0:_.call(g)}},o=i(6),l=c(o);function c(y){return y&&y.__esModule?y:{default:y}}function u(y,m){if(!(y instanceof m))throw new TypeError("Cannot call a class as a function")}function d(y,m){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:y}function p(y,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);y.prototype=Object.create(m&&m.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(y,m):y.__proto__=m)}var h=function(y){p(m,y);function m(){return u(this,m),d(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return a(m,null,[{key:"create",value:function(g){return g==="super"?document.createElement("sup"):g==="sub"?document.createElement("sub"):s(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this,g)}},{key:"formats",value:function(g){if(g.tagName==="SUB")return"sub";if(g.tagName==="SUP")return"super"}}]),m}(l.default);h.blotName="script",h.tagName=["SUB","SUP"],n.default=h},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(6),s=o(a);function o(p){return p&&p.__esModule?p:{default:p}}function l(p,h){if(!(p instanceof h))throw new TypeError("Cannot call a class as a function")}function c(p,h){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:p}function u(p,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);p.prototype=Object.create(h&&h.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(p,h):p.__proto__=h)}var d=function(p){u(h,p);function h(){return l(this,h),c(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(s.default);d.blotName="strike",d.tagName="S",n.default=d},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(6),s=o(a);function o(p){return p&&p.__esModule?p:{default:p}}function l(p,h){if(!(p instanceof h))throw new TypeError("Cannot call a class as a function")}function c(p,h){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:p}function u(p,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);p.prototype=Object.create(h&&h.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(p,h):p.__proto__=h)}var d=function(p){u(h,p);function h(){return l(this,h),c(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(s.default);d.blotName="underline",d.tagName="U",n.default=d},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function x(g,v){for(var b=0;b<v.length;b++){var _=v[b];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(g,_.key,_)}}return function(g,v,b){return v&&x(g.prototype,v),b&&x(g,b),g}}(),s=function x(g,v,b){g===null&&(g=Function.prototype);var _=Object.getOwnPropertyDescriptor(g,v);if(_===void 0){var E=Object.getPrototypeOf(g);return E===null?void 0:x(E,v,b)}else{if("value"in _)return _.value;var F=_.get;return F===void 0?void 0:F.call(b)}},o=i(0),l=u(o),c=i(27);function u(x){return x&&x.__esModule?x:{default:x}}function d(x,g){if(!(x instanceof g))throw new TypeError("Cannot call a class as a function")}function p(x,g){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:x}function h(x,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);x.prototype=Object.create(g&&g.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(x,g):x.__proto__=g)}var y=["alt","height","width"],m=function(x){h(g,x);function g(){return d(this,g),p(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return a(g,[{key:"format",value:function(b,_){y.indexOf(b)>-1?_?this.domNode.setAttribute(b,_):this.domNode.removeAttribute(b):s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"format",this).call(this,b,_)}}],[{key:"create",value:function(b){var _=s(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,b);return typeof b=="string"&&_.setAttribute("src",this.sanitize(b)),_}},{key:"formats",value:function(b){return y.reduce(function(_,E){return b.hasAttribute(E)&&(_[E]=b.getAttribute(E)),_},{})}},{key:"match",value:function(b){return/\.(jpe?g|gif|png)$/.test(b)||/^data:image\/.+;base64/.test(b)}},{key:"sanitize",value:function(b){return(0,c.sanitize)(b,["http","https","data"])?b:"//:0"}},{key:"value",value:function(b){return b.getAttribute("src")}}]),g}(l.default.Embed);m.blotName="image",m.tagName="IMG",n.default=m},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function x(g,v){for(var b=0;b<v.length;b++){var _=v[b];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(g,_.key,_)}}return function(g,v,b){return v&&x(g.prototype,v),b&&x(g,b),g}}(),s=function x(g,v,b){g===null&&(g=Function.prototype);var _=Object.getOwnPropertyDescriptor(g,v);if(_===void 0){var E=Object.getPrototypeOf(g);return E===null?void 0:x(E,v,b)}else{if("value"in _)return _.value;var F=_.get;return F===void 0?void 0:F.call(b)}},o=i(4),l=i(27),c=u(l);function u(x){return x&&x.__esModule?x:{default:x}}function d(x,g){if(!(x instanceof g))throw new TypeError("Cannot call a class as a function")}function p(x,g){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:x}function h(x,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);x.prototype=Object.create(g&&g.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(x,g):x.__proto__=g)}var y=["height","width"],m=function(x){h(g,x);function g(){return d(this,g),p(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return a(g,[{key:"format",value:function(b,_){y.indexOf(b)>-1?_?this.domNode.setAttribute(b,_):this.domNode.removeAttribute(b):s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"format",this).call(this,b,_)}}],[{key:"create",value:function(b){var _=s(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,b);return _.setAttribute("frameborder","0"),_.setAttribute("allowfullscreen",!0),_.setAttribute("src",this.sanitize(b)),_}},{key:"formats",value:function(b){return y.reduce(function(_,E){return b.hasAttribute(E)&&(_[E]=b.getAttribute(E)),_},{})}},{key:"sanitize",value:function(b){return c.default.sanitize(b)}},{key:"value",value:function(b){return b.getAttribute("src")}}]),g}(o.BlockEmbed);m.blotName="video",m.className="ql-video",m.tagName="IFRAME",n.default=m},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.FormulaBlot=void 0;var a=function(){function b(_,E){for(var F=0;F<E.length;F++){var A=E[F];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(_,A.key,A)}}return function(_,E,F){return E&&b(_.prototype,E),F&&b(_,F),_}}(),s=function b(_,E,F){_===null&&(_=Function.prototype);var A=Object.getOwnPropertyDescriptor(_,E);if(A===void 0){var O=Object.getPrototypeOf(_);return O===null?void 0:b(O,E,F)}else{if("value"in A)return A.value;var C=A.get;return C===void 0?void 0:C.call(F)}},o=i(35),l=h(o),c=i(5),u=h(c),d=i(9),p=h(d);function h(b){return b&&b.__esModule?b:{default:b}}function y(b,_){if(!(b instanceof _))throw new TypeError("Cannot call a class as a function")}function m(b,_){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:b}function x(b,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);b.prototype=Object.create(_&&_.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(b,_):b.__proto__=_)}var g=function(b){x(_,b);function _(){return y(this,_),m(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return a(_,null,[{key:"create",value:function(F){var A=s(_.__proto__||Object.getPrototypeOf(_),"create",this).call(this,F);return typeof F=="string"&&(window.katex.render(F,A,{throwOnError:!1,errorColor:"#f00"}),A.setAttribute("data-value",F)),A}},{key:"value",value:function(F){return F.getAttribute("data-value")}}]),_}(l.default);g.blotName="formula",g.className="ql-formula",g.tagName="SPAN";var v=function(b){x(_,b),a(_,null,[{key:"register",value:function(){u.default.register(g,!0)}}]);function _(){y(this,_);var E=m(this,(_.__proto__||Object.getPrototypeOf(_)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return E}return _}(p.default);n.FormulaBlot=g,n.default=v},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.CodeToken=n.CodeBlock=void 0;var a=function(){function F(A,O){for(var C=0;C<O.length;C++){var L=O[C];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(A,L.key,L)}}return function(A,O,C){return O&&F(A.prototype,O),C&&F(A,C),A}}(),s=function F(A,O,C){A===null&&(A=Function.prototype);var L=Object.getOwnPropertyDescriptor(A,O);if(L===void 0){var N=Object.getPrototypeOf(A);return N===null?void 0:F(N,O,C)}else{if("value"in L)return L.value;var j=L.get;return j===void 0?void 0:j.call(C)}},o=i(0),l=m(o),c=i(5),u=m(c),d=i(9),p=m(d),h=i(13),y=m(h);function m(F){return F&&F.__esModule?F:{default:F}}function x(F,A){if(!(F instanceof A))throw new TypeError("Cannot call a class as a function")}function g(F,A){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:F}function v(F,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);F.prototype=Object.create(A&&A.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(F,A):F.__proto__=A)}var b=function(F){v(A,F);function A(){return x(this,A),g(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return a(A,[{key:"replaceWith",value:function(C){this.domNode.textContent=this.domNode.textContent,this.attach(),s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"replaceWith",this).call(this,C)}},{key:"highlight",value:function(C){var L=this.domNode.textContent;this.cachedText!==L&&((L.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=C(L),this.domNode.normalize(),this.attach()),this.cachedText=L)}}]),A}(y.default);b.className="ql-syntax";var _=new l.default.Attributor.Class("token","hljs",{scope:l.default.Scope.INLINE}),E=function(F){v(A,F),a(A,null,[{key:"register",value:function(){u.default.register(_,!0),u.default.register(b,!0)}}]);function A(O,C){x(this,A);var L=g(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,O,C));if(typeof L.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var N=null;return L.quill.on(u.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(N),N=setTimeout(function(){L.highlight(),N=null},L.options.interval)}),L.highlight(),L}return a(A,[{key:"highlight",value:function(){var C=this;if(!this.quill.selection.composing){this.quill.update(u.default.sources.USER);var L=this.quill.getSelection();this.quill.scroll.descendants(b).forEach(function(N){N.highlight(C.options.highlight)}),this.quill.update(u.default.sources.SILENT),L!=null&&this.quill.setSelection(L,u.default.sources.SILENT)}}}]),A}(p.default);E.DEFAULTS={highlight:function(){return window.hljs==null?null:function(F){var A=window.hljs.highlightAuto(F);return A.value}}(),interval:1e3},n.CodeBlock=b,n.CodeToken=_,n.default=E},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(r,n){r.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(r,n){r.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(r,n){r.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(r,n){r.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BubbleTooltip=void 0;var a=function A(O,C,L){O===null&&(O=Function.prototype);var N=Object.getOwnPropertyDescriptor(O,C);if(N===void 0){var j=Object.getPrototypeOf(O);return j===null?void 0:A(j,C,L)}else{if("value"in N)return N.value;var T=N.get;return T===void 0?void 0:T.call(L)}},s=function(){function A(O,C){for(var L=0;L<C.length;L++){var N=C[L];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(O,N.key,N)}}return function(O,C,L){return C&&A(O.prototype,C),L&&A(O,L),O}}(),o=i(3),l=x(o),c=i(8),u=x(c),d=i(43),p=x(d),h=i(15),y=i(41),m=x(y);function x(A){return A&&A.__esModule?A:{default:A}}function g(A,O){if(!(A instanceof O))throw new TypeError("Cannot call a class as a function")}function v(A,O){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:A}function b(A,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);A.prototype=Object.create(O&&O.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(A,O):A.__proto__=O)}var _=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],E=function(A){b(O,A);function O(C,L){g(this,O),L.modules.toolbar!=null&&L.modules.toolbar.container==null&&(L.modules.toolbar.container=_);var N=v(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,C,L));return N.quill.container.classList.add("ql-bubble"),N}return s(O,[{key:"extendToolbar",value:function(L){this.tooltip=new F(this.quill,this.options.bounds),this.tooltip.root.appendChild(L.container),this.buildButtons([].slice.call(L.container.querySelectorAll("button")),m.default),this.buildPickers([].slice.call(L.container.querySelectorAll("select")),m.default)}}]),O}(p.default);E.DEFAULTS=(0,l.default)(!0,{},p.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(O){O?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var F=function(A){b(O,A);function O(C,L){g(this,O);var N=v(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,C,L));return N.quill.on(u.default.events.EDITOR_CHANGE,function(j,T,B,z){if(j===u.default.events.SELECTION_CHANGE)if(T!=null&&T.length>0&&z===u.default.sources.USER){N.show(),N.root.style.left="0px",N.root.style.width="",N.root.style.width=N.root.offsetWidth+"px";var Q=N.quill.getLines(T.index,T.length);if(Q.length===1)N.position(N.quill.getBounds(T));else{var ne=Q[Q.length-1],ie=N.quill.getIndex(ne),K=Math.min(ne.length()-1,T.index+T.length-ie),W=N.quill.getBounds(new h.Range(ie,K));N.position(W)}}else document.activeElement!==N.textbox&&N.quill.hasFocus()&&N.hide()}),N}return s(O,[{key:"listen",value:function(){var L=this;a(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){L.root.classList.remove("ql-editing")}),this.quill.on(u.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!L.root.classList.contains("ql-hidden")){var N=L.quill.getSelection();N!=null&&L.position(L.quill.getBounds(N))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(L){var N=a(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"position",this).call(this,L),j=this.root.querySelector(".ql-tooltip-arrow");if(j.style.marginLeft="",N===0)return N;j.style.marginLeft=-1*N-j.offsetWidth/2+"px"}}]),O}(d.BaseTooltip);F.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),n.BubbleTooltip=F,n.default=E},function(r,n,i){r.exports=i(63)}]).default})})(nS);var OR=nS.exports,CR=Cr&&Cr.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),kp=Cr&&Cr.__assign||function(){return kp=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},kp.apply(this,arguments)},LR=Cr&&Cr.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var a=arguments[t],s=0,o=a.length;s<o;s++,i++)n[i]=a[s];return n},w1=Cr&&Cr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},is=w1(ye),PR=w1(fN),Lf=w1(jR),Rb=w1(OR),FR=function(e){CR(t,e);function t(r){var n=e.call(this,r)||this;n.dirtyProps=["modules","formats","bounds","theme","children"],n.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],n.state={generation:0},n.selection=null,n.onEditorChange=function(a,s,o,l){var c,u,d,p;a==="text-change"?(u=(c=n).onEditorChangeText)===null||u===void 0||u.call(c,n.editor.root.innerHTML,s,l,n.unprivilegedEditor):a==="selection-change"&&((p=(d=n).onEditorChangeSelection)===null||p===void 0||p.call(d,s,l,n.unprivilegedEditor))};var i=n.isControlled()?r.value:r.defaultValue;return n.value=i??"",n}return t.prototype.validateProps=function(r){var n;if(is.default.Children.count(r.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(is.default.Children.count(r.children)){var i=is.default.Children.only(r.children);if(((n=i)===null||n===void 0?void 0:n.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&r.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},t.prototype.shouldComponentUpdate=function(r,n){var i=this,a;if(this.validateProps(r),!this.editor||this.state.generation!==n.generation)return!0;if("value"in r){var s=this.getEditorContents(),o=(a=r.value,a??"");this.isEqualValue(o,s)||this.setEditorContents(this.editor,o)}return r.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,r.readOnly),LR(this.cleanProps,this.dirtyProps).some(function(l){return!Lf.default(r[l],i.props[l])})},t.prototype.shouldComponentRegenerate=function(r){var n=this;return this.dirtyProps.some(function(i){return!Lf.default(r[i],n.props[i])})},t.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},t.prototype.componentWillUnmount=function(){this.destroyEditor()},t.prototype.componentDidUpdate=function(r,n){var i=this;if(this.editor&&this.shouldComponentRegenerate(r)){var a=this.editor.getContents(),s=this.editor.getSelection();this.regenerationSnapshot={delta:a,selection:s},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==n.generation){var o=this.regenerationSnapshot,a=o.delta,l=o.selection;delete this.regenerationSnapshot,this.instantiateEditor();var c=this.editor;c.setContents(a),Db(function(){return i.setEditorSelection(c,l)})}},t.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},t.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},t.prototype.isControlled=function(){return"value"in this.props},t.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},t.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},t.prototype.createEditor=function(r,n){var i=new Rb.default(r,n);return n.tabIndex!=null&&this.setEditorTabIndex(i,n.tabIndex),this.hookEditor(i),i},t.prototype.hookEditor=function(r){this.unprivilegedEditor=this.makeUnprivilegedEditor(r),r.on("editor-change",this.onEditorChange)},t.prototype.unhookEditor=function(r){r.off("editor-change",this.onEditorChange)},t.prototype.getEditorContents=function(){return this.value},t.prototype.getEditorSelection=function(){return this.selection},t.prototype.isDelta=function(r){return r&&r.ops},t.prototype.isEqualValue=function(r,n){return this.isDelta(r)&&this.isDelta(n)?Lf.default(r.ops,n.ops):Lf.default(r,n)},t.prototype.setEditorContents=function(r,n){var i=this;this.value=n;var a=this.getEditorSelection();typeof n=="string"?r.setContents(r.clipboard.convert(n)):r.setContents(n),Db(function(){return i.setEditorSelection(r,a)})},t.prototype.setEditorSelection=function(r,n){if(this.selection=n,n){var i=r.getLength();n.index=Math.max(0,Math.min(n.index,i-1)),n.length=Math.max(0,Math.min(n.length,i-1-n.index)),r.setSelection(n)}},t.prototype.setEditorTabIndex=function(r,n){var i,a;!((a=(i=r)===null||i===void 0?void 0:i.scroll)===null||a===void 0)&&a.domNode&&(r.scroll.domNode.tabIndex=n)},t.prototype.setEditorReadOnly=function(r,n){n?r.disable():r.enable()},t.prototype.makeUnprivilegedEditor=function(r){var n=r;return{getHTML:function(){return n.root.innerHTML},getLength:n.getLength.bind(n),getText:n.getText.bind(n),getContents:n.getContents.bind(n),getSelection:n.getSelection.bind(n),getBounds:n.getBounds.bind(n)}},t.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var r=PR.default.findDOMNode(this.editingArea);if(!r)throw new Error("Cannot find element for editing area");if(r.nodeType===3)throw new Error("Editing area cannot be a text node");return r},t.prototype.renderEditingArea=function(){var r=this,n=this.props,i=n.children,a=n.preserveWhitespace,s=this.state.generation,o={key:s,ref:function(l){r.editingArea=l}};return is.default.Children.count(i)?is.default.cloneElement(is.default.Children.only(i),o):a?is.default.createElement("pre",kp({},o)):is.default.createElement("div",kp({},o))},t.prototype.render=function(){var r;return is.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(r=this.props.className,r??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},t.prototype.onEditorChangeText=function(r,n,i,a){var s,o;if(this.editor){var l=this.isDelta(this.value)?a.getContents():a.getHTML();l!==this.getEditorContents()&&(this.lastDeltaChangeSet=n,this.value=l,(o=(s=this.props).onChange)===null||o===void 0||o.call(s,r,n,i,a))}},t.prototype.onEditorChangeSelection=function(r,n,i){var a,s,o,l,c,u;if(this.editor){var d=this.getEditorSelection(),p=!d&&r,h=d&&!r;Lf.default(r,d)||(this.selection=r,(s=(a=this.props).onChangeSelection)===null||s===void 0||s.call(a,r,n,i),p?(l=(o=this.props).onFocus)===null||l===void 0||l.call(o,r,n,i):h&&((u=(c=this.props).onBlur)===null||u===void 0||u.call(c,d,n,i)))}},t.prototype.focus=function(){this.editor&&this.editor.focus()},t.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},t.displayName="React Quill",t.Quill=Rb.default,t.defaultProps={theme:"snow",modules:{},readOnly:!1},t}(is.default.Component);function Db(e){Promise.resolve().then(e)}var IR=FR;const Gs=ME(IR),RR={toolbar:[[{header:[1,2,3,!1]}],["bold","italic"],[{list:"ordered"},{list:"bullet"}],["clean"]]},DR=["header","bold","italic","list","bullet"];function iS({teamMemberId:e,existingData:t,onSave:r,onCancel:n}){const{user:i}=Ga(),[a,s]=ye.useState(!1),[o,l]=ye.useState([]),[c,u]=ye.useState(!1),[d,p]=ye.useState(!1),[h,y]=ye.useState("notes"),[m,x]=ye.useState(!1),g=ye.useRef(null),v=ye.useRef(""),b=W=>Array.isArray(W)?W.map(q=>typeof q=="string"?{text:q,completed:!1}:{text:q.text||"",completed:q.completed||!1}):[],_=W=>W?W.includes("T")?W.split("T")[0]:W:new Date().toISOString().split("T")[0],[E,F]=ye.useState({team_member_id:(t==null?void 0:t.team_member_id)||e||"",meeting_date:_(t==null?void 0:t.meeting_date),notes:(t==null?void 0:t.notes)||"",transcript:(t==null?void 0:t.transcript)||"",summary:(t==null?void 0:t.summary)||"",agenda:b(t==null?void 0:t.agenda)}),[A,O]=ye.useState("");ye.useEffect(()=>{C(),t&&(v.current=t.notes||"",t.summary&&y("summary"))},[t]);const C=async()=>{const{data:W}=await qe.from("team_members").select("*").eq("status","active");W&&l(W)},L=()=>{if(!("webkitSpeechRecognition"in window)&&!("SpeechRecognition"in window)){alert("Speech recognition is not supported in your browser. Please use Chrome or Edge.");return}const W=window.SpeechRecognition||window.webkitSpeechRecognition,q=new W;q.continuous=!0,q.interimResults=!0,q.lang="en-US",q.onresult=k=>{let I="";for(let M=k.resultIndex;M<k.results.length;M++){const U=k.results[M][0].transcript;k.results[M].isFinal&&(I+=U+" ")}I&&F(M=>({...M,transcript:M.transcript+I}))},q.onerror=k=>{console.error("Speech recognition error:",k.error),u(!1)},q.onend=()=>{c&&q.start()},q.start(),g.current=q,u(!0),y("transcript")},N=()=>{g.current&&(g.current.stop(),g.current=null),u(!1)},j=()=>{A.trim()&&(F(W=>({...W,agenda:[...W.agenda,{text:A.trim(),completed:!1}]})),O(""))},T=W=>{F(q=>({...q,agenda:q.agenda.filter((k,I)=>I!==W)}))},B=W=>{F(q=>({...q,agenda:q.agenda.map((k,I)=>I===W?{...k,completed:!k.completed}:k)}))},z=W=>{W.key==="Enter"&&(W.preventDefault(),j())},Q=async()=>{p(!0),y("summary");try{const q=await fetch("https://vbhbidmjzezqjwpawprh.supabase.co/functions/v1/generate-meeting-summary",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZiaGJpZG1qemV6cWp3cGF3cHJoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjY1NzMyMjcsImV4cCI6MjA4MjE0OTIyN30.9XZ_QvRngFm_eRYiUMk0O_Zr3QZJ2JLK6ZMGn_CTyIk","Content-Type":"application/json"},body:JSON.stringify({notes:E.notes,transcript:E.transcript})});if(!q.ok)throw new Error("Failed to generate summary");const{summary:k}=await q.json();F(I=>({...I,summary:k}))}catch(W){console.error("Error generating summary:",W),alert("Failed to generate summary. Creating a basic summary instead.");const q=`<h2 class="text-2xl font-bold text-slate-900 mb-4">Meeting Summary</h2><h3 class="text-xl font-semibold text-slate-800 mb-3 mt-6">Notes</h3><p class="text-slate-700 mb-4">${E.notes||"No notes provided"}</p><h3 class="text-xl font-semibold text-slate-800 mb-3 mt-6">Transcript</h3><p class="text-slate-700 mb-4">${E.transcript||"No transcript available"}</p><h3 class="text-xl font-semibold text-slate-800 mb-3 mt-6">Next Steps</h3><ul class="list-disc list-inside space-y-2 text-slate-700"><li class="ml-4">Review action items</li><li class="ml-4">Schedule follow-up</li></ul>`;F(k=>({...k,summary:q}))}finally{p(!1)}},ne=async W=>{if(W.preventDefault(),!!i){s(!0);try{const q={team_member_id:E.team_member_id,meeting_date:E.meeting_date,notes:E.notes,transcript:E.transcript,summary:E.summary,agenda:E.agenda,manager_id:i.id};if(t!=null&&t.id){const{error:k}=await qe.from("one_on_ones").update(q).eq("id",t.id);if(k)throw k}else{const{error:k}=await qe.from("one_on_ones").insert([q]);if(k)throw k}r()}catch(q){console.error("Error saving 1:1:",q),alert("Failed to save meeting. Please try again.")}finally{s(!1)}}},ie=[{id:"notes",label:"Notes"},...E.transcript||c?[{id:"transcript",label:"Transcript"}]:[],...E.summary?[{id:"summary",label:"Summary"}]:[]],K=o.find(W=>W.id===E.team_member_id);return f.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:t!=null&&t.id?"Edit 1:1":"New 1:1 Meeting"}),K&&f.jsx("p",{className:"text-slate-600 mt-1",children:K.full_name})]}),f.jsx("button",{onClick:n,className:"text-slate-400 hover:text-slate-600 transition",children:f.jsx(nn,{className:"w-6 h-6"})})]}),f.jsxs("form",{onSubmit:ne,className:"space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Team Member"}),f.jsxs("select",{required:!0,value:E.team_member_id,onChange:W=>F({...E,team_member_id:W.target.value}),disabled:!!e,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-slate-50 disabled:text-slate-600",children:[f.jsx("option",{value:"",children:"Select team member"}),o.map(W=>f.jsx("option",{value:W.id,children:W.full_name},W.id))]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Meeting Date"}),f.jsx("input",{type:"date",required:!0,value:E.meeting_date,onChange:W=>F({...E,meeting_date:W.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Agenda"}),f.jsxs("div",{className:"border border-slate-300 rounded-lg p-4 bg-slate-50",children:[f.jsxs("div",{className:"flex gap-2 mb-3",children:[f.jsx("input",{type:"text",value:A,onChange:W=>O(W.target.value),onKeyPress:z,placeholder:"Add agenda item...",className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white"}),f.jsxs("button",{type:"button",onClick:j,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition flex items-center gap-2",children:[f.jsx(Er,{className:"w-4 h-4"}),"Add"]})]}),E.agenda.length>0?f.jsx("ul",{className:"space-y-2",children:E.agenda.map((W,q)=>f.jsxs("li",{className:"flex items-center gap-3 bg-white border border-slate-200 rounded-lg px-4 py-2",children:[f.jsx("input",{type:"checkbox",checked:W.completed,onChange:()=>B(q),className:"w-4 h-4 text-blue-600 rounded border-slate-300 focus:ring-2 focus:ring-blue-500"}),f.jsx("span",{className:`flex-1 ${W.completed?"text-slate-400 line-through":"text-slate-700"}`,children:W.text}),f.jsx("button",{type:"button",onClick:()=>T(q),className:"text-red-600 hover:text-red-700 transition",children:f.jsx(rn,{className:"w-4 h-4"})})]},q))}):f.jsx("p",{className:"text-slate-500 text-sm text-center py-2",children:"No agenda items yet. Add items above to create an agenda for this meeting."})]})]}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center justify-between mb-3",children:[f.jsx("div",{className:"flex gap-2 border-b border-slate-200",children:ie.map(W=>f.jsxs("button",{type:"button",onClick:()=>y(W.id),className:`px-4 py-2 font-medium transition-colors relative ${h===W.id?"text-blue-600":"text-slate-600 hover:text-slate-900"}`,children:[W.label,h===W.id&&f.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-blue-600"}),W.id==="transcript"&&c&&f.jsx("span",{className:"absolute -top-1 -right-1 w-2 h-2 bg-red-600 rounded-full animate-pulse"})]},W.id))}),(h==="notes"||h==="transcript"&&c)&&f.jsx("button",{type:"button",onClick:c?N:L,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition ${c?"bg-red-600 text-white hover:bg-red-700":"bg-blue-600 text-white hover:bg-blue-700"}`,children:c?f.jsxs(f.Fragment,{children:[f.jsx(XO,{className:"w-4 h-4"}),"Stop Transcribing"]}):f.jsxs(f.Fragment,{children:[f.jsx(ZO,{className:"w-4 h-4"}),"Start Transcribing"]})})]}),h==="notes"&&f.jsxs("div",{className:"space-y-3",children:[f.jsx("div",{className:"border border-slate-300 rounded-lg overflow-hidden",children:f.jsx(Gs,{theme:"snow",value:E.notes,onChange:W=>{F({...E,notes:W}),x(W!==v.current)},modules:RR,formats:DR,placeholder:"What did you discuss?",className:"bg-white",style:{minHeight:"300px"}})}),(m||E.transcript)&&f.jsxs("button",{type:"button",onClick:()=>{Q(),x(!1),v.current=E.notes},className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:[f.jsx(B0,{className:"w-4 h-4"}),"Generate Summary"]})]}),h==="transcript"&&f.jsxs("div",{className:"w-full min-h-[300px] px-4 py-3 border border-slate-300 rounded-lg bg-slate-50",children:[c&&f.jsxs("div",{className:"flex items-center gap-2 mb-4 p-2 bg-blue-50 border border-blue-200 rounded",children:[f.jsx("div",{className:"w-2 h-2 bg-red-600 rounded-full animate-pulse"}),f.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Recording in progress..."})]}),f.jsx("p",{className:"text-slate-700 whitespace-pre-wrap",children:E.transcript||(c?"Listening...":"No transcript available")})]}),h==="summary"&&f.jsxs("div",{className:"space-y-3",children:[f.jsx("div",{className:"w-full min-h-[300px] px-4 py-3 border border-slate-300 rounded-lg bg-white",children:d?f.jsx("div",{className:"flex items-center justify-center h-full",children:f.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[f.jsx(B0,{className:"w-5 h-5 animate-pulse"}),f.jsx("span",{children:"Generating summary..."})]})}):f.jsx("div",{className:"prose prose-slate max-w-none",dangerouslySetInnerHTML:{__html:E.summary||'<p class="text-slate-500">No summary available. Generate one from the Notes tab.</p>'}})}),!d&&!E.summary&&(E.notes||E.transcript)&&f.jsxs("button",{type:"button",onClick:()=>{Q(),x(!1),v.current=E.notes},className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:[f.jsx(B0,{className:"w-4 h-4"}),"Generate Summary"]})]})]}),f.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200",children:[f.jsx("button",{type:"button",onClick:n,className:"flex-1 px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition",children:"Cancel"}),f.jsxs("button",{type:"submit",disabled:a,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition disabled:opacity-50",children:[a?"Saving...":t!=null&&t.id?"Update":"Save"," Meeting"]})]})]})]})}const Mb={toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"}],["clean"]]},Bb=["header","bold","italic","underline","list","bullet"],MR=[{key:"wins",label:"What were some wins from this year?"},{key:"learnings",label:"What were some key learnings?"},{key:"fail_forward",label:"What was your biggest fail forward this year? What did it teach you?"},{key:"level_up",label:"What will it take to level up your skills?"},{key:"steps_taking",label:"What steps are you taking to get there?"},{key:"next_year_goals",label:"What do you want to have accomplished in your role by this time next year?"},{key:"impact_areas",label:"Where can you provide the most impact in the coming year?"}];function BR({data:e,onChange:t}){const r=(n,i,a)=>{t({...e,[n]:{...e[n],[i]:a}})};return f.jsxs("div",{className:"space-y-8",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[f.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-50 flex items-center justify-center",children:f.jsx("span",{className:"text-xl",children:""})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"Reflection Questions"}),f.jsx("p",{className:"text-sm text-slate-600",children:"Team member and leader responses"})]})]}),MR.map(n=>f.jsxs("div",{className:"border border-slate-200 rounded-lg p-6 bg-slate-50",children:[f.jsx("h4",{className:"text-base font-semibold text-slate-900 mb-4",children:n.label}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Team Member Response"}),f.jsx("div",{className:"bg-white rounded-lg border border-slate-300",children:f.jsx(Gs,{theme:"snow",value:e[n.key].team_member,onChange:i=>r(n.key,"team_member",i),modules:Mb,formats:Bb,className:"min-h-[150px]"})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Leader Response"}),f.jsx("div",{className:"bg-white rounded-lg border border-slate-300",children:f.jsx(Gs,{theme:"snow",value:e[n.key].leader,onChange:i=>r(n.key,"leader",i),modules:Mb,formats:Bb,className:"min-h-[150px]"})})]})]})]},n.key))]})}const Ym={toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"}],["clean"]]},Xm=["header","bold","italic","underline","list","bullet"];function UR({data:e,onChange:t,teamMemberName:r="team member"}){const n=()=>{t([...e,{peer_name:"",crushing_it:"",growth_areas:"",other:""}])},i=s=>{t(e.filter((o,l)=>l!==s))},a=(s,o,l)=>{const c=[...e];c[s]={...c[s],[o]:l},t(c)};return f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-50 flex items-center justify-center",children:f.jsx("span",{className:"text-xl",children:""})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"Peer Feedback"}),f.jsx("p",{className:"text-sm text-slate-600",children:"Collect feedback from colleagues"})]})]}),f.jsxs("button",{type:"button",onClick:n,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition",children:[f.jsx(Er,{className:"w-4 h-4"}),"Add Peer"]})]}),e.length===0?f.jsxs("div",{className:"border-2 border-dashed border-slate-300 rounded-lg p-8 text-center",children:[f.jsx("p",{className:"text-slate-500 mb-4",children:"No peer feedback added yet"}),f.jsxs("button",{type:"button",onClick:n,className:"inline-flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition",children:[f.jsx(Er,{className:"w-4 h-4"}),"Add First Peer Feedback"]})]}):f.jsx("div",{className:"space-y-6",children:e.map((s,o)=>f.jsxs("div",{className:"border border-slate-200 rounded-lg p-6 bg-white",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("h4",{className:"text-lg font-semibold text-slate-900",children:["Peer ",o+1]}),f.jsxs("button",{type:"button",onClick:()=>i(o),className:"flex items-center gap-2 px-3 py-1.5 text-sm text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg transition",children:[f.jsx(rn,{className:"w-4 h-4"}),"Remove"]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Peer Name"}),f.jsx("input",{type:"text",value:s.peer_name,onChange:l=>a(o,"peer_name",l.target.value),placeholder:"Enter peer's name",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Where is ",s.peer_name||r," crushing it right now?"]}),f.jsx("div",{className:"bg-white rounded-lg border border-slate-300",children:f.jsx(Gs,{theme:"snow",value:s.crushing_it,onChange:l=>a(o,"crushing_it",l),modules:Ym,formats:Xm,className:"min-h-[120px]"})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"What are 1-2 areas of growth?"}),f.jsx("div",{className:"bg-white rounded-lg border border-slate-300",children:f.jsx(Gs,{theme:"snow",value:s.growth_areas,onChange:l=>a(o,"growth_areas",l),modules:Ym,formats:Xm,className:"min-h-[120px]"})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Anything else?"}),f.jsx("div",{className:"bg-white rounded-lg border border-slate-300",children:f.jsx(Gs,{theme:"snow",value:s.other,onChange:l=>a(o,"other",l),modules:Ym,formats:Xm,className:"min-h-[120px]"})})]})]})]},o))})]})}const qR={toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"}],["clean"]]},$R=["header","bold","italic","underline","list","bullet"];function zR({data:e,onChange:t,teamMemberId:r}){const[n,i]=ye.useState(!0);ye.useEffect(()=>{a()},[r]);const a=async()=>{i(!0);const{data:o,error:l}=await qe.from("maturity_assessments").select(`
        skill_id,
        leader_rating,
        maturity_skills (
          id,
          name
        )
      `).eq("team_member_id",r);if(l){console.error("Error fetching maturity assessments:",l),i(!1);return}if(!o||o.length===0){i(!1);return}const c=o.map(b=>b.skill_id),{data:u}=await qe.from("category_skills").select(`
        skill_id,
        category_id,
        maturity_categories (
          id,
          name,
          description,
          display_order
        )
      `).in("skill_id",c);if(!u){i(!1);return}const{data:d}=await qe.from("levels").select("*"),p={Associate:1,"Level 1":2,"Level 2":3,Senior:4,Lead:5},h=new Map((d||[]).map(b=>[b.id,p[b.name]||0]));new Map((d||[]).map(b=>[b.id,b.name]));const y=5,m=new Map;for(const b of u)m.set(b.skill_id,b.maturity_categories);const x=new Map;for(const b of o){if(!b.leader_rating)continue;const _=m.get(b.skill_id);if(!_)continue;x.has(_.id)||x.set(_.id,{id:_.id,name:_.name,description:_.description||"",ratings:[],display_order:_.display_order||0});const E=h.get(b.leader_rating);E!==void 0&&x.get(_.id).ratings.push(E)}const v=Array.from(x.values()).sort((b,_)=>b.display_order-_.display_order).map(b=>{const _=b.ratings.reduce((O,C)=>O+C,0),E=b.ratings.length>0?_/b.ratings.length:0;let F="";if(d){const O=Math.round(E),C=Object.entries(p).find(([L,N])=>N===O);C?F=C[0]:F=d.reduce((N,j)=>{const T=p[N.name]||0,B=p[j.name]||0;return Math.abs(B-E)<Math.abs(T-E)?j:N}).name}const A=e.find(O=>O.category_id===b.id);return{category_id:b.id,category_name:b.name,category_description:b.description,average_rating:Math.round(E*10)/10,max_rating:y,level_name:F,leader_comments:(A==null?void 0:A.leader_comments)||""}});(e.length===0||JSON.stringify(e.map(b=>b.category_id).sort())!==JSON.stringify(v.map(b=>b.category_id).sort()))&&t(v),i(!1)},s=(o,l)=>{const c=[...e];c[o]={...c[o],leader_comments:l},t(c)};return n?f.jsx("div",{className:"flex items-center justify-center h-64",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[f.jsx("div",{className:"w-10 h-10 rounded-lg bg-indigo-50 flex items-center justify-center",children:f.jsx("span",{className:"text-xl",children:""})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"Maturity Model Snapshot"}),f.jsx("p",{className:"text-sm text-slate-600",children:"Current maturity assessment by category"})]})]}),e.length===0?f.jsx("div",{className:"border-2 border-dashed border-slate-300 rounded-lg p-8 text-center",children:f.jsx("p",{className:"text-slate-500",children:"No maturity assessment data available for this team member"})}):f.jsx("div",{className:"space-y-6",children:e.map((o,l)=>f.jsxs("div",{className:"border border-slate-200 rounded-lg p-6 bg-white",children:[f.jsxs("div",{className:"mb-4",children:[f.jsx("h4",{className:"text-xl font-bold text-slate-900 mb-2",children:o.category_name}),f.jsx("p",{className:"text-slate-600 leading-relaxed mb-3",children:o.category_description}),f.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-indigo-50 border border-indigo-200 rounded-lg",children:[f.jsx("span",{className:"text-2xl font-bold text-indigo-900",children:o.average_rating.toFixed(1)}),f.jsx("span",{className:"text-slate-600",children:"/"}),f.jsx("span",{className:"text-lg font-semibold text-slate-700",children:o.max_rating.toFixed(1)}),f.jsxs("span",{className:"text-sm text-slate-600 ml-2",children:["(",o.level_name,")"]})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Leader Comments"}),f.jsx("div",{className:"bg-white rounded-lg border border-slate-300",children:f.jsx(Gs,{theme:"snow",value:o.leader_comments,onChange:c=>s(l,c),modules:qR,formats:$R,className:"min-h-[120px]"})})]})]},o.category_id))})]})}const HR={toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"}],["clean"]]},WR=["header","bold","italic","underline","list","bullet"],VR={1:"Needs guidance & substantial improvement",2:"Self-sufficient, but needs overall improvement",3:"Meeting expectations",4:"Exceeding expectations",5:"Greatly exceeding expectations"};function GR({data:e,onChange:t,teamMemberId:r}){const[n,i]=ye.useState([]),[a,s]=ye.useState(!0);ye.useEffect(()=>{o()},[r]);const o=async()=>{var m,x,g;s(!0);const{data:c}=await qe.from("growth_areas").select(`
        skill_id,
        quarter,
        rating,
        leader_comments
      `).eq("team_member_id",r).eq("is_active",!0).order("quarter"),{data:u}=await qe.from("skill_levels").select(`
        id,
        skill_id,
        level_id,
        maturity_skills (
          id,
          name
        ),
        levels (
          name
        )
      `),d=new Map;if(u)for(const v of u)d.set(v.id,{skill_id:v.skill_id,skill_name:((m=v.maturity_skills)==null?void 0:m.name)||"",level_name:((x=v.levels)==null?void 0:x.name)||""});const{data:p}=await qe.from("category_skills").select(`
        skill_id,
        maturity_categories (
          name
        )
      `),h=new Map;if(p)for(const v of p)h.set(v.skill_id,((g=v.maturity_categories)==null?void 0:g.name)||"");const y=(u==null?void 0:u.map(v=>{var b,_;return{id:v.id,name:((b=v.maturity_skills)==null?void 0:b.name)||"",level_name:((_=v.levels)==null?void 0:_.name)||"",category_name:h.get(v.skill_id)||""}}))||[];if(i(y),e.length===0&&c&&c.length>0){const v=new Map;for(const _ of c){const E=d.get(_.skill_id);if(!E)continue;v.has(_.skill_id)||v.set(_.skill_id,{skill_id:_.skill_id,skill_name:`${E.skill_name} (${E.level_name})`,q1:3,q2:3,q3:3,q4:3,leader_comments:""});const F=v.get(_.skill_id),A=_.quarter.match(/Q(\d)/);if(A){const O=`q${A[1]}`;F[O]=_.rating||3,_.leader_comments&&!F.leader_comments&&(F.leader_comments=_.leader_comments)}}const b=Array.from(v.values());for(;b.length<3;)b.push({skill_name:"",skill_id:"",q1:3,q2:3,q3:3,q4:3,leader_comments:""});t(b)}else e.length===0&&t([{skill_name:"",skill_id:"",q1:3,q2:3,q3:3,q4:3,leader_comments:""},{skill_name:"",skill_id:"",q1:3,q2:3,q3:3,q4:3,leader_comments:""},{skill_name:"",skill_id:"",q1:3,q2:3,q3:3,q4:3,leader_comments:""}]);s(!1)},l=(c,u,d)=>{const p=[...e];if(u==="skill_id"){const h=n.find(y=>y.id===d);h&&(p[c]={...p[c],skill_id:d,skill_name:`${h.name} (${h.level_name})`})}else p[c]={...p[c],[u]:d};t(p)};return a?f.jsx("div",{className:"flex items-center justify-center h-64",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[f.jsx("div",{className:"w-10 h-10 rounded-lg bg-orange-50 flex items-center justify-center",children:f.jsx(Au,{className:"w-6 h-6 text-orange-600"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"Growth Areas"}),f.jsx("p",{className:"text-sm text-slate-600",children:"Track quarterly progress on key development areas"})]})]}),n.length===0?f.jsxs("div",{className:"border-2 border-dashed border-slate-300 rounded-lg p-8 text-center",children:[f.jsx(ux,{className:"w-12 h-12 text-slate-400 mx-auto mb-3"}),f.jsx("p",{className:"text-slate-500",children:"No skills available. Please ensure the team member has a role assigned with associated skills."})]}):f.jsx("div",{className:"space-y-6",children:e.map((c,u)=>f.jsxs("div",{className:"border border-slate-200 rounded-lg p-6 bg-white",children:[f.jsxs("h4",{className:"text-lg font-semibold text-slate-900 mb-4",children:["Growth Area ",u+1]}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Skill Name"}),f.jsxs("select",{value:c.skill_id,onChange:d=>l(u,"skill_id",d.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[f.jsx("option",{value:"",children:"Select a skill"}),n.map(d=>f.jsxs("option",{value:d.id,children:[d.name," (",d.level_name,") - ",d.category_name]},d.id))]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-3",children:"Quarterly Ranking"}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:["q1","q2","q3","q4"].map(d=>f.jsxs("div",{className:"border border-slate-200 rounded-lg p-4 bg-slate-50",children:[f.jsx("div",{className:"text-xs font-semibold text-slate-600 uppercase mb-3",children:d.toUpperCase()}),f.jsx("div",{className:"flex gap-1 mb-2",children:[1,2,3,4,5].map(p=>f.jsx("button",{type:"button",onClick:()=>l(u,d,p),className:`flex-1 h-10 rounded text-sm font-semibold transition ${c[d]===p?"bg-orange-600 text-white shadow-md":"bg-white text-slate-600 hover:bg-orange-50 border border-slate-300"}`,children:p},p))}),f.jsx("p",{className:"text-xs text-slate-500 min-h-[32px]",children:VR[c[d]]})]},d))})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Leader Comments"}),f.jsx("div",{className:"bg-white rounded-lg border border-slate-300",children:f.jsx(Gs,{theme:"snow",value:c.leader_comments,onChange:d=>l(u,"leader_comments",d),modules:HR,formats:WR,className:"min-h-[120px]"})})]})]})]},u))})]})}const KR={wins:{team_member:"",leader:""},learnings:{team_member:"",leader:""},fail_forward:{team_member:"",leader:""},level_up:{team_member:"",leader:""},steps_taking:{team_member:"",leader:""},next_year_goals:{team_member:"",leader:""},impact_areas:{team_member:"",leader:""}};function mx({teamMemberId:e,existingData:t,onSave:r,onCancel:n}){const{user:i}=Ga(),[a,s]=ye.useState([]),[o,l]=ye.useState(!1),[c,u]=ye.useState(""),[d,p]=ye.useState({team_member_id:e||(t==null?void 0:t.team_member_id)||"",type:(t==null?void 0:t.type)||"quarterly",review_date:(t==null?void 0:t.review_date)||new Date().toISOString().split("T")[0]}),[h,y]=ye.useState({reflection_questions:(t==null?void 0:t.reflection_questions)||KR,peer_feedback:(t==null?void 0:t.peer_feedback)||[],maturity_snapshot:(t==null?void 0:t.maturity_snapshot)||[],growth_areas:(t==null?void 0:t.growth_areas)||[]}),m=E=>{const A=new Date(E).getMonth();return`Q${Math.floor(A/3)+1}`},x=E=>new Date(E).getFullYear(),g=d.review_date?m(d.review_date):"",v=d.review_date?x(d.review_date):null;ye.useEffect(()=>{b()},[]),ye.useEffect(()=>{if(d.team_member_id&&a.length>0){const E=a.find(F=>F.id===d.team_member_id);E&&u(E.full_name)}},[d.team_member_id,a]);const b=async()=>{const{data:E}=await qe.from("team_members").select("*").eq("status","active").order("full_name");if(E&&(s(E),d.team_member_id)){const F=E.find(A=>A.id===d.team_member_id);F&&u(F.full_name)}},_=async E=>{if(E.preventDefault(),!!i){l(!0);try{const F={team_member_id:d.team_member_id,manager_id:i.id,type:d.type,review_date:d.review_date,overall_rating:null,period_start:null,period_end:null};if(d.type==="quarterly"?(F.quarter=g,F.year=v,F.reflection_questions=null,F.peer_feedback=null,F.maturity_snapshot=null,F.growth_areas=null):(F.quarter=null,F.year=v,F.reflection_questions=h.reflection_questions,F.peer_feedback=h.peer_feedback,F.maturity_snapshot=h.maturity_snapshot,F.growth_areas=h.growth_areas),t!=null&&t.id){const{error:A}=await qe.from("performance_reviews").update(F).eq("id",t.id);if(A)throw A}else{const{error:A}=await qe.from("performance_reviews").insert([F]);if(A)throw A}r()}catch(F){console.error("Error saving check-in:",F),alert("Failed to save check-in. Please try again.")}finally{l(!1)}}};return f.jsxs("div",{className:"max-w-7xl mx-auto",children:[f.jsxs("button",{onClick:n,className:"flex items-center gap-2 text-slate-600 hover:text-slate-900 mb-6 transition",children:[f.jsx(DN,{className:"w-5 h-5"}),"Back"]}),f.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 p-8",children:[f.jsxs("h2",{className:"text-2xl font-bold text-slate-900 mb-6",children:[t!=null&&t.id?"Edit":"New"," Check-in"]}),f.jsxs("form",{onSubmit:_,className:"space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Team Member"}),f.jsxs("select",{required:!0,disabled:!!e,value:d.team_member_id,onChange:E=>p({...d,team_member_id:E.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-slate-100",children:[f.jsx("option",{value:"",children:"Select team member"}),a.map(E=>f.jsx("option",{value:E.id,children:E.full_name},E.id))]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Type"}),f.jsxs("select",{value:d.type,onChange:E=>p({...d,type:E.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[f.jsx("option",{value:"quarterly",children:"Quarterly"}),f.jsx("option",{value:"annual",children:"Annual"})]})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Review Date"}),f.jsx("input",{type:"date",required:!0,value:d.review_date,onChange:E=>p({...d,review_date:E.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),d.type==="quarterly"&&g&&f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Quarter"}),f.jsxs("div",{className:"w-full px-4 py-2 border border-slate-200 rounded-lg bg-slate-50 text-slate-700",children:[g," ",v]})]})]}),d.type==="annual"&&d.team_member_id&&f.jsxs("div",{className:"space-y-8 pt-8 mt-8 border-t-2 border-slate-200",children:[f.jsx(BR,{data:h.reflection_questions,onChange:E=>y({...h,reflection_questions:E})}),f.jsx("div",{className:"pt-8 mt-8 border-t border-slate-200",children:f.jsx(UR,{data:h.peer_feedback,onChange:E=>y({...h,peer_feedback:E}),teamMemberName:c})}),f.jsx("div",{className:"pt-8 mt-8 border-t border-slate-200",children:f.jsx(zR,{data:h.maturity_snapshot,onChange:E=>y({...h,maturity_snapshot:E}),teamMemberId:d.team_member_id})}),f.jsx("div",{className:"pt-8 mt-8 border-t border-slate-200",children:f.jsx(GR,{data:h.growth_areas,onChange:E=>y({...h,growth_areas:E}),teamMemberId:d.team_member_id})})]}),f.jsxs("div",{className:"flex gap-3 pt-4",children:[f.jsx("button",{type:"button",onClick:n,disabled:o,className:"flex-1 px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition disabled:opacity-50",children:"Cancel"}),f.jsxs("button",{type:"submit",disabled:o,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition disabled:opacity-50",children:[o?"Saving...":t!=null&&t.id?"Update":"Create"," Check-in"]})]})]})]})]})}function YR({isOpen:e,onClose:t,memberId:r,memberName:n,type:i,existingDate:a,onSchedule:s}){const[o,l]=ye.useState(""),[c,u]=ye.useState(!1);ye.useEffect(()=>{e&&l(a||"")},[e,a]);const d=async h=>{if(h.preventDefault(),!!o){u(!0);try{await s(o),l(""),t()}catch(y){console.error("Error scheduling:",y)}finally{u(!1)}}};if(!e)return null;const p=i==="oneOnOne"?"1:1":i==="quarterly"?"Quarterly Check-in":"Annual Check-in";return f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:f.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full mx-4",children:[f.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200",children:[f.jsxs("h3",{className:"text-lg font-semibold text-slate-900",children:["Schedule ",p]}),f.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-600 transition",children:f.jsx(nn,{className:"w-5 h-5"})})]}),f.jsxs("form",{onSubmit:d,className:"p-6",children:[f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Team Member"}),f.jsx("div",{className:"text-slate-900",children:n})]}),f.jsxs("div",{className:"mb-6",children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Date"}),f.jsx("input",{type:"date",value:o,onChange:h=>l(h.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition",children:"Cancel"}),f.jsx("button",{type:"submit",disabled:c,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition disabled:opacity-50",children:c?"Scheduling...":"Schedule"})]})]})]})})}function XR(){var ie;const{user:e}=Ga(),[t,r]=ye.useState([]),[n,i]=ye.useState(!0),[a,s]=ye.useState(!1),[o,l]=ye.useState(null),[c,u]=ye.useState(null),[d,p]=ye.useState(!1),[h,y]=ye.useState(null),[m,x]=ye.useState("quarterly"),[g,v]=ye.useState({isOpen:!1,memberId:"",memberName:"",type:"oneOnOne",existingDate:null});ye.useEffect(()=>{e&&b()},[e]);const b=async()=>{i(!0);const{data:K,error:W}=await qe.from("team_members").select("*").eq("status","active").order("full_name");if(W){console.error("Error fetching members:",W),i(!1);return}const{data:q,error:k}=await qe.from("one_on_ones").select("*").order("meeting_date",{ascending:!1});k&&console.error("Error fetching one on ones:",k);const{data:I,error:M}=await qe.from("performance_reviews").select("*").order("review_date",{ascending:!1});M&&console.error("Error fetching reviews:",M);const U=new Date,R=U.getFullYear(),G=Math.floor(U.getMonth()/3)+1,te=(K||[]).map(V=>{const oe=(q||[]).filter(De=>De.team_member_id===V.id)[0],Ne=(I||[]).filter(De=>De.team_member_id===V.id&&De.type==="quarterly")[0],X=(I||[]).filter(De=>De.team_member_id===V.id&&De.type==="annual")[0],Ee=F(V.start_date,R),Oe=_(oe==null?void 0:oe.meeting_date),be=E(Ne==null?void 0:Ne.review_date,Ne==null?void 0:Ne.quarter,Ne==null?void 0:Ne.year,G,R),xe=A(X==null?void 0:X.review_date,Ee);return{memberId:V.id,memberName:V.full_name,startDate:V.start_date,oneOnOneStatus:Oe,oneOnOneLastDate:(oe==null?void 0:oe.meeting_date)||null,quarterlyStatus:be,quarterlyLastDate:(Ne==null?void 0:Ne.review_date)||null,annualStatus:xe,annualLastDate:(X==null?void 0:X.review_date)||null,annualExpectedDate:Ee}});r(te),i(!1)},_=K=>{if(!K)return"overdue";const W=new Date(K),q=new Date,k=Math.floor((W.getTime()-q.getTime())/(1e3*60*60*24));if(k>=0)return k<=2?"due-soon":"current";const I=new Date(W);I.setDate(I.getDate()+21);const M=Math.floor((I.getTime()-q.getTime())/(1e3*60*60*24));return M<0?"overdue":M<=2?"due-soon":"current"},E=(K,W,q,k,I)=>{const M=new Date,R=((V,Y)=>{const oe=V*3-1,ve=new Date(Y,oe+1,0).getDate();return new Date(Y,oe,ve)})(k,I),G=Math.floor((R.getTime()-M.getTime())/(1e3*60*60*24));if(!K||!W||!q)return G<0?"overdue":G<=14?"due-soon":"overdue";const te=parseInt(W.replace("Q",""));return q<I-1||q===I-1&&k>1||q===I&&te<k-1?"overdue":q===I&&te===k-1?G<=14?"due-soon":"overdue":q===I&&te===k&&G<=14?"due-soon":"current"},F=(K,W)=>{if(!K)return null;const q=new Date(K),k=q.getMonth(),I=q.getDate();return new Date(W,k,I).toISOString().split("T")[0]},A=(K,W,q)=>{if(!W)return"overdue";const k=new Date(W),I=new Date,M=Math.floor((k.getTime()-I.getTime())/(1e3*60*60*24));return K&&new Date(K)>=k?"current":M<0?"overdue":M<=30?"due-soon":"current"},O=K=>{switch(K){case"overdue":return"bg-red-500";case"due-soon":return"bg-yellow-500";case"current":return"bg-green-500"}},C=K=>{switch(K){case"overdue":return f.jsx(ux,{className:"w-4 h-4"});case"due-soon":return f.jsx(BO,{className:"w-4 h-4"});case"current":return f.jsx(IO,{className:"w-4 h-4"})}},L=async K=>{const{memberId:W,type:q}=g,k=new Date(K),I=`Q${Math.floor(k.getMonth()/3)+1}`,M=k.getFullYear(),{error:U}=await qe.from("performance_reviews").insert({team_member_id:W,manager_id:e.id,review_date:K,type:q==="quarterly"?"quarterly":"annual",quarter:q==="quarterly"?I:null,year:q==="quarterly"?M:null,period_start:null,period_end:null});if(U)throw console.error("Error creating check-in:",U),U;await b()},N=K=>{const[W,q,k]=K.split("T")[0].split("-").map(Number),I=new Date(W,q-1,k),M=I.toLocaleDateString("en-US",{weekday:"long"}),U=I.toLocaleDateString("en-US",{month:"short"});return`${M}, ${U}. ${k}`},j=async(K,W,q,k,I=null)=>{if(q==="oneOnOne"){const{data:M}=await qe.from("one_on_ones").select("*").eq("team_member_id",K).order("meeting_date",{ascending:!1}).limit(1),U=(M==null?void 0:M[0])||null;u(!U&&k?{meeting_date:k}:U),l(K),s(!0)}else{const{data:M}=await qe.from("performance_reviews").select("*").eq("team_member_id",K).eq("type",q).order("review_date",{ascending:!1}).limit(1),U=(M==null?void 0:M[0])||null;if(!U&&(k||I)){const R=I||k,G=new Date(R),te=`Q${Math.floor(G.getMonth()/3)+1}`,V=G.getFullYear();y({review_date:R,quarter:q==="quarterly"?te:null,year:q==="quarterly"?V:null})}else y(U);l(K),x(q),p(!0)}},T=()=>{v({isOpen:!1,memberId:"",memberName:"",type:"oneOnOne",existingDate:null})},B=()=>{s(!1),l(null),u(null)},z=()=>{s(!1),l(null),u(null),b()},Q=()=>{p(!1),l(null),y(null)},ne=()=>{p(!1),l(null),y(null),b()};if(n)return f.jsx("div",{className:"flex items-center justify-center h-64",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});if(a&&o)return f.jsx(iS,{teamMemberId:o,existingData:c,onSave:z,onCancel:B});if(d&&o){const K=((ie=t.find(W=>W.memberId===o))==null?void 0:ie.memberName)||"";return f.jsx(mx,{teamMemberId:o,memberName:K,type:m,existingData:h,onSave:ne,onCancel:Q})}return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:[f.jsx("div",{className:"px-6 py-4 border-b border-slate-200 bg-gradient-to-r from-blue-50 to-slate-50",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(_p,{className:"w-6 h-6 text-blue-600"}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Cadence Compliance Tracker"}),f.jsx("p",{className:"text-sm text-slate-600",children:"Monitor and schedule team check-ins"})]})]})}),f.jsxs("div",{className:"overflow-x-auto",children:[f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-600 uppercase tracking-wider",children:"Team Member"}),f.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-slate-600 uppercase tracking-wider",children:"1:1"}),f.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-slate-600 uppercase tracking-wider",children:"Quarterly"}),f.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-slate-600 uppercase tracking-wider",children:"Annual"})]})}),f.jsx("tbody",{className:"divide-y divide-slate-200",children:t.map(K=>f.jsxs("tr",{className:"hover:bg-slate-50 transition",children:[f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsx("div",{className:"text-sm font-medium text-slate-900",children:K.memberName})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsxs("button",{onClick:()=>j(K.memberId,K.memberName,"oneOnOne",K.oneOnOneLastDate),className:"flex flex-col items-center gap-2 mx-auto group",children:[f.jsx("div",{className:`w-8 h-8 rounded-full ${O(K.oneOnOneStatus)} flex items-center justify-center text-white shadow-md group-hover:scale-110 transition`,children:C(K.oneOnOneStatus)}),K.oneOnOneLastDate&&f.jsx("span",{className:"text-xs text-slate-500 text-center",children:N(K.oneOnOneLastDate)})]})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsxs("button",{onClick:()=>j(K.memberId,K.memberName,"quarterly",K.quarterlyLastDate),className:"flex flex-col items-center gap-2 mx-auto group",children:[f.jsx("div",{className:`w-8 h-8 rounded-full ${O(K.quarterlyStatus)} flex items-center justify-center text-white shadow-md group-hover:scale-110 transition`,children:C(K.quarterlyStatus)}),K.quarterlyLastDate&&f.jsx("span",{className:"text-xs text-slate-500 text-center",children:N(K.quarterlyLastDate)})]})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsxs("button",{onClick:()=>j(K.memberId,K.memberName,"annual",K.annualLastDate,K.annualExpectedDate),className:"flex flex-col items-center gap-2 mx-auto group",children:[f.jsx("div",{className:`w-8 h-8 rounded-full ${O(K.annualStatus)} flex items-center justify-center text-white shadow-md group-hover:scale-110 transition`,children:C(K.annualStatus)}),(K.annualLastDate||K.annualExpectedDate)&&f.jsx("span",{className:"text-xs text-slate-500 text-center",children:N(K.annualLastDate||K.annualExpectedDate)})]})})]},K.memberId))})]}),t.length===0&&f.jsxs("div",{className:"text-center py-12",children:[f.jsx(_p,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),f.jsx("h3",{className:"text-lg font-medium text-slate-900 mb-2",children:"No team members"}),f.jsx("p",{className:"text-slate-600",children:"Add team members to track their check-in cadence"})]})]}),f.jsx("div",{className:"px-6 py-4 border-t border-slate-200 bg-slate-50",children:f.jsxs("div",{className:"flex items-center gap-6 text-sm",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-4 h-4 rounded-full bg-green-500"}),f.jsx("span",{className:"text-slate-600",children:"Current"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-4 h-4 rounded-full bg-yellow-500"}),f.jsx("span",{className:"text-slate-600",children:"Due Soon"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-4 h-4 rounded-full bg-red-500"}),f.jsx("span",{className:"text-slate-600",children:"Overdue"})]})]})})]}),f.jsx(YR,{isOpen:g.isOpen,onClose:T,memberId:g.memberId,memberName:g.memberName,type:g.type,existingDate:g.existingDate,onSchedule:L})]})}function Zm({onSelectMember:e,onNavigate:t}){const{user:r}=Ga(),[n,i]=ye.useState([]),[a,s]=ye.useState(!0),[o,l]=ye.useState(!1);ye.useEffect(()=>{r&&c()},[r]);const c=async()=>{s(!0);const{data:u,error:d}=await qe.from("team_members").select("*").eq("status","active").order("full_name");if(d){console.error("Error fetching members:",d),s(!1);return}i(u||[]),s(!1)};return o?f.jsx(mx,{onSave:()=>l(!1),onCancel:()=>l(!1)}):f.jsxs("div",{className:"max-w-7xl mx-auto",children:[f.jsxs("div",{className:"mb-8",children:[f.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Team Dashboard"}),f.jsx("p",{className:"text-slate-600 mt-1",children:"Overview of your team compliance"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-8",children:[f.jsx("button",{onClick:()=>t==null?void 0:t("one-on-ones"),className:"bg-white rounded-xl shadow-sm border-2 border-slate-200 p-6 hover:shadow-md hover:border-blue-400 transition group text-left",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"w-12 h-12 rounded-lg bg-blue-50 flex items-center justify-center group-hover:bg-blue-100 transition",children:f.jsx(Lh,{className:"w-6 h-6 text-blue-600"})}),f.jsxs("div",{className:"flex-1",children:[f.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-1",children:"New 1:1"}),f.jsx("p",{className:"text-sm text-slate-600",children:"Schedule or record a one-on-one meeting"})]}),f.jsx(Er,{className:"w-6 h-6 text-slate-400 group-hover:text-blue-600 transition"})]})}),f.jsx("button",{onClick:()=>l(!0),className:"bg-white rounded-xl shadow-sm border-2 border-slate-200 p-6 hover:shadow-md hover:border-green-400 transition group text-left",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"w-12 h-12 rounded-lg bg-green-50 flex items-center justify-center group-hover:bg-green-100 transition",children:f.jsx(MO,{className:"w-6 h-6 text-green-600"})}),f.jsxs("div",{className:"flex-1",children:[f.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-1",children:"New Check-in"}),f.jsx("p",{className:"text-sm text-slate-600",children:"Create a weekly check-in entry"})]}),f.jsx(Er,{className:"w-6 h-6 text-slate-400 group-hover:text-green-600 transition"})]})})]}),f.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden mb-8",children:[f.jsx("div",{className:"px-6 py-4 border-b border-slate-200 bg-gradient-to-r from-blue-50 to-slate-50",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx($N,{className:"w-6 h-6 text-blue-600"}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"My Team"}),f.jsx("p",{className:"text-sm text-slate-600",children:"View your team members and their development"})]})]})}),a?f.jsx("div",{className:"flex items-center justify-center h-64",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 p-6",children:n.map(u=>f.jsx("div",{onClick:()=>e(u.id),className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 hover:shadow-md hover:border-blue-300 transition cursor-pointer group",children:f.jsxs("div",{className:"flex flex-col items-center text-center",children:[f.jsx("div",{className:"w-20 h-20 rounded-full overflow-hidden bg-slate-100 flex items-center justify-center flex-shrink-0 mb-4 group-hover:ring-4 group-hover:ring-blue-50 transition",children:u.photo_url?f.jsx("img",{src:u.photo_url,alt:u.full_name,className:"w-full h-full object-cover"}):f.jsx(Zo,{className:"w-12 h-12 text-slate-400"})}),f.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-1",children:u.full_name}),f.jsx("p",{className:"text-sm text-slate-600",children:u.role})]})},u.id))}),n.length===0&&f.jsxs("div",{className:"text-center py-12",children:[f.jsx(Zo,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),f.jsx("h3",{className:"text-lg font-medium text-slate-900 mb-2",children:"No team members yet"}),f.jsx("p",{className:"text-slate-600",children:"Add team members from the Admin section to get started"})]})]})]}),f.jsx(XR,{})]})}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Ep={};Ep.version="0.18.5";var aS=1252,ZR=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],sS=function(e){ZR.indexOf(e)!=-1&&(aS=e)};function JR(){sS(1252)}var Ph=function(e){sS(e)};function QR(){Ph(1200),JR()}var c0=function(t){return String.fromCharCode(t)},Ub=function(t){return String.fromCharCode(t)},Fl,Mo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Fh(e){for(var t="",r=0,n=0,i=0,a=0,s=0,o=0,l=0,c=0;c<e.length;)r=e.charCodeAt(c++),a=r>>2,n=e.charCodeAt(c++),s=(r&3)<<4|n>>4,i=e.charCodeAt(c++),o=(n&15)<<2|i>>6,l=i&63,isNaN(n)?o=l=64:isNaN(i)&&(l=64),t+=Mo.charAt(a)+Mo.charAt(s)+Mo.charAt(o)+Mo.charAt(l);return t}function to(e){var t="",r=0,n=0,i=0,a=0,s=0,o=0,l=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<e.length;)a=Mo.indexOf(e.charAt(c++)),s=Mo.indexOf(e.charAt(c++)),r=a<<2|s>>4,t+=String.fromCharCode(r),o=Mo.indexOf(e.charAt(c++)),n=(s&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(n)),l=Mo.indexOf(e.charAt(c++)),i=(o&3)<<6|l,l!==64&&(t+=String.fromCharCode(i));return t}var ar=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),ao=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Jl(e){return ar?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function qb(e){return ar?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Ba=function(t){return ar?ao(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function N1(e){if(typeof ArrayBuffer>"u")return Ba(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function td(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function e9(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var $n=ar?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:ao(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),i=0;for(t=0,r=0;t<e.length;r+=i,++t)if(i=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function t9(e){for(var t=[],r=0,n=e.length+250,i=Jl(e.length+255),a=0;a<e.length;++a){var s=e.charCodeAt(a);if(s<128)i[r++]=s;else if(s<2048)i[r++]=192|s>>6&31,i[r++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var o=e.charCodeAt(++a)&1023;i[r++]=240|s>>8&7,i[r++]=128|s>>2&63,i[r++]=128|o>>6&15|(s&3)<<4,i[r++]=128|o&63}else i[r++]=224|s>>12&15,i[r++]=128|s>>6&63,i[r++]=128|s&63;r>n&&(t.push(i.slice(0,r)),r=0,i=Jl(65535),n=65530)}return t.push(i.slice(0,r)),$n(t)}var nh=/\u0000/g,u0=/[\u0001-\u0006]/g;function lu(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function Ua(e,t){var r=""+e;return r.length>=t?r:Vr("0",t-r.length)+r}function gx(e,t){var r=""+e;return r.length>=t?r:Vr(" ",t-r.length)+r}function Ap(e,t){var r=""+e;return r.length>=t?r:r+Vr(" ",t-r.length)}function r9(e,t){var r=""+Math.round(e);return r.length>=t?r:Vr("0",t-r.length)+r}function n9(e,t){var r=""+e;return r.length>=t?r:Vr("0",t-r.length)+r}var $b=Math.pow(2,32);function Oc(e,t){if(e>$b||e<-$b)return r9(e,t);var r=Math.round(e);return n9(r,t)}function Tp(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var zb=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Jm=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function i9(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Gr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},Hb={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},a9={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function jp(e,t,r){for(var n=e<0?-1:1,i=e*n,a=0,s=1,o=0,l=1,c=0,u=0,d=Math.floor(i);c<t&&(d=Math.floor(i),o=d*s+a,u=d*c+l,!(i-d<5e-8));)i=1/(i-d),a=s,s=o,l=c,c=u;if(u>t&&(c>t?(u=l,o=a):(u=c,o=s)),!r)return[0,n*o,u];var p=Math.floor(n*o/u);return[p,n*o-p*u,u]}function f0(e,t,r){if(e>2958465||e<0)return null;var n=e|0,i=Math.floor(86400*(e-n)),a=0,s=[],o={D:n,T:i,u:86400*(e-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++i==86400&&(o.T=i=0,++n,++o.D)),n===60)s=r?[1317,10,29]:[1900,2,29],a=3;else if(n===0)s=r?[1317,8,29]:[1900,1,0],a=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),s=[l.getFullYear(),l.getMonth()+1,l.getDate()],a=l.getDay(),n<60&&(a=(a+6)%7),r&&(a=h9(l,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=i%60,i=Math.floor(i/60),o.M=i%60,i=Math.floor(i/60),o.H=i,o.q=a,o}var oS=new Date(1899,11,31,0,0,0),s9=oS.getTime(),o9=new Date(1900,2,1,0,0,0);function lS(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=o9&&(r+=24*60*60*1e3),(r-(s9+(e.getTimezoneOffset()-oS.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function vx(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function l9(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function c9(e){var t=e<0?12:11,r=vx(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function u9(e){var t=vx(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function f9(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=c9(e):t===10?r=e.toFixed(10).substr(0,12):r=u9(e),vx(l9(r.toUpperCase()))}function zv(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):f9(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return nl(14,lS(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function h9(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function d9(e,t,r,n){var i="",a=0,s=0,o=r.y,l,c=0;switch(e){case 98:o=r.y+543;case 121:switch(t.length){case 1:case 2:l=o%100,c=2;break;default:l=o%1e4,c=4;break}break;case 109:switch(t.length){case 1:case 2:l=r.m,c=t.length;break;case 3:return Jm[r.m-1][1];case 5:return Jm[r.m-1][0];default:return Jm[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:l=r.d,c=t.length;break;case 3:return zb[r.q][0];default:return zb[r.q][1]}break;case 104:switch(t.length){case 1:case 2:l=1+(r.H+11)%12,c=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:l=r.H,c=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:l=r.M,c=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?Ua(r.S,t.length):(n>=2?s=n===3?1e3:100:s=n===1?10:1,a=Math.round(s*(r.S+r.u)),a>=60*s&&(a=0),t==="s"?a===0?"0":""+a/s:(i=Ua(a,2+n),t==="ss"?i.substr(0,2):"."+i.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":l=r.D*24+r.H;break;case"[m]":case"[mm]":l=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":l=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}c=t.length===3?1:2;break;case 101:l=o,c=1;break}var u=c>0?Ua(l,c):"";return u}function Bo(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var cS=/%/g;function p9(e,t,r){var n=t.replace(cS,""),i=t.length-n.length;return Ks(e,n,r*Math.pow(10,2*i))+Vr("%",i)}function m9(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Ks(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function uS(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+uS(e,-t);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%i;if(a<0&&(a+=i),r=(t/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),r.indexOf("e")===-1){var s=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+a):r+="E+"+(s-a);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,i)+"."+r.substr(2+i),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(i+a)%i)+"."+u.substr(a)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var fS=/# (\?+)( ?)\/( ?)(\d+)/;function g9(e,t,r){var n=parseInt(e[4],10),i=Math.round(t*n),a=Math.floor(i/n),s=i-a*n,o=n;return r+(a===0?"":""+a)+" "+(s===0?Vr(" ",e[1].length+1+e[4].length):gx(s,e[1].length)+e[2]+"/"+e[3]+Ua(o,e[4].length))}function v9(e,t,r){return r+(t===0?"":""+t)+Vr(" ",e[1].length+2+e[4].length)}var hS=/^#*0*\.([0#]+)/,dS=/\).*[0#]/,pS=/\(###\) ###\\?-####/;function di(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function Wb(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function Vb(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function x9(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function y9(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function ua(e,t,r){if(e.charCodeAt(0)===40&&!t.match(dS)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?ua("n",n,r):"("+ua("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return m9(e,t,r);if(t.indexOf("%")!==-1)return p9(e,t,r);if(t.indexOf("E")!==-1)return uS(t,r);if(t.charCodeAt(0)===36)return"$"+ua(e,t.substr(t.charAt(1)==" "?2:1),r);var i,a,s,o,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+Oc(l,t.length);if(t.match(/^[#?]+$/))return i=Oc(r,0),i==="0"&&(i=""),i.length>t.length?i:di(t.substr(0,t.length-i.length))+i;if(a=t.match(fS))return g9(a,l,c);if(t.match(/^#+0+$/))return c+Oc(l,t.length-t.indexOf("0"));if(a=t.match(hS))return i=Wb(r,a[1].length).replace(/^([^\.]+)$/,"$1."+di(a[1])).replace(/\.$/,"."+di(a[1])).replace(/\.(\d*)$/,function(y,m){return"."+m+Vr("0",di(a[1]).length-m.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return c+Wb(l,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return c+Bo(Oc(l,0));if(a=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+ua(e,t,-r):Bo(""+(Math.floor(r)+x9(r,a[1].length)))+"."+Ua(Vb(r,a[1].length),a[1].length);if(a=t.match(/^#,#*,#0/))return ua(e,t.replace(/^#,#*,/,""),r);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=lu(ua(e,t.replace(/[\\-]/g,""),r)),s=0,lu(lu(t.replace(/\\/g,"")).replace(/[0#]/g,function(y){return s<i.length?i.charAt(s++):y==="0"?"0":""}));if(t.match(pS))return i=ua(e,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),o=jp(l,Math.pow(10,s)-1,!1),i=""+c,u=Ks("n",a[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),i+=u+a[2]+"/"+a[3],u=Ap(o[2],s),u.length<a[4].length&&(u=di(a[4].substr(a[4].length-u.length))+u),i+=u,i;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),o=jp(l,Math.pow(10,s)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?gx(o[1],s)+a[2]+"/"+a[3]+Ap(o[2],s):Vr(" ",2*s+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return i=Oc(r,0),t.length<=i.length?i:di(t.substr(0,t.length-i.length))+i;if(a=t.match(/^([#0?]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var d=t.indexOf(".")-s,p=t.length-i.length-d;return di(t.substr(0,d)+i+t.substr(t.length-p))}if(a=t.match(/^00,000\.([#0]*0)$/))return s=Vb(r,a[1].length),r<0?"-"+ua(e,t,-r):Bo(y9(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?Ua(0,3-y.length):"")+y})+"."+Ua(s,a[1].length);switch(t){case"###,##0.00":return ua(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var h=Bo(Oc(l,0));return h!=="0"?c+h:"";case"###,###.00":return ua(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return ua(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function _9(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Ks(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function b9(e,t,r){var n=t.replace(cS,""),i=t.length-n.length;return Ks(e,n,r*Math.pow(10,2*i))+Vr("%",i)}function mS(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+mS(e,-t);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%i;if(a<0&&(a+=i),r=(t/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),!r.match(/[Ee]/)){var s=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+a):r+="E+"+(s-a),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(i+a)%i)+"."+u.substr(a)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function ss(e,t,r){if(e.charCodeAt(0)===40&&!t.match(dS)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?ss("n",n,r):"("+ss("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return _9(e,t,r);if(t.indexOf("%")!==-1)return b9(e,t,r);if(t.indexOf("E")!==-1)return mS(t,r);if(t.charCodeAt(0)===36)return"$"+ss(e,t.substr(t.charAt(1)==" "?2:1),r);var i,a,s,o,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+Ua(l,t.length);if(t.match(/^[#?]+$/))return i=""+r,r===0&&(i=""),i.length>t.length?i:di(t.substr(0,t.length-i.length))+i;if(a=t.match(fS))return v9(a,l,c);if(t.match(/^#+0+$/))return c+Ua(l,t.length-t.indexOf("0"));if(a=t.match(hS))return i=(""+r).replace(/^([^\.]+)$/,"$1."+di(a[1])).replace(/\.$/,"."+di(a[1])),i=i.replace(/\.(\d*)$/,function(y,m){return"."+m+Vr("0",di(a[1]).length-m.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return c+Bo(""+l);if(a=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+ss(e,t,-r):Bo(""+r)+"."+Vr("0",a[1].length);if(a=t.match(/^#,#*,#0/))return ss(e,t.replace(/^#,#*,/,""),r);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=lu(ss(e,t.replace(/[\\-]/g,""),r)),s=0,lu(lu(t.replace(/\\/g,"")).replace(/[0#]/g,function(y){return s<i.length?i.charAt(s++):y==="0"?"0":""}));if(t.match(pS))return i=ss(e,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),o=jp(l,Math.pow(10,s)-1,!1),i=""+c,u=Ks("n",a[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),i+=u+a[2]+"/"+a[3],u=Ap(o[2],s),u.length<a[4].length&&(u=di(a[4].substr(a[4].length-u.length))+u),i+=u,i;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),o=jp(l,Math.pow(10,s)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?gx(o[1],s)+a[2]+"/"+a[3]+Ap(o[2],s):Vr(" ",2*s+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return i=""+r,t.length<=i.length?i:di(t.substr(0,t.length-i.length))+i;if(a=t.match(/^([#0]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var d=t.indexOf(".")-s,p=t.length-i.length-d;return di(t.substr(0,d)+i+t.substr(t.length-p))}if(a=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+ss(e,t,-r):Bo(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?Ua(0,3-y.length):"")+y})+"."+Ua(0,a[1].length);switch(t){case"###,###":case"##,###":case"#,###":var h=Bo(""+l);return h!=="0"?c+h:"";default:if(t.match(/\.[0#?]*$/))return ss(e,t.slice(0,t.lastIndexOf(".")),r)+di(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Ks(e,t,r){return(r|0)===r?ss(e,t,r):ua(e,t,r)}function w9(e){for(var t=[],r=!1,n=0,i=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(i,n-i),i=n+1}if(t[t.length]=e.substr(i),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var gS=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function vS(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":Tp(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(gS))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function N9(e,t,r,n){for(var i=[],a="",s=0,o="",l="t",c,u,d,p="H";s<e.length;)switch(o=e.charAt(s)){case"G":if(!Tp(e,s))throw new Error("unrecognized character "+o+" in "+e);i[i.length]={t:"G",v:"General"},s+=7;break;case'"':for(a="";(d=e.charCodeAt(++s))!==34&&s<e.length;)a+=String.fromCharCode(d);i[i.length]={t:"t",v:a},++s;break;case"\\":var h=e.charAt(++s),y=h==="("||h===")"?h:"t";i[i.length]={t:y,v:h},++s;break;case"_":i[i.length]={t:"t",v:" "},s+=2;break;case"@":i[i.length]={t:"T",v:t},++s;break;case"B":case"b":if(e.charAt(s+1)==="1"||e.charAt(s+1)==="2"){if(c==null&&(c=f0(t,r,e.charAt(s+1)==="2"),c==null))return"";i[i.length]={t:"X",v:e.substr(s,2)},l=o,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||c==null&&(c=f0(t,r),c==null))return"";for(a=o;++s<e.length&&e.charAt(s).toLowerCase()===o;)a+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=p),i[i.length]={t:o,v:a},l=o;break;case"A":case"a":case"":var m={t:o,v:o};if(c==null&&(c=f0(t,r)),e.substr(s,3).toUpperCase()==="A/P"?(c!=null&&(m.v=c.H>=12?"P":"A"),m.t="T",p="h",s+=3):e.substr(s,5).toUpperCase()==="AM/PM"?(c!=null&&(m.v=c.H>=12?"PM":"AM"),m.t="T",s+=5,p="h"):e.substr(s,5).toUpperCase()==="/"?(c!=null&&(m.v=c.H>=12?"":""),m.t="T",s+=5,p="h"):(m.t="t",++s),c==null&&m.t==="T")return"";i[i.length]=m,l=o;break;case"[":for(a=o;e.charAt(s++)!=="]"&&s<e.length;)a+=e.charAt(s);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(gS)){if(c==null&&(c=f0(t,r),c==null))return"";i[i.length]={t:"Z",v:a.toLowerCase()},l=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",vS(e)||(i[i.length]={t:"t",v:a}));break;case".":if(c!=null){for(a=o;++s<e.length&&(o=e.charAt(s))==="0";)a+=o;i[i.length]={t:"s",v:a};break}case"0":case"#":for(a=o;++s<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(s))>-1;)a+=o;i[i.length]={t:"n",v:a};break;case"?":for(a=o;e.charAt(++s)===o;)a+=o;i[i.length]={t:o,v:a},l=o;break;case"*":++s,(e.charAt(s)==" "||e.charAt(s)=="*")&&++s;break;case"(":case")":i[i.length]={t:n===1?"t":o,v:o},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=o;s<e.length&&"0123456789".indexOf(e.charAt(++s))>-1;)a+=e.charAt(s);i[i.length]={t:"D",v:a};break;case" ":i[i.length]={t:o,v:o},++s;break;case"$":i[i.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);i[i.length]={t:"t",v:o},++s;break}var x=0,g=0,v;for(s=i.length-1,l="t";s>=0;--s)switch(i[s].t){case"h":case"H":i[s].t=p,l="h",x<1&&(x=1);break;case"s":(v=i[s].v.match(/\.0+$/))&&(g=Math.max(g,v[0].length-1)),x<3&&(x=3);case"d":case"y":case"M":case"e":l=i[s].t;break;case"m":l==="s"&&(i[s].t="M",x<2&&(x=2));break;case"X":break;case"Z":x<1&&i[s].v.match(/[Hh]/)&&(x=1),x<2&&i[s].v.match(/[Mm]/)&&(x=2),x<3&&i[s].v.match(/[Ss]/)&&(x=3)}switch(x){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var b="",_;for(s=0;s<i.length;++s)switch(i[s].t){case"t":case"T":case" ":case"D":break;case"X":i[s].v="",i[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[s].v=d9(i[s].t.charCodeAt(0),i[s].v,c,g),i[s].t="t";break;case"n":case"?":for(_=s+1;i[_]!=null&&((o=i[_].t)==="?"||o==="D"||(o===" "||o==="t")&&i[_+1]!=null&&(i[_+1].t==="?"||i[_+1].t==="t"&&i[_+1].v==="/")||i[s].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(i[_].v==="/"||i[_].v===" "&&i[_+1]!=null&&i[_+1].t=="?"));)i[s].v+=i[_].v,i[_]={v:"",t:";"},++_;b+=i[s].v,s=_-1;break;case"G":i[s].t="t",i[s].v=zv(t,r);break}var E="",F,A;if(b.length>0){b.charCodeAt(0)==40?(F=t<0&&b.charCodeAt(0)===45?-t:t,A=Ks("n",b,F)):(F=t<0&&n>1?-t:t,A=Ks("n",b,F),F<0&&i[0]&&i[0].t=="t"&&(A=A.substr(1),i[0].v="-"+i[0].v)),_=A.length-1;var O=i.length;for(s=0;s<i.length;++s)if(i[s]!=null&&i[s].t!="t"&&i[s].v.indexOf(".")>-1){O=s;break}var C=i.length;if(O===i.length&&A.indexOf("E")===-1){for(s=i.length-1;s>=0;--s)i[s]==null||"n?".indexOf(i[s].t)===-1||(_>=i[s].v.length-1?(_-=i[s].v.length,i[s].v=A.substr(_+1,i[s].v.length)):_<0?i[s].v="":(i[s].v=A.substr(0,_+1),_=-1),i[s].t="t",C=s);_>=0&&C<i.length&&(i[C].v=A.substr(0,_+1)+i[C].v)}else if(O!==i.length&&A.indexOf("E")===-1){for(_=A.indexOf(".")-1,s=O;s>=0;--s)if(!(i[s]==null||"n?".indexOf(i[s].t)===-1)){for(u=i[s].v.indexOf(".")>-1&&s===O?i[s].v.indexOf(".")-1:i[s].v.length-1,E=i[s].v.substr(u+1);u>=0;--u)_>=0&&(i[s].v.charAt(u)==="0"||i[s].v.charAt(u)==="#")&&(E=A.charAt(_--)+E);i[s].v=E,i[s].t="t",C=s}for(_>=0&&C<i.length&&(i[C].v=A.substr(0,_+1)+i[C].v),_=A.indexOf(".")+1,s=O;s<i.length;++s)if(!(i[s]==null||"n?(".indexOf(i[s].t)===-1&&s!==O)){for(u=i[s].v.indexOf(".")>-1&&s===O?i[s].v.indexOf(".")+1:0,E=i[s].v.substr(0,u);u<i[s].v.length;++u)_<A.length&&(E+=A.charAt(_++));i[s].v=E,i[s].t="t",C=s}}}for(s=0;s<i.length;++s)i[s]!=null&&"n?".indexOf(i[s].t)>-1&&(F=n>1&&t<0&&s>0&&i[s-1].v==="-"?-t:t,i[s].v=Ks(i[s].t,i[s].v,F),i[s].t="t");var L="";for(s=0;s!==i.length;++s)i[s]!=null&&(L+=i[s].v);return L}var Gb=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function Kb(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function S9(e,t){var r=w9(e),n=r.length,i=r[n-1].indexOf("@");if(n<4&&i>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||i>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=i>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=i>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=i>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var a=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,a];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var s=r[0].match(Gb),o=r[1].match(Gb);return Kb(t,s)?[n,r[0]]:Kb(t,o)?[n,r[1]]:[n,r[s!=null&&o!=null?2:1]]}return[n,a]}function nl(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Gr)[e],n==null&&(n=r.table&&r.table[Hb[e]]||Gr[Hb[e]]),n==null&&(n=a9[e]||"General");break}if(Tp(n,0))return zv(t,r);t instanceof Date&&(t=lS(t,r.date1904));var i=S9(n,t);if(Tp(i[1]))return zv(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return N9(i[1],t,r,i[0])}function xS(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Gr[r]==null){t<0&&(t=r);continue}if(Gr[r]==e){t=r;break}}t<0&&(t=391)}return Gr[t]=e,t}function S1(e){for(var t=0;t!=392;++t)e[t]!==void 0&&xS(e[t],t)}function k1(){Gr=i9()}var yS=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function k9(e){var t=typeof e=="number"?Gr[e]:e;return t=t.replace(yS,"(\\d+)"),new RegExp("^"+t+"$")}function E9(e,t,r){var n=-1,i=-1,a=-1,s=-1,o=-1,l=-1;(t.match(yS)||[]).forEach(function(d,p){var h=parseInt(r[p+1],10);switch(d.toLowerCase().charAt(0)){case"y":n=h;break;case"d":a=h;break;case"h":s=h;break;case"s":l=h;break;case"m":s>=0?o=h:i=h;break}}),l>=0&&o==-1&&i>=0&&(o=i,i=-1);var c=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var u=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return s==-1&&o==-1&&l==-1?c:n==-1&&i==-1&&a==-1?u:c+"T"+u}var A9=function(){var e={};e.version="1.2.0";function t(){for(var A=0,O=new Array(256),C=0;C!=256;++C)A=C,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,O[C]=A;return typeof Int32Array<"u"?new Int32Array(O):O}var r=t();function n(A){var O=0,C=0,L=0,N=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(L=0;L!=256;++L)N[L]=A[L];for(L=0;L!=256;++L)for(C=A[L],O=256+L;O<4096;O+=256)C=N[O]=C>>>8^A[C&255];var j=[];for(L=1;L!=16;++L)j[L-1]=typeof Int32Array<"u"?N.subarray(L*256,L*256+256):N.slice(L*256,L*256+256);return j}var i=n(r),a=i[0],s=i[1],o=i[2],l=i[3],c=i[4],u=i[5],d=i[6],p=i[7],h=i[8],y=i[9],m=i[10],x=i[11],g=i[12],v=i[13],b=i[14];function _(A,O){for(var C=O^-1,L=0,N=A.length;L<N;)C=C>>>8^r[(C^A.charCodeAt(L++))&255];return~C}function E(A,O){for(var C=O^-1,L=A.length-15,N=0;N<L;)C=b[A[N++]^C&255]^v[A[N++]^C>>8&255]^g[A[N++]^C>>16&255]^x[A[N++]^C>>>24]^m[A[N++]]^y[A[N++]]^h[A[N++]]^p[A[N++]]^d[A[N++]]^u[A[N++]]^c[A[N++]]^l[A[N++]]^o[A[N++]]^s[A[N++]]^a[A[N++]]^r[A[N++]];for(L+=15;N<L;)C=C>>>8^r[(C^A[N++])&255];return~C}function F(A,O){for(var C=O^-1,L=0,N=A.length,j=0,T=0;L<N;)j=A.charCodeAt(L++),j<128?C=C>>>8^r[(C^j)&255]:j<2048?(C=C>>>8^r[(C^(192|j>>6&31))&255],C=C>>>8^r[(C^(128|j&63))&255]):j>=55296&&j<57344?(j=(j&1023)+64,T=A.charCodeAt(L++)&1023,C=C>>>8^r[(C^(240|j>>8&7))&255],C=C>>>8^r[(C^(128|j>>2&63))&255],C=C>>>8^r[(C^(128|T>>6&15|(j&3)<<4))&255],C=C>>>8^r[(C^(128|T&63))&255]):(C=C>>>8^r[(C^(224|j>>12&15))&255],C=C>>>8^r[(C^(128|j>>6&63))&255],C=C>>>8^r[(C^(128|j&63))&255]);return~C}return e.table=r,e.bstr=_,e.buf=E,e.str=F,e}(),xr=function(){var t={};t.version="1.2.1";function r(ee,de){for(var le=ee.split("/"),ue=de.split("/"),pe=0,ge=0,Le=Math.min(le.length,ue.length);pe<Le;++pe){if(ge=le[pe].length-ue[pe].length)return ge;if(le[pe]!=ue[pe])return le[pe]<ue[pe]?-1:1}return le.length-ue.length}function n(ee){if(ee.charAt(ee.length-1)=="/")return ee.slice(0,-1).indexOf("/")===-1?ee:n(ee.slice(0,-1));var de=ee.lastIndexOf("/");return de===-1?ee:ee.slice(0,de+1)}function i(ee){if(ee.charAt(ee.length-1)=="/")return i(ee.slice(0,-1));var de=ee.lastIndexOf("/");return de===-1?ee:ee.slice(de+1)}function a(ee,de){typeof de=="string"&&(de=new Date(de));var le=de.getHours();le=le<<6|de.getMinutes(),le=le<<5|de.getSeconds()>>>1,ee.write_shift(2,le);var ue=de.getFullYear()-1980;ue=ue<<4|de.getMonth()+1,ue=ue<<5|de.getDate(),ee.write_shift(2,ue)}function s(ee){var de=ee.read_shift(2)&65535,le=ee.read_shift(2)&65535,ue=new Date,pe=le&31;le>>>=5;var ge=le&15;le>>>=4,ue.setMilliseconds(0),ue.setFullYear(le+1980),ue.setMonth(ge-1),ue.setDate(pe);var Le=de&31;de>>>=5;var Ue=de&63;return de>>>=6,ue.setHours(de),ue.setMinutes(Ue),ue.setSeconds(Le<<1),ue}function o(ee){Vi(ee,0);for(var de={},le=0;ee.l<=ee.length-4;){var ue=ee.read_shift(2),pe=ee.read_shift(2),ge=ee.l+pe,Le={};switch(ue){case 21589:le=ee.read_shift(1),le&1&&(Le.mtime=ee.read_shift(4)),pe>5&&(le&2&&(Le.atime=ee.read_shift(4)),le&4&&(Le.ctime=ee.read_shift(4))),Le.mtime&&(Le.mt=new Date(Le.mtime*1e3));break}ee.l=ge,de[ue]=Le}return de}var l;function c(){return l||(l={})}function u(ee,de){if(ee[0]==80&&ee[1]==75)return Ot(ee,de);if((ee[0]|32)==109&&(ee[1]|32)==105)return Pt(ee,de);if(ee.length<512)throw new Error("CFB file size "+ee.length+" < 512");var le=3,ue=512,pe=0,ge=0,Le=0,Ue=0,Pe=0,Fe=[],Me=ee.slice(0,512);Vi(Me,0);var et=d(Me);switch(le=et[0],le){case 3:ue=512;break;case 4:ue=4096;break;case 0:if(et[1]==0)return Ot(ee,de);default:throw new Error("Major Version: Expected 3 or 4 saw "+le)}ue!==512&&(Me=ee.slice(0,ue),Vi(Me,28));var at=ee.slice(0,ue);p(Me,le);var dt=Me.read_shift(4,"i");if(le===3&&dt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+dt);Me.l+=4,Le=Me.read_shift(4,"i"),Me.l+=4,Me.chk("00100000","Mini Stream Cutoff Size: "),Ue=Me.read_shift(4,"i"),pe=Me.read_shift(4,"i"),Pe=Me.read_shift(4,"i"),ge=Me.read_shift(4,"i");for(var it=-1,ft=0;ft<109&&(it=Me.read_shift(4,"i"),!(it<0));++ft)Fe[ft]=it;var Ft=h(ee,ue);x(Pe,ge,Ft,ue,Fe);var vr=v(Ft,Le,Fe,ue);vr[Le].name="!Directory",pe>0&&Ue!==T&&(vr[Ue].name="!MiniFAT"),vr[Fe[0]].name="!FAT",vr.fat_addrs=Fe,vr.ssz=ue;var Yt={},qr=[],Xa=[],Sa=[];b(Le,vr,Ft,qr,pe,Yt,Xa,Ue),y(Xa,Sa,qr),qr.shift();var Za={FileIndex:Xa,FullPaths:Sa};return de&&de.raw&&(Za.raw={header:at,sectors:Ft}),Za}function d(ee){if(ee[ee.l]==80&&ee[ee.l+1]==75)return[0,0];ee.chk(B,"Header Signature: "),ee.l+=16;var de=ee.read_shift(2,"u");return[ee.read_shift(2,"u"),de]}function p(ee,de){var le=9;switch(ee.l+=2,le=ee.read_shift(2)){case 9:if(de!=3)throw new Error("Sector Shift: Expected 9 saw "+le);break;case 12:if(de!=4)throw new Error("Sector Shift: Expected 12 saw "+le);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+le)}ee.chk("0600","Mini Sector Shift: "),ee.chk("000000000000","Reserved: ")}function h(ee,de){for(var le=Math.ceil(ee.length/de)-1,ue=[],pe=1;pe<le;++pe)ue[pe-1]=ee.slice(pe*de,(pe+1)*de);return ue[le-1]=ee.slice(le*de),ue}function y(ee,de,le){for(var ue=0,pe=0,ge=0,Le=0,Ue=0,Pe=le.length,Fe=[],Me=[];ue<Pe;++ue)Fe[ue]=Me[ue]=ue,de[ue]=le[ue];for(;Ue<Me.length;++Ue)ue=Me[Ue],pe=ee[ue].L,ge=ee[ue].R,Le=ee[ue].C,Fe[ue]===ue&&(pe!==-1&&Fe[pe]!==pe&&(Fe[ue]=Fe[pe]),ge!==-1&&Fe[ge]!==ge&&(Fe[ue]=Fe[ge])),Le!==-1&&(Fe[Le]=ue),pe!==-1&&ue!=Fe[ue]&&(Fe[pe]=Fe[ue],Me.lastIndexOf(pe)<Ue&&Me.push(pe)),ge!==-1&&ue!=Fe[ue]&&(Fe[ge]=Fe[ue],Me.lastIndexOf(ge)<Ue&&Me.push(ge));for(ue=1;ue<Pe;++ue)Fe[ue]===ue&&(ge!==-1&&Fe[ge]!==ge?Fe[ue]=Fe[ge]:pe!==-1&&Fe[pe]!==pe&&(Fe[ue]=Fe[pe]));for(ue=1;ue<Pe;++ue)if(ee[ue].type!==0){if(Ue=ue,Ue!=Fe[Ue])do Ue=Fe[Ue],de[ue]=de[Ue]+"/"+de[ue];while(Ue!==0&&Fe[Ue]!==-1&&Ue!=Fe[Ue]);Fe[ue]=-1}for(de[0]+="/",ue=1;ue<Pe;++ue)ee[ue].type!==2&&(de[ue]+="/")}function m(ee,de,le){for(var ue=ee.start,pe=ee.size,ge=[],Le=ue;le&&pe>0&&Le>=0;)ge.push(de.slice(Le*j,Le*j+j)),pe-=j,Le=Il(le,Le*4);return ge.length===0?ze(0):$n(ge).slice(0,ee.size)}function x(ee,de,le,ue,pe){var ge=T;if(ee===T){if(de!==0)throw new Error("DIFAT chain shorter than expected")}else if(ee!==-1){var Le=le[ee],Ue=(ue>>>2)-1;if(!Le)return;for(var Pe=0;Pe<Ue&&(ge=Il(Le,Pe*4))!==T;++Pe)pe.push(ge);x(Il(Le,ue-4),de-1,le,ue,pe)}}function g(ee,de,le,ue,pe){var ge=[],Le=[];pe||(pe=[]);var Ue=ue-1,Pe=0,Fe=0;for(Pe=de;Pe>=0;){pe[Pe]=!0,ge[ge.length]=Pe,Le.push(ee[Pe]);var Me=le[Math.floor(Pe*4/ue)];if(Fe=Pe*4&Ue,ue<4+Fe)throw new Error("FAT boundary crossed: "+Pe+" 4 "+ue);if(!ee[Me])break;Pe=Il(ee[Me],Fe)}return{nodes:ge,data:r5([Le])}}function v(ee,de,le,ue){var pe=ee.length,ge=[],Le=[],Ue=[],Pe=[],Fe=ue-1,Me=0,et=0,at=0,dt=0;for(Me=0;Me<pe;++Me)if(Ue=[],at=Me+de,at>=pe&&(at-=pe),!Le[at]){Pe=[];var it=[];for(et=at;et>=0;){it[et]=!0,Le[et]=!0,Ue[Ue.length]=et,Pe.push(ee[et]);var ft=le[Math.floor(et*4/ue)];if(dt=et*4&Fe,ue<4+dt)throw new Error("FAT boundary crossed: "+et+" 4 "+ue);if(!ee[ft]||(et=Il(ee[ft],dt),it[et]))break}ge[at]={nodes:Ue,data:r5([Pe])}}return ge}function b(ee,de,le,ue,pe,ge,Le,Ue){for(var Pe=0,Fe=ue.length?2:0,Me=de[ee].data,et=0,at=0,dt;et<Me.length;et+=128){var it=Me.slice(et,et+128);Vi(it,64),at=it.read_shift(2),dt=wx(it,0,at-Fe),ue.push(dt);var ft={name:dt,type:it.read_shift(1),color:it.read_shift(1),L:it.read_shift(4,"i"),R:it.read_shift(4,"i"),C:it.read_shift(4,"i"),clsid:it.read_shift(16),state:it.read_shift(4,"i"),start:0,size:0},Ft=it.read_shift(2)+it.read_shift(2)+it.read_shift(2)+it.read_shift(2);Ft!==0&&(ft.ct=_(it,it.l-8));var vr=it.read_shift(2)+it.read_shift(2)+it.read_shift(2)+it.read_shift(2);vr!==0&&(ft.mt=_(it,it.l-8)),ft.start=it.read_shift(4,"i"),ft.size=it.read_shift(4,"i"),ft.size<0&&ft.start<0&&(ft.size=ft.type=0,ft.start=T,ft.name=""),ft.type===5?(Pe=ft.start,pe>0&&Pe!==T&&(de[Pe].name="!StreamData")):ft.size>=4096?(ft.storage="fat",de[ft.start]===void 0&&(de[ft.start]=g(le,ft.start,de.fat_addrs,de.ssz)),de[ft.start].name=ft.name,ft.content=de[ft.start].data.slice(0,ft.size)):(ft.storage="minifat",ft.size<0?ft.size=0:Pe!==T&&ft.start!==T&&de[Pe]&&(ft.content=m(ft,de[Pe].data,(de[Ue]||{}).data))),ft.content&&Vi(ft.content,0),ge[dt]=ft,Le.push(ft)}}function _(ee,de){return new Date((Ki(ee,de+4)/1e7*Math.pow(2,32)+Ki(ee,de)/1e7-11644473600)*1e3)}function E(ee,de){return c(),u(l.readFileSync(ee),de)}function F(ee,de){var le=de&&de.type;switch(le||ar&&Buffer.isBuffer(ee)&&(le="buffer"),le||"base64"){case"file":return E(ee,de);case"base64":return u(Ba(to(ee)),de);case"binary":return u(Ba(ee),de)}return u(ee,de)}function A(ee,de){var le=de||{},ue=le.root||"Root Entry";if(ee.FullPaths||(ee.FullPaths=[]),ee.FileIndex||(ee.FileIndex=[]),ee.FullPaths.length!==ee.FileIndex.length)throw new Error("inconsistent CFB structure");ee.FullPaths.length===0&&(ee.FullPaths[0]=ue+"/",ee.FileIndex[0]={name:ue,type:5}),le.CLSID&&(ee.FileIndex[0].clsid=le.CLSID),O(ee)}function O(ee){var de="Sh33tJ5";if(!xr.find(ee,"/"+de)){var le=ze(4);le[0]=55,le[1]=le[3]=50,le[2]=54,ee.FileIndex.push({name:de,type:2,content:le,size:4,L:69,R:69,C:69}),ee.FullPaths.push(ee.FullPaths[0]+de),C(ee)}}function C(ee,de){A(ee);for(var le=!1,ue=!1,pe=ee.FullPaths.length-1;pe>=0;--pe){var ge=ee.FileIndex[pe];switch(ge.type){case 0:ue?le=!0:(ee.FileIndex.pop(),ee.FullPaths.pop());break;case 1:case 2:case 5:ue=!0,isNaN(ge.R*ge.L*ge.C)&&(le=!0),ge.R>-1&&ge.L>-1&&ge.R==ge.L&&(le=!0);break;default:le=!0;break}}if(!(!le&&!de)){var Le=new Date(1987,1,19),Ue=0,Pe=Object.create?Object.create(null):{},Fe=[];for(pe=0;pe<ee.FullPaths.length;++pe)Pe[ee.FullPaths[pe]]=!0,ee.FileIndex[pe].type!==0&&Fe.push([ee.FullPaths[pe],ee.FileIndex[pe]]);for(pe=0;pe<Fe.length;++pe){var Me=n(Fe[pe][0]);ue=Pe[Me],ue||(Fe.push([Me,{name:i(Me).replace("/",""),type:1,clsid:Q,ct:Le,mt:Le,content:null}]),Pe[Me]=!0)}for(Fe.sort(function(dt,it){return r(dt[0],it[0])}),ee.FullPaths=[],ee.FileIndex=[],pe=0;pe<Fe.length;++pe)ee.FullPaths[pe]=Fe[pe][0],ee.FileIndex[pe]=Fe[pe][1];for(pe=0;pe<Fe.length;++pe){var et=ee.FileIndex[pe],at=ee.FullPaths[pe];if(et.name=i(at).replace("/",""),et.L=et.R=et.C=-(et.color=1),et.size=et.content?et.content.length:0,et.start=0,et.clsid=et.clsid||Q,pe===0)et.C=Fe.length>1?1:-1,et.size=0,et.type=5;else if(at.slice(-1)=="/"){for(Ue=pe+1;Ue<Fe.length&&n(ee.FullPaths[Ue])!=at;++Ue);for(et.C=Ue>=Fe.length?-1:Ue,Ue=pe+1;Ue<Fe.length&&n(ee.FullPaths[Ue])!=n(at);++Ue);et.R=Ue>=Fe.length?-1:Ue,et.type=1}else n(ee.FullPaths[pe+1]||"")==n(at)&&(et.R=pe+1),et.type=2}}}function L(ee,de){var le=de||{};if(le.fileType=="mad")return wa(ee,le);switch(C(ee),le.fileType){case"zip":return qt(ee,le)}var ue=function(dt){for(var it=0,ft=0,Ft=0;Ft<dt.FileIndex.length;++Ft){var vr=dt.FileIndex[Ft];if(vr.content){var Yt=vr.content.length;Yt>0&&(Yt<4096?it+=Yt+63>>6:ft+=Yt+511>>9)}}for(var qr=dt.FullPaths.length+3>>2,Xa=it+7>>3,Sa=it+127>>7,Za=Xa+ft+qr+Sa,ia=Za+127>>7,so=ia<=109?0:Math.ceil((ia-109)/127);Za+ia+so+127>>7>ia;)so=++ia<=109?0:Math.ceil((ia-109)/127);var sn=[1,so,ia,Sa,qr,ft,it,0];return dt.FileIndex[0].size=it<<6,sn[7]=(dt.FileIndex[0].start=sn[0]+sn[1]+sn[2]+sn[3]+sn[4]+sn[5])+(sn[6]+7>>3),sn}(ee),pe=ze(ue[7]<<9),ge=0,Le=0;{for(ge=0;ge<8;++ge)pe.write_shift(1,z[ge]);for(ge=0;ge<8;++ge)pe.write_shift(2,0);for(pe.write_shift(2,62),pe.write_shift(2,3),pe.write_shift(2,65534),pe.write_shift(2,9),pe.write_shift(2,6),ge=0;ge<3;++ge)pe.write_shift(2,0);for(pe.write_shift(4,0),pe.write_shift(4,ue[2]),pe.write_shift(4,ue[0]+ue[1]+ue[2]+ue[3]-1),pe.write_shift(4,0),pe.write_shift(4,4096),pe.write_shift(4,ue[3]?ue[0]+ue[1]+ue[2]-1:T),pe.write_shift(4,ue[3]),pe.write_shift(-4,ue[1]?ue[0]-1:T),pe.write_shift(4,ue[1]),ge=0;ge<109;++ge)pe.write_shift(-4,ge<ue[2]?ue[1]+ge:-1)}if(ue[1])for(Le=0;Le<ue[1];++Le){for(;ge<236+Le*127;++ge)pe.write_shift(-4,ge<ue[2]?ue[1]+ge:-1);pe.write_shift(-4,Le===ue[1]-1?T:Le+1)}var Ue=function(dt){for(Le+=dt;ge<Le-1;++ge)pe.write_shift(-4,ge+1);dt&&(++ge,pe.write_shift(-4,T))};for(Le=ge=0,Le+=ue[1];ge<Le;++ge)pe.write_shift(-4,ne.DIFSECT);for(Le+=ue[2];ge<Le;++ge)pe.write_shift(-4,ne.FATSECT);Ue(ue[3]),Ue(ue[4]);for(var Pe=0,Fe=0,Me=ee.FileIndex[0];Pe<ee.FileIndex.length;++Pe)Me=ee.FileIndex[Pe],Me.content&&(Fe=Me.content.length,!(Fe<4096)&&(Me.start=Le,Ue(Fe+511>>9)));for(Ue(ue[6]+7>>3);pe.l&511;)pe.write_shift(-4,ne.ENDOFCHAIN);for(Le=ge=0,Pe=0;Pe<ee.FileIndex.length;++Pe)Me=ee.FileIndex[Pe],Me.content&&(Fe=Me.content.length,!(!Fe||Fe>=4096)&&(Me.start=Le,Ue(Fe+63>>6)));for(;pe.l&511;)pe.write_shift(-4,ne.ENDOFCHAIN);for(ge=0;ge<ue[4]<<2;++ge){var et=ee.FullPaths[ge];if(!et||et.length===0){for(Pe=0;Pe<17;++Pe)pe.write_shift(4,0);for(Pe=0;Pe<3;++Pe)pe.write_shift(4,-1);for(Pe=0;Pe<12;++Pe)pe.write_shift(4,0);continue}Me=ee.FileIndex[ge],ge===0&&(Me.start=Me.size?Me.start-1:T);var at=ge===0&&le.root||Me.name;if(Fe=2*(at.length+1),pe.write_shift(64,at,"utf16le"),pe.write_shift(2,Fe),pe.write_shift(1,Me.type),pe.write_shift(1,Me.color),pe.write_shift(-4,Me.L),pe.write_shift(-4,Me.R),pe.write_shift(-4,Me.C),Me.clsid)pe.write_shift(16,Me.clsid,"hex");else for(Pe=0;Pe<4;++Pe)pe.write_shift(4,0);pe.write_shift(4,Me.state||0),pe.write_shift(4,0),pe.write_shift(4,0),pe.write_shift(4,0),pe.write_shift(4,0),pe.write_shift(4,Me.start),pe.write_shift(4,Me.size),pe.write_shift(4,0)}for(ge=1;ge<ee.FileIndex.length;++ge)if(Me=ee.FileIndex[ge],Me.size>=4096)if(pe.l=Me.start+1<<9,ar&&Buffer.isBuffer(Me.content))Me.content.copy(pe,pe.l,0,Me.size),pe.l+=Me.size+511&-512;else{for(Pe=0;Pe<Me.size;++Pe)pe.write_shift(1,Me.content[Pe]);for(;Pe&511;++Pe)pe.write_shift(1,0)}for(ge=1;ge<ee.FileIndex.length;++ge)if(Me=ee.FileIndex[ge],Me.size>0&&Me.size<4096)if(ar&&Buffer.isBuffer(Me.content))Me.content.copy(pe,pe.l,0,Me.size),pe.l+=Me.size+63&-64;else{for(Pe=0;Pe<Me.size;++Pe)pe.write_shift(1,Me.content[Pe]);for(;Pe&63;++Pe)pe.write_shift(1,0)}if(ar)pe.l=pe.length;else for(;pe.l<pe.length;)pe.write_shift(1,0);return pe}function N(ee,de){var le=ee.FullPaths.map(function(Pe){return Pe.toUpperCase()}),ue=le.map(function(Pe){var Fe=Pe.split("/");return Fe[Fe.length-(Pe.slice(-1)=="/"?2:1)]}),pe=!1;de.charCodeAt(0)===47?(pe=!0,de=le[0].slice(0,-1)+de):pe=de.indexOf("/")!==-1;var ge=de.toUpperCase(),Le=pe===!0?le.indexOf(ge):ue.indexOf(ge);if(Le!==-1)return ee.FileIndex[Le];var Ue=!ge.match(u0);for(ge=ge.replace(nh,""),Ue&&(ge=ge.replace(u0,"!")),Le=0;Le<le.length;++Le)if((Ue?le[Le].replace(u0,"!"):le[Le]).replace(nh,"")==ge||(Ue?ue[Le].replace(u0,"!"):ue[Le]).replace(nh,"")==ge)return ee.FileIndex[Le];return null}var j=64,T=-2,B="d0cf11e0a1b11ae1",z=[208,207,17,224,161,177,26,225],Q="00000000000000000000000000000000",ne={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:T,FREESECT:-1,HEADER_SIGNATURE:B,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:Q,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function ie(ee,de,le){c();var ue=L(ee,le);l.writeFileSync(de,ue)}function K(ee){for(var de=new Array(ee.length),le=0;le<ee.length;++le)de[le]=String.fromCharCode(ee[le]);return de.join("")}function W(ee,de){var le=L(ee,de);switch(de&&de.type||"buffer"){case"file":return c(),l.writeFileSync(de.filename,le),le;case"binary":return typeof le=="string"?le:K(le);case"base64":return Fh(typeof le=="string"?le:K(le));case"buffer":if(ar)return Buffer.isBuffer(le)?le:ao(le);case"array":return typeof le=="string"?Ba(le):le}return le}var q;function k(ee){try{var de=ee.InflateRaw,le=new de;if(le._processChunk(new Uint8Array([3,0]),le._finishFlushFlag),le.bytesRead)q=ee;else throw new Error("zlib does not expose bytesRead")}catch(ue){console.error("cannot use native zlib: "+(ue.message||ue))}}function I(ee,de){if(!q)return Bt(ee,de);var le=q.InflateRaw,ue=new le,pe=ue._processChunk(ee.slice(ee.l),ue._finishFlushFlag);return ee.l+=ue.bytesRead,pe}function M(ee){return q?q.deflateRawSync(ee):Ye(ee)}var U=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],R=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],G=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function te(ee){var de=(ee<<1|ee<<11)&139536|(ee<<5|ee<<15)&558144;return(de>>16|de>>8|de)&255}for(var V=typeof Uint8Array<"u",Y=V?new Uint8Array(256):[],oe=0;oe<256;++oe)Y[oe]=te(oe);function ve(ee,de){var le=Y[ee&255];return de<=8?le>>>8-de:(le=le<<8|Y[ee>>8&255],de<=16?le>>>16-de:(le=le<<8|Y[ee>>16&255],le>>>24-de))}function Ne(ee,de){var le=de&7,ue=de>>>3;return(ee[ue]|(le<=6?0:ee[ue+1]<<8))>>>le&3}function _e(ee,de){var le=de&7,ue=de>>>3;return(ee[ue]|(le<=5?0:ee[ue+1]<<8))>>>le&7}function X(ee,de){var le=de&7,ue=de>>>3;return(ee[ue]|(le<=4?0:ee[ue+1]<<8))>>>le&15}function Ee(ee,de){var le=de&7,ue=de>>>3;return(ee[ue]|(le<=3?0:ee[ue+1]<<8))>>>le&31}function Oe(ee,de){var le=de&7,ue=de>>>3;return(ee[ue]|(le<=1?0:ee[ue+1]<<8))>>>le&127}function be(ee,de,le){var ue=de&7,pe=de>>>3,ge=(1<<le)-1,Le=ee[pe]>>>ue;return le<8-ue||(Le|=ee[pe+1]<<8-ue,le<16-ue)||(Le|=ee[pe+2]<<16-ue,le<24-ue)||(Le|=ee[pe+3]<<24-ue),Le&ge}function xe(ee,de,le){var ue=de&7,pe=de>>>3;return ue<=5?ee[pe]|=(le&7)<<ue:(ee[pe]|=le<<ue&255,ee[pe+1]=(le&7)>>8-ue),de+3}function De(ee,de,le){var ue=de&7,pe=de>>>3;return le=(le&1)<<ue,ee[pe]|=le,de+1}function Be(ee,de,le){var ue=de&7,pe=de>>>3;return le<<=ue,ee[pe]|=le&255,le>>>=8,ee[pe+1]=le,de+8}function Ce(ee,de,le){var ue=de&7,pe=de>>>3;return le<<=ue,ee[pe]|=le&255,le>>>=8,ee[pe+1]=le&255,ee[pe+2]=le>>>8,de+16}function Xe(ee,de){var le=ee.length,ue=2*le>de?2*le:de+5,pe=0;if(le>=de)return ee;if(ar){var ge=qb(ue);if(ee.copy)ee.copy(ge);else for(;pe<ee.length;++pe)ge[pe]=ee[pe];return ge}else if(V){var Le=new Uint8Array(ue);if(Le.set)Le.set(ee);else for(;pe<le;++pe)Le[pe]=ee[pe];return Le}return ee.length=ue,ee}function tt(ee){for(var de=new Array(ee),le=0;le<ee;++le)de[le]=0;return de}function ct(ee,de,le){var ue=1,pe=0,ge=0,Le=0,Ue=0,Pe=ee.length,Fe=V?new Uint16Array(32):tt(32);for(ge=0;ge<32;++ge)Fe[ge]=0;for(ge=Pe;ge<le;++ge)ee[ge]=0;Pe=ee.length;var Me=V?new Uint16Array(Pe):tt(Pe);for(ge=0;ge<Pe;++ge)Fe[pe=ee[ge]]++,ue<pe&&(ue=pe),Me[ge]=0;for(Fe[0]=0,ge=1;ge<=ue;++ge)Fe[ge+16]=Ue=Ue+Fe[ge-1]<<1;for(ge=0;ge<Pe;++ge)Ue=ee[ge],Ue!=0&&(Me[ge]=Fe[Ue+16]++);var et=0;for(ge=0;ge<Pe;++ge)if(et=ee[ge],et!=0)for(Ue=ve(Me[ge],ue)>>ue-et,Le=(1<<ue+4-et)-1;Le>=0;--Le)de[Ue|Le<<et]=et&15|ge<<4;return ue}var pt=V?new Uint16Array(512):tt(512),bt=V?new Uint16Array(32):tt(32);if(!V){for(var Ae=0;Ae<512;++Ae)pt[Ae]=0;for(Ae=0;Ae<32;++Ae)bt[Ae]=0}(function(){for(var ee=[],de=0;de<32;de++)ee.push(5);ct(ee,bt,32);var le=[];for(de=0;de<=143;de++)le.push(8);for(;de<=255;de++)le.push(9);for(;de<=279;de++)le.push(7);for(;de<=287;de++)le.push(8);ct(le,pt,288)})();var We=function(){for(var de=V?new Uint8Array(32768):[],le=0,ue=0;le<G.length-1;++le)for(;ue<G[le+1];++ue)de[ue]=le;for(;ue<32768;++ue)de[ue]=29;var pe=V?new Uint8Array(259):[];for(le=0,ue=0;le<R.length-1;++le)for(;ue<R[le+1];++ue)pe[ue]=le;function ge(Ue,Pe){for(var Fe=0;Fe<Ue.length;){var Me=Math.min(65535,Ue.length-Fe),et=Fe+Me==Ue.length;for(Pe.write_shift(1,+et),Pe.write_shift(2,Me),Pe.write_shift(2,~Me&65535);Me-- >0;)Pe[Pe.l++]=Ue[Fe++]}return Pe.l}function Le(Ue,Pe){for(var Fe=0,Me=0,et=V?new Uint16Array(32768):[];Me<Ue.length;){var at=Math.min(65535,Ue.length-Me);if(at<10){for(Fe=xe(Pe,Fe,+(Me+at==Ue.length)),Fe&7&&(Fe+=8-(Fe&7)),Pe.l=Fe/8|0,Pe.write_shift(2,at),Pe.write_shift(2,~at&65535);at-- >0;)Pe[Pe.l++]=Ue[Me++];Fe=Pe.l*8;continue}Fe=xe(Pe,Fe,+(Me+at==Ue.length)+2);for(var dt=0;at-- >0;){var it=Ue[Me];dt=(dt<<5^it)&32767;var ft=-1,Ft=0;if((ft=et[dt])&&(ft|=Me&-32768,ft>Me&&(ft-=32768),ft<Me))for(;Ue[ft+Ft]==Ue[Me+Ft]&&Ft<250;)++Ft;if(Ft>2){it=pe[Ft],it<=22?Fe=Be(Pe,Fe,Y[it+1]>>1)-1:(Be(Pe,Fe,3),Fe+=5,Be(Pe,Fe,Y[it-23]>>5),Fe+=3);var vr=it<8?0:it-4>>2;vr>0&&(Ce(Pe,Fe,Ft-R[it]),Fe+=vr),it=de[Me-ft],Fe=Be(Pe,Fe,Y[it]>>3),Fe-=3;var Yt=it<4?0:it-2>>1;Yt>0&&(Ce(Pe,Fe,Me-ft-G[it]),Fe+=Yt);for(var qr=0;qr<Ft;++qr)et[dt]=Me&32767,dt=(dt<<5^Ue[Me])&32767,++Me;at-=Ft-1}else it<=143?it=it+48:Fe=De(Pe,Fe,1),Fe=Be(Pe,Fe,Y[it]),et[dt]=Me&32767,++Me}Fe=Be(Pe,Fe,0)-1}return Pe.l=(Fe+7)/8|0,Pe.l}return function(Pe,Fe){return Pe.length<8?ge(Pe,Fe):Le(Pe,Fe)}}();function Ye(ee){var de=ze(50+Math.floor(ee.length*1.1)),le=We(ee,de);return de.slice(0,le)}var $e=V?new Uint16Array(32768):tt(32768),At=V?new Uint16Array(32768):tt(32768),ot=V?new Uint16Array(128):tt(128),Nt=1,mt=1;function wt(ee,de){var le=Ee(ee,de)+257;de+=5;var ue=Ee(ee,de)+1;de+=5;var pe=X(ee,de)+4;de+=4;for(var ge=0,Le=V?new Uint8Array(19):tt(19),Ue=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Pe=1,Fe=V?new Uint8Array(8):tt(8),Me=V?new Uint8Array(8):tt(8),et=Le.length,at=0;at<pe;++at)Le[U[at]]=ge=_e(ee,de),Pe<ge&&(Pe=ge),Fe[ge]++,de+=3;var dt=0;for(Fe[0]=0,at=1;at<=Pe;++at)Me[at]=dt=dt+Fe[at-1]<<1;for(at=0;at<et;++at)(dt=Le[at])!=0&&(Ue[at]=Me[dt]++);var it=0;for(at=0;at<et;++at)if(it=Le[at],it!=0){dt=Y[Ue[at]]>>8-it;for(var ft=(1<<7-it)-1;ft>=0;--ft)ot[dt|ft<<it]=it&7|at<<3}var Ft=[];for(Pe=1;Ft.length<le+ue;)switch(dt=ot[Oe(ee,de)],de+=dt&7,dt>>>=3){case 16:for(ge=3+Ne(ee,de),de+=2,dt=Ft[Ft.length-1];ge-- >0;)Ft.push(dt);break;case 17:for(ge=3+_e(ee,de),de+=3;ge-- >0;)Ft.push(0);break;case 18:for(ge=11+Oe(ee,de),de+=7;ge-- >0;)Ft.push(0);break;default:Ft.push(dt),Pe<dt&&(Pe=dt);break}var vr=Ft.slice(0,le),Yt=Ft.slice(le);for(at=le;at<286;++at)vr[at]=0;for(at=ue;at<30;++at)Yt[at]=0;return Nt=ct(vr,$e,286),mt=ct(Yt,At,30),de}function ht(ee,de){if(ee[0]==3&&!(ee[1]&3))return[Jl(de),2];for(var le=0,ue=0,pe=qb(de||1<<18),ge=0,Le=pe.length>>>0,Ue=0,Pe=0;!(ue&1);){if(ue=_e(ee,le),le+=3,ue>>>1)ue>>1==1?(Ue=9,Pe=5):(le=wt(ee,le),Ue=Nt,Pe=mt);else{le&7&&(le+=8-(le&7));var Fe=ee[le>>>3]|ee[(le>>>3)+1]<<8;if(le+=32,Fe>0)for(!de&&Le<ge+Fe&&(pe=Xe(pe,ge+Fe),Le=pe.length);Fe-- >0;)pe[ge++]=ee[le>>>3],le+=8;continue}for(;;){!de&&Le<ge+32767&&(pe=Xe(pe,ge+32767),Le=pe.length);var Me=be(ee,le,Ue),et=ue>>>1==1?pt[Me]:$e[Me];if(le+=et&15,et>>>=4,!(et>>>8&255))pe[ge++]=et;else{if(et==256)break;et-=257;var at=et<8?0:et-4>>2;at>5&&(at=0);var dt=ge+R[et];at>0&&(dt+=be(ee,le,at),le+=at),Me=be(ee,le,Pe),et=ue>>>1==1?bt[Me]:At[Me],le+=et&15,et>>>=4;var it=et<4?0:et-2>>1,ft=G[et];for(it>0&&(ft+=be(ee,le,it),le+=it),!de&&Le<dt&&(pe=Xe(pe,dt+100),Le=pe.length);ge<dt;)pe[ge]=pe[ge-ft],++ge}}}return de?[pe,le+7>>>3]:[pe.slice(0,ge),le+7>>>3]}function Bt(ee,de){var le=ee.slice(ee.l||0),ue=ht(le,de);return ee.l+=ue[1],ue[0]}function gt(ee,de){if(ee)typeof console<"u"&&console.error(de);else throw new Error(de)}function Ot(ee,de){var le=ee;Vi(le,0);var ue=[],pe=[],ge={FileIndex:ue,FullPaths:pe};A(ge,{root:de.root});for(var Le=le.length-4;(le[Le]!=80||le[Le+1]!=75||le[Le+2]!=5||le[Le+3]!=6)&&Le>=0;)--Le;le.l=Le+4,le.l+=4;var Ue=le.read_shift(2);le.l+=6;var Pe=le.read_shift(4);for(le.l=Pe,Le=0;Le<Ue;++Le){le.l+=20;var Fe=le.read_shift(4),Me=le.read_shift(4),et=le.read_shift(2),at=le.read_shift(2),dt=le.read_shift(2);le.l+=8;var it=le.read_shift(4),ft=o(le.slice(le.l+et,le.l+et+at));le.l+=et+at+dt;var Ft=le.l;le.l=it+4,sr(le,Fe,Me,ge,ft),le.l=Ft}return ge}function sr(ee,de,le,ue,pe){ee.l+=2;var ge=ee.read_shift(2),Le=ee.read_shift(2),Ue=s(ee);if(ge&8257)throw new Error("Unsupported ZIP encryption");for(var Pe=ee.read_shift(4),Fe=ee.read_shift(4),Me=ee.read_shift(4),et=ee.read_shift(2),at=ee.read_shift(2),dt="",it=0;it<et;++it)dt+=String.fromCharCode(ee[ee.l++]);if(at){var ft=o(ee.slice(ee.l,ee.l+at));(ft[21589]||{}).mt&&(Ue=ft[21589].mt),((pe||{})[21589]||{}).mt&&(Ue=pe[21589].mt)}ee.l+=at;var Ft=ee.slice(ee.l,ee.l+Fe);switch(Le){case 8:Ft=I(ee,Me);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Le)}var vr=!1;ge&8&&(Pe=ee.read_shift(4),Pe==134695760&&(Pe=ee.read_shift(4),vr=!0),Fe=ee.read_shift(4),Me=ee.read_shift(4)),Fe!=de&&gt(vr,"Bad compressed size: "+de+" != "+Fe),Me!=le&&gt(vr,"Bad uncompressed size: "+le+" != "+Me),Kn(ue,dt,Ft,{unsafe:!0,mt:Ue})}function qt(ee,de){var le=de||{},ue=[],pe=[],ge=ze(1),Le=le.compression?8:0,Ue=0,Pe=0,Fe=0,Me=0,et=0,at=ee.FullPaths[0],dt=at,it=ee.FileIndex[0],ft=[],Ft=0;for(Pe=1;Pe<ee.FullPaths.length;++Pe)if(dt=ee.FullPaths[Pe].slice(at.length),it=ee.FileIndex[Pe],!(!it.size||!it.content||dt=="Sh33tJ5")){var vr=Me,Yt=ze(dt.length);for(Fe=0;Fe<dt.length;++Fe)Yt.write_shift(1,dt.charCodeAt(Fe)&127);Yt=Yt.slice(0,Yt.l),ft[et]=A9.buf(it.content,0);var qr=it.content;Le==8&&(qr=M(qr)),ge=ze(30),ge.write_shift(4,67324752),ge.write_shift(2,20),ge.write_shift(2,Ue),ge.write_shift(2,Le),it.mt?a(ge,it.mt):ge.write_shift(4,0),ge.write_shift(-4,ft[et]),ge.write_shift(4,qr.length),ge.write_shift(4,it.content.length),ge.write_shift(2,Yt.length),ge.write_shift(2,0),Me+=ge.length,ue.push(ge),Me+=Yt.length,ue.push(Yt),Me+=qr.length,ue.push(qr),ge=ze(46),ge.write_shift(4,33639248),ge.write_shift(2,0),ge.write_shift(2,20),ge.write_shift(2,Ue),ge.write_shift(2,Le),ge.write_shift(4,0),ge.write_shift(-4,ft[et]),ge.write_shift(4,qr.length),ge.write_shift(4,it.content.length),ge.write_shift(2,Yt.length),ge.write_shift(2,0),ge.write_shift(2,0),ge.write_shift(2,0),ge.write_shift(2,0),ge.write_shift(4,0),ge.write_shift(4,vr),Ft+=ge.l,pe.push(ge),Ft+=Yt.length,pe.push(Yt),++et}return ge=ze(22),ge.write_shift(4,101010256),ge.write_shift(2,0),ge.write_shift(2,0),ge.write_shift(2,et),ge.write_shift(2,et),ge.write_shift(4,Ft),ge.write_shift(4,Me),ge.write_shift(2,0),$n([$n(ue),$n(pe),ge])}var St={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function rr(ee,de){if(ee.ctype)return ee.ctype;var le=ee.name||"",ue=le.match(/\.([^\.]+)$/);return ue&&St[ue[1]]||de&&(ue=(le=de).match(/[\.\\]([^\.\\])+$/),ue&&St[ue[1]])?St[ue[1]]:"application/octet-stream"}function _s(ee){for(var de=Fh(ee),le=[],ue=0;ue<de.length;ue+=76)le.push(de.slice(ue,ue+76));return le.join(`\r
`)+`\r
`}function kn(ee){var de=ee.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Fe){var Me=Fe.charCodeAt(0).toString(16).toUpperCase();return"="+(Me.length==1?"0"+Me:Me)});de=de.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),de.charAt(0)==`
`&&(de="=0D"+de.slice(1)),de=de.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var le=[],ue=de.split(`\r
`),pe=0;pe<ue.length;++pe){var ge=ue[pe];if(ge.length==0){le.push("");continue}for(var Le=0;Le<ge.length;){var Ue=76,Pe=ge.slice(Le,Le+Ue);Pe.charAt(Ue-1)=="="?Ue--:Pe.charAt(Ue-2)=="="?Ue-=2:Pe.charAt(Ue-3)=="="&&(Ue-=3),Pe=ge.slice(Le,Le+Ue),Le+=Ue,Le<ge.length&&(Pe+="="),le.push(Pe)}}return le.join(`\r
`)}function ba(ee){for(var de=[],le=0;le<ee.length;++le){for(var ue=ee[le];le<=ee.length&&ue.charAt(ue.length-1)=="=";)ue=ue.slice(0,ue.length-1)+ee[++le];de.push(ue)}for(var pe=0;pe<de.length;++pe)de[pe]=de[pe].replace(/[=][0-9A-Fa-f]{2}/g,function(ge){return String.fromCharCode(parseInt(ge.slice(1),16))});return Ba(de.join(`\r
`))}function na(ee,de,le){for(var ue="",pe="",ge="",Le,Ue=0;Ue<10;++Ue){var Pe=de[Ue];if(!Pe||Pe.match(/^\s*$/))break;var Fe=Pe.match(/^(.*?):\s*([^\s].*)$/);if(Fe)switch(Fe[1].toLowerCase()){case"content-location":ue=Fe[2].trim();break;case"content-type":ge=Fe[2].trim();break;case"content-transfer-encoding":pe=Fe[2].trim();break}}switch(++Ue,pe.toLowerCase()){case"base64":Le=Ba(to(de.slice(Ue).join("")));break;case"quoted-printable":Le=ba(de.slice(Ue));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+pe)}var Me=Kn(ee,ue.slice(le.length),Le,{unsafe:!0});ge&&(Me.ctype=ge)}function Pt(ee,de){if(K(ee.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var le=de&&de.root||"",ue=(ar&&Buffer.isBuffer(ee)?ee.toString("binary"):K(ee)).split(`\r
`),pe=0,ge="";for(pe=0;pe<ue.length;++pe)if(ge=ue[pe],!!/^Content-Location:/i.test(ge)&&(ge=ge.slice(ge.indexOf("file")),le||(le=ge.slice(0,ge.lastIndexOf("/")+1)),ge.slice(0,le.length)!=le))for(;le.length>0&&(le=le.slice(0,le.length-1),le=le.slice(0,le.lastIndexOf("/")+1),ge.slice(0,le.length)!=le););var Le=(ue[1]||"").match(/boundary="(.*?)"/);if(!Le)throw new Error("MAD cannot find boundary");var Ue="--"+(Le[1]||""),Pe=[],Fe=[],Me={FileIndex:Pe,FullPaths:Fe};A(Me);var et,at=0;for(pe=0;pe<ue.length;++pe){var dt=ue[pe];dt!==Ue&&dt!==Ue+"--"||(at++&&na(Me,ue.slice(et,pe),le),et=pe)}return Me}function wa(ee,de){var le=de||{},ue=le.boundary||"SheetJS";ue="------="+ue;for(var pe=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ue.slice(2)+'"',"","",""],ge=ee.FullPaths[0],Le=ge,Ue=ee.FileIndex[0],Pe=1;Pe<ee.FullPaths.length;++Pe)if(Le=ee.FullPaths[Pe].slice(ge.length),Ue=ee.FileIndex[Pe],!(!Ue.size||!Ue.content||Le=="Sh33tJ5")){Le=Le.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Ft){return"_x"+Ft.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Ft){return"_u"+Ft.charCodeAt(0).toString(16)+"_"});for(var Fe=Ue.content,Me=ar&&Buffer.isBuffer(Fe)?Fe.toString("binary"):K(Fe),et=0,at=Math.min(1024,Me.length),dt=0,it=0;it<=at;++it)(dt=Me.charCodeAt(it))>=32&&dt<128&&++et;var ft=et>=at*4/5;pe.push(ue),pe.push("Content-Location: "+(le.root||"file:///C:/SheetJS/")+Le),pe.push("Content-Transfer-Encoding: "+(ft?"quoted-printable":"base64")),pe.push("Content-Type: "+rr(Ue,Le)),pe.push(""),pe.push(ft?kn(Me):_s(Me))}return pe.push(ue+`--\r
`),pe.join(`\r
`)}function Na(ee){var de={};return A(de,ee),de}function Kn(ee,de,le,ue){var pe=ue&&ue.unsafe;pe||A(ee);var ge=!pe&&xr.find(ee,de);if(!ge){var Le=ee.FullPaths[0];de.slice(0,Le.length)==Le?Le=de:(Le.slice(-1)!="/"&&(Le+="/"),Le=(Le+de).replace("//","/")),ge={name:i(de),type:2},ee.FileIndex.push(ge),ee.FullPaths.push(Le),pe||xr.utils.cfb_gc(ee)}return ge.content=le,ge.size=le?le.length:0,ue&&(ue.CLSID&&(ge.clsid=ue.CLSID),ue.mt&&(ge.mt=ue.mt),ue.ct&&(ge.ct=ue.ct)),ge}function _i(ee,de){A(ee);var le=xr.find(ee,de);if(le){for(var ue=0;ue<ee.FileIndex.length;++ue)if(ee.FileIndex[ue]==le)return ee.FileIndex.splice(ue,1),ee.FullPaths.splice(ue,1),!0}return!1}function Fr(ee,de,le){A(ee);var ue=xr.find(ee,de);if(ue){for(var pe=0;pe<ee.FileIndex.length;++pe)if(ee.FileIndex[pe]==ue)return ee.FileIndex[pe].name=i(le),ee.FullPaths[pe]=le,!0}return!1}function an(ee){C(ee,!0)}return t.find=N,t.read=F,t.parse=u,t.write=W,t.writeFile=ie,t.utils={cfb_new:Na,cfb_add:Kn,cfb_del:_i,cfb_mov:Fr,cfb_gc:an,ReadShift:ah,CheckField:DS,prep_blob:Vi,bconcat:$n,use_zlib:k,_deflateRaw:Ye,_inflateRaw:Bt,consts:ne},t}();function T9(e){return typeof e=="string"?N1(e):Array.isArray(e)?e9(e):e}function rd(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=N1(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?Rh(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var i=new Blob([T9(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,e);if(typeof saveAs<"u")return saveAs(i,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var a=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),chrome.downloads.download({url:a,filename:e,saveAs:!0});var s=document.createElement("a");if(s.download!=null)return s.download=e,s.href=a,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),a}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(e);return o.open("w"),o.encoding="binary",Array.isArray(t)&&(t=td(t)),o.write(t),o.close(),t}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+e)}function Gn(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function Yb(e,t){for(var r=[],n=Gn(e),i=0;i!==n.length;++i)r[e[n[i]][t]]==null&&(r[e[n[i]][t]]=n[i]);return r}function xx(e){for(var t=[],r=Gn(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function E1(e){for(var t=[],r=Gn(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function j9(e){for(var t=[],r=Gn(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var Op=new Date(1899,11,30,0,0,0);function Ci(e,t){var r=e.getTime(),n=Op.getTime()+(e.getTimezoneOffset()-Op.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var _S=new Date,O9=Op.getTime()+(_S.getTimezoneOffset()-Op.getTimezoneOffset())*6e4,Xb=_S.getTimezoneOffset();function bS(e){var t=new Date;return t.setTime(e*24*60*60*1e3+O9),t.getTimezoneOffset()!==Xb&&t.setTime(t.getTime()+(t.getTimezoneOffset()-Xb)*6e4),t}var Zb=new Date("2017-02-19T19:06:09.000Z"),wS=isNaN(Zb.getFullYear())?new Date("2/19/17"):Zb,C9=wS.getFullYear()==2017;function vi(e,t){var r=new Date(e);if(C9)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(wS.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var i=e.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return e.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function A1(e,t){if(ar&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder<"u")try{var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(a){return r[a]||a})}catch{}for(var n=[],i=0;i!=e.length;++i)n.push(String.fromCharCode(e[i]));return n.join("")}function Li(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=Li(e[r]));return t}function Vr(e,t){for(var r="";r.length<t;)r+=e;return r}function Ys(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(i,a){return r=-r,a}),!isNaN(t=Number(n)))?t/r:t}var L9=["january","february","march","april","may","june","july","august","september","october","november","december"];function Ih(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),i=t.getMonth(),a=t.getDate();if(isNaN(a))return r;var s=e.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&L9.indexOf(s)==-1)return r}else if(s.match(/[a-z]/))return r;return n<0||n>8099?r:(i>0||a>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}function Vt(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return ar?n=ao(r):n=t9(r),xr.utils.cfb_add(e,t,n)}xr.utils.cfb_add(e,t,r)}else e.file(t,r)}function yx(){return xr.utils.cfb_new()}var dn=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,P9={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},_x=xx(P9),bx=/[&<>'"]/g,F9=/[\u0000-\u0008\u000b-\u001f]/g;function pr(e){var t=e+"";return t.replace(bx,function(r){return _x[r]}).replace(F9,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function Jb(e){return pr(e).replace(/ /g,"_x0020_")}var NS=/[\u0000-\u001f]/g;function I9(e){var t=e+"";return t.replace(bx,function(r){return _x[r]}).replace(/\n/g,"<br/>").replace(NS,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function R9(e){var t=e+"";return t.replace(bx,function(r){return _x[r]}).replace(NS,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function D9(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function M9(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Qm(e){for(var t="",r=0,n=0,i=0,a=0,s=0,o=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(i=e.charCodeAt(r++),n>191&&n<224){s=(n&31)<<6,s|=i&63,t+=String.fromCharCode(s);continue}if(a=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(i&63)<<6|a&63);continue}s=e.charCodeAt(r++),o=((n&7)<<18|(i&63)<<12|(a&63)<<6|s&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function Qb(e){var t=Jl(2*e.length),r,n,i=1,a=0,s=0,o;for(n=0;n<e.length;n+=i)i=1,(o=e.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(e.charCodeAt(n+1)&63),i=2):o<240?(r=(o&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),i=3):(i=4,r=(o&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,s=55296+(r>>>10&1023),r=56320+(r&1023)),s!==0&&(t[a++]=s&255,t[a++]=s>>>8,s=0),t[a++]=r%256,t[a++]=r>>>8;return t.slice(0,a).toString("ucs2")}function e5(e){return ao(e,"binary").toString("utf8")}var h0="foo bar baz",ih=ar&&(e5(h0)==Qm(h0)&&e5||Qb(h0)==Qm(h0)&&Qb)||Qm,Rh=ar?function(e){return ao(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,i=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,i=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(i>>18&7))),t.push(String.fromCharCode(144+(i>>12&63))),t.push(String.fromCharCode(128+(i>>6&63))),t.push(String.fromCharCode(128+(i&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},B9=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<e.length;++i)n=n.replace(e[i][0],e[i][1]);return n}}(),SS=/(^\s|\s$|\n)/;function zn(e,t){return"<"+e+(t.match(SS)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function Dh(e){return Gn(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function st(e,t,r){return"<"+e+(r!=null?Dh(r):"")+(t!=null?(t.match(SS)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function Hv(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function U9(e,t){switch(typeof e){case"string":var r=st("vt:lpwstr",pr(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return st((e|0)==e?"vt:i4":"vt:r8",pr(String(e)));case"boolean":return st("vt:bool",e?"true":"false")}if(e instanceof Date)return st("vt:filetime",Hv(e));throw new Error("Unable to serialize "+e)}var jn={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},zu=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Gi={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function q9(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),i=e[t+6]&15,a=5;a>=0;--a)i=i*256+e[t+a];return n==2047?i==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,i+=Math.pow(2,52)),r*Math.pow(2,n-52)*i)}function $9(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,i=0,a=0,s=n?-t:t;isFinite(s)?s==0?i=a=0:(i=Math.floor(Math.log(s)/Math.LN2),a=s*Math.pow(2,52-i),i<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?i=-1022:(a-=Math.pow(2,52),i+=1023)):(i=2047,a=isNaN(t)?26985:0);for(var o=0;o<=5;++o,a/=256)e[r+o]=a&255;e[r+6]=(i&15)<<4|a&15,e[r+7]=i>>4|n}var t5=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var i=0,a=e[0][n].length;i<a;i+=r)t.push.apply(t,e[0][n].slice(i,i+r));return t},r5=ar?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:ao(t)})):t5(e)}:t5,n5=function(e,t,r){for(var n=[],i=t;i<r;i+=2)n.push(String.fromCharCode($f(e,i)));return n.join("").replace(nh,"")},wx=ar?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(nh,""):n5(e,t,r)}:n5,i5=function(e,t,r){for(var n=[],i=t;i<t+r;++i)n.push(("0"+e[i].toString(16)).slice(-2));return n.join("")},kS=ar?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):i5(e,t,r)}:i5,a5=function(e,t,r){for(var n=[],i=t;i<r;i++)n.push(String.fromCharCode(Bc(e,i)));return n.join("")},nd=ar?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):a5(t,r,n)}:a5,ES=function(e,t){var r=Ki(e,t);return r>0?nd(e,t+4,t+4+r-1):""},AS=ES,TS=function(e,t){var r=Ki(e,t);return r>0?nd(e,t+4,t+4+r-1):""},jS=TS,OS=function(e,t){var r=2*Ki(e,t);return r>0?nd(e,t+4,t+4+r-1):""},CS=OS,LS=function(t,r){var n=Ki(t,r);return n>0?wx(t,r+4,r+4+n):""},PS=LS,FS=function(e,t){var r=Ki(e,t);return r>0?nd(e,t+4,t+4+r):""},IS=FS,RS=function(e,t){return q9(e,t)},Cp=RS,Nx=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};ar&&(AS=function(t,r){if(!Buffer.isBuffer(t))return ES(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},jS=function(t,r){if(!Buffer.isBuffer(t))return TS(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},CS=function(t,r){if(!Buffer.isBuffer(t))return OS(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},PS=function(t,r){if(!Buffer.isBuffer(t))return LS(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},IS=function(t,r){if(!Buffer.isBuffer(t))return FS(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},Cp=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):RS(t,r)},Nx=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Bc=function(e,t){return e[t]},$f=function(e,t){return e[t+1]*256+e[t]},z9=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Ki=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Il=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},H9=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function ah(e,t){var r="",n,i,a=[],s,o,l,c;switch(t){case"dbcs":if(c=this.l,ar&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(l=0;l<e;++l)r+=String.fromCharCode($f(this,c)),c+=2;e*=2;break;case"utf8":r=nd(this,this.l,this.l+e);break;case"utf16le":e*=2,r=wx(this,this.l,this.l+e);break;case"wstr":return ah.call(this,e,"dbcs");case"lpstr-ansi":r=AS(this,this.l),e=4+Ki(this,this.l);break;case"lpstr-cp":r=jS(this,this.l),e=4+Ki(this,this.l);break;case"lpwstr":r=CS(this,this.l),e=4+2*Ki(this,this.l);break;case"lpp4":e=4+Ki(this,this.l),r=PS(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Ki(this,this.l),r=IS(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(s=Bc(this,this.l+e++))!==0;)a.push(c0(s));r=a.join("");break;case"_wstr":for(e=0,r="";(s=$f(this,this.l+e))!==0;)a.push(c0(s)),e+=2;e+=2,r=a.join("");break;case"dbcs-cont":for(r="",c=this.l,l=0;l<e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return s=Bc(this,c),this.l=c+1,o=ah.call(this,e-l,s?"dbcs-cont":"sbcs-cont"),a.join("")+o;a.push(c0($f(this,c))),c+=2}r=a.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",c=this.l,l=0;l!=e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return s=Bc(this,c),this.l=c+1,o=ah.call(this,e-l,s?"dbcs-cont":"sbcs-cont"),a.join("")+o;a.push(c0(Bc(this,c))),c+=1}r=a.join("");break;default:switch(e){case 1:return n=Bc(this,this.l),this.l++,n;case 2:return n=(t==="i"?z9:$f)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?Il:H9)(this,this.l),this.l+=4,n):(i=Ki(this,this.l),this.l+=4,i);case 8:case-8:if(t==="f")return e==8?i=Cp(this,this.l):i=Cp([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;e=8;case 16:r=kS(this,this.l,e);break}}return this.l+=e,r}var W9=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},V9=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},G9=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function K9(e,t,r){var n=0,i=0;if(r==="dbcs"){for(i=0;i!=t.length;++i)G9(this,t.charCodeAt(i),this.l+2*i);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=t.length;++i)this[this.l+i]=t.charCodeAt(i)&255;n=t.length}else if(r==="hex"){for(;i<e;++i)this[this.l++]=parseInt(t.slice(2*i,2*i+2),16)||0;return this}else if(r==="utf16le"){var a=Math.min(this.l+e,this.length);for(i=0;i<Math.min(t.length,e);++i){var s=t.charCodeAt(i);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<a;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,W9(this,t,this.l);break;case 8:if(n=8,r==="f"){$9(this,t,this.l);break}case 16:break;case-4:n=4,V9(this,t,this.l);break}return this.l+=n,this}function DS(e,t){var r=kS(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Vi(e,t){e.l=t,e.read_shift=ah,e.chk=DS,e.write_shift=K9}function xs(e,t){e.l+=t}function ze(e){var t=Jl(e);return Vi(t,0),t}function Oi(){var e=[],t=ar?256:2048,r=function(c){var u=ze(c);return Vi(u,0),u},n=r(t),i=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},a=function(c){return n&&c<n.length-n.l?n:(i(),n=r(Math.max(c+1,t)))},s=function(){return i(),$n(e)},o=function(c){i(),n=c,n.l==null&&(n.l=n.length),a(t)};return{next:a,push:o,end:s,_bufs:e}}function Ze(e,t,r,n){var i=+t,a;if(!isNaN(i)){n||(n=q$[i].p||(r||[]).length||0),a=1+(i>=128?1:0)+1,n>=128&&++a,n>=16384&&++a,n>=2097152&&++a;var s=e.next(a);i<=127?s.write_shift(1,i):(s.write_shift(1,(i&127)+128),s.write_shift(1,i>>7));for(var o=0;o!=4;++o)if(n>=128)s.write_shift(1,(n&127)+128),n>>=7;else{s.write_shift(1,n);break}n>0&&Nx(r)&&e.push(r)}}function sh(e,t,r){var n=Li(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function s5(e,t,r){var n=Li(e);return n.s=sh(n.s,t.s,r),n.e=sh(n.e,t.s,r),n}function oh(e,t){if(e.cRel&&e.c<0)for(e=Li(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Li(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=gr(e);return!e.cRel&&e.cRel!=null&&(r=Z9(r)),!e.rRel&&e.rRel!=null&&(r=Y9(r)),r}function eg(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+ni(e.s.c)+":"+(e.e.cRel?"":"$")+ni(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Wn(e.s.r)+":"+(e.e.rRel?"":"$")+Wn(e.e.r):oh(e.s,t.biff)+":"+oh(e.e,t.biff)}function Sx(e){return parseInt(X9(e),10)-1}function Wn(e){return""+(e+1)}function Y9(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function X9(e){return e.replace(/\$(\d+)$/,"$1")}function kx(e){for(var t=J9(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function ni(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function Z9(e){return e.replace(/^([A-Z])/,"$$$1")}function J9(e){return e.replace(/^\$([A-Z])/,"$1")}function Q9(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function On(e){for(var t=0,r=0,n=0;n<e.length;++n){var i=e.charCodeAt(n);i>=48&&i<=57?t=10*t+(i-48):i>=65&&i<=90&&(r=26*r+(i-64))}return{c:r-1,r:t-1}}function gr(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function ea(e){var t=e.indexOf(":");return t==-1?{s:On(e),e:On(e)}:{s:On(e.slice(0,t)),e:On(e.slice(t+1))}}function hn(e,t){return typeof t>"u"||typeof t=="number"?hn(e.s,e.e):(typeof e!="string"&&(e=gr(e)),typeof t!="string"&&(t=gr(t)),e==t?e:e+":"+t)}function Pr(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,i=0,a=e.length;for(r=0;n<a&&!((i=e.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(t.s.c=--r,r=0;n<a&&!((i=e.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;if(t.s.r=--r,n===a||i!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=a&&!((i=e.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(t.e.c=--r,r=0;n!=a&&!((i=e.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;return t.e.r=--r,t}function o5(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=nl(e.z,r?Ci(t):t)}catch{}try{return e.w=nl((e.XF||{}).numFmtId||(r?14:0),r?Ci(t):t)}catch{return""+t}}function ro(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?id[e.v]||e.v:t==null?o5(e,e.v):o5(e,t))}function oc(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function MS(e,t,r){var n=r||{},i=e?Array.isArray(e):n.dense,a=e||(i?[]:{}),s=0,o=0;if(a&&n.origin!=null){if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?On(n.origin):n.origin;s=l.r,o=l.c}a["!ref"]||(a["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var u=Pr(a["!ref"]);c.s.c=u.s.c,c.s.r=u.s.r,c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),s==-1&&(c.e.r=s=u.e.r+1)}for(var d=0;d!=t.length;++d)if(t[d]){if(!Array.isArray(t[d]))throw new Error("aoa_to_sheet expects an array of arrays");for(var p=0;p!=t[d].length;++p)if(!(typeof t[d][p]>"u")){var h={v:t[d][p]},y=s+d,m=o+p;if(c.s.r>y&&(c.s.r=y),c.s.c>m&&(c.s.c=m),c.e.r<y&&(c.e.r=y),c.e.c<m&&(c.e.c=m),t[d][p]&&typeof t[d][p]=="object"&&!Array.isArray(t[d][p])&&!(t[d][p]instanceof Date))h=t[d][p];else if(Array.isArray(h.v)&&(h.f=t[d][p][1],h.v=h.v[0]),h.v===null)if(h.f)h.t="n";else if(n.nullError)h.t="e",h.v=0;else if(n.sheetStubs)h.t="z";else continue;else typeof h.v=="number"?h.t="n":typeof h.v=="boolean"?h.t="b":h.v instanceof Date?(h.z=n.dateNF||Gr[14],n.cellDates?(h.t="d",h.w=nl(h.z,Ci(h.v))):(h.t="n",h.v=Ci(h.v),h.w=nl(h.z,h.v))):h.t="s";if(i)a[y]||(a[y]=[]),a[y][m]&&a[y][m].z&&(h.z=a[y][m].z),a[y][m]=h;else{var x=gr({c:m,r:y});a[x]&&a[x].z&&(h.z=a[x].z),a[x]=h}}}return c.s.c<1e7&&(a["!ref"]=hn(c)),a}function Hu(e,t){return MS(null,e,t)}function eD(e){return e.read_shift(4,"i")}function za(e,t){return t||(t=ze(4)),t.write_shift(4,e),t}function ii(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function Cn(e,t){var r=!1;return t==null&&(r=!0,t=ze(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function tD(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function rD(e,t){return t||(t=ze(4)),t.write_shift(2,0),t.write_shift(2,0),t}function Ex(e,t){var r=e.l,n=e.read_shift(1),i=ii(e),a=[],s={t:i,h:i};if(n&1){for(var o=e.read_shift(4),l=0;l!=o;++l)a.push(tD(e));s.r=a}else s.r=[{ich:0,ifnt:0}];return e.l=r+t,s}function nD(e,t){var r=!1;return t==null&&(r=!0,t=ze(15+4*e.t.length)),t.write_shift(1,0),Cn(e.t,t),r?t.slice(0,t.l):t}var iD=Ex;function aD(e,t){var r=!1;return t==null&&(r=!0,t=ze(23+4*e.t.length)),t.write_shift(1,1),Cn(e.t,t),t.write_shift(4,1),rD({ich:0,ifnt:0},t),r?t.slice(0,t.l):t}function _a(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function lc(e,t){return t==null&&(t=ze(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function cc(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function uc(e,t){return t==null&&(t=ze(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var sD=ii,BS=Cn;function Ax(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function Lp(e,t){var r=!1;return t==null&&(r=!0,t=ze(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var oD=ii,Wv=Ax,Tx=Lp;function US(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var i=n===0?Cp([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Il(t,0)>>2;return r?i/100:i}function qS(e,t){t==null&&(t=ze(4));var r=0,n=0,i=e*100;if(e==(e|0)&&e>=-(1<<29)&&e<1<<29?n=1:i==(i|0)&&i>=-(1<<29)&&i<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?i:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function $S(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function lD(e,t){return t||(t=ze(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var fc=$S,Wu=lD;function Vu(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Ql(e,t){return(t||ze(8)).write_shift(8,e,"f")}function cD(e){var t={},r=e.read_shift(1),n=r>>>1,i=e.read_shift(1),a=e.read_shift(2,"i"),s=e.read_shift(1),o=e.read_shift(1),l=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=i;var c=xD[i];c&&(t.rgb=x5(c));break;case 2:t.rgb=x5([s,o,l]);break;case 3:t.theme=i;break}return a!=0&&(t.tint=a>0?a/32767:a/32768),t}function Pp(e,t){if(t||(t=ze(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function uD(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function fD(e,t){t||(t=ze(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}var zS=2,Hi=3,d0=11,Fp=19,p0=64,hD=65,dD=71,pD=4108,mD=4126,qn=80,l5={1:{n:"CodePage",t:zS},2:{n:"Category",t:qn},3:{n:"PresentationFormat",t:qn},4:{n:"ByteCount",t:Hi},5:{n:"LineCount",t:Hi},6:{n:"ParagraphCount",t:Hi},7:{n:"SlideCount",t:Hi},8:{n:"NoteCount",t:Hi},9:{n:"HiddenCount",t:Hi},10:{n:"MultimediaClipCount",t:Hi},11:{n:"ScaleCrop",t:d0},12:{n:"HeadingPairs",t:pD},13:{n:"TitlesOfParts",t:mD},14:{n:"Manager",t:qn},15:{n:"Company",t:qn},16:{n:"LinksUpToDate",t:d0},17:{n:"CharacterCount",t:Hi},19:{n:"SharedDoc",t:d0},22:{n:"HyperlinksChanged",t:d0},23:{n:"AppVersion",t:Hi,p:"version"},24:{n:"DigSig",t:hD},26:{n:"ContentType",t:qn},27:{n:"ContentStatus",t:qn},28:{n:"Language",t:qn},29:{n:"Version",t:qn},255:{},2147483648:{n:"Locale",t:Fp},2147483651:{n:"Behavior",t:Fp},1919054434:{}},c5={1:{n:"CodePage",t:zS},2:{n:"Title",t:qn},3:{n:"Subject",t:qn},4:{n:"Author",t:qn},5:{n:"Keywords",t:qn},6:{n:"Comments",t:qn},7:{n:"Template",t:qn},8:{n:"LastAuthor",t:qn},9:{n:"RevNumber",t:qn},10:{n:"EditTime",t:p0},11:{n:"LastPrinted",t:p0},12:{n:"CreatedDate",t:p0},13:{n:"ModifiedDate",t:p0},14:{n:"PageCount",t:Hi},15:{n:"WordCount",t:Hi},16:{n:"CharCount",t:Hi},17:{n:"Thumbnail",t:dD},18:{n:"Application",t:qn},19:{n:"DocSecurity",t:Hi},255:{},2147483648:{n:"Locale",t:Fp},2147483651:{n:"Behavior",t:Fp},1919054434:{}};function gD(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var vD=gD([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),xD=Li(vD),id={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},yD={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},m0={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function HS(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function WS(e,t){var r=j9(yD),n=[],i;n[n.length]=dn,n[n.length]=st("Types",null,{xmlns:jn.CT,"xmlns:xsd":jn.xsd,"xmlns:xsi":jn.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return st("Default",null,{Extension:l[0],ContentType:l[1]})}));var a=function(l){e[l]&&e[l].length>0&&(i=e[l][0],n[n.length]=st("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:m0[l][t.bookType]||m0[l].xlsx}))},s=function(l){(e[l]||[]).forEach(function(c){n[n.length]=st("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:m0[l][t.bookType]||m0[l].xlsx})})},o=function(l){(e[l]||[]).forEach(function(c){n[n.length]=st("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:r[l][0]})})};return a("workbooks"),s("sheets"),s("charts"),o("themes"),["strs","styles"].forEach(a),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),s("metadata"),o("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var nr={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function VS(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function cu(e){var t=[dn,st("Relationships",null,{xmlns:jn.RELS})];return Gn(e["!id"]).forEach(function(r){t[t.length]=st("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function hr(e,t,r,n,i,a){if(i||(i={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,i.Id="rId"+t,i.Type=n,i.Target=r,[nr.HLINK,nr.XPATH,nr.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),e["!id"][i.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][i.Id]=i,e[("/"+i.Target).replace("//","/")]=i,t}function _D(e){var t=[dn];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function u5(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function bD(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function wD(e){var t=[dn];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(u5(e[r][0],e[r][1])),t.push(bD("",e[r][0]));return t.push(u5("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function GS(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Ep.version+"</meta:generator></office:meta></office:document-meta>"}var Wl=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function tg(e,t,r,n,i){i[e]!=null||t==null||t===""||(i[e]=t,t=pr(t),n[n.length]=r?st(e,t,r):zn(e,t))}function KS(e,t){var r=t||{},n=[dn,st("cp:coreProperties",null,{"xmlns:cp":jn.CORE_PROPS,"xmlns:dc":jn.dc,"xmlns:dcterms":jn.dcterms,"xmlns:dcmitype":jn.dcmitype,"xmlns:xsi":jn.xsi})],i={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&tg("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:Hv(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i),e.ModifiedDate!=null&&tg("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:Hv(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i));for(var a=0;a!=Wl.length;++a){var s=Wl[a],o=r.Props&&r.Props[s[1]]!=null?r.Props[s[1]]:e?e[s[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&tg(s[0],o,null,n,i)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var uu=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],YS=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function XS(e){var t=[],r=st;return e||(e={}),e.Application="SheetJS",t[t.length]=dn,t[t.length]=st("Properties",null,{xmlns:jn.EXT_PROPS,"xmlns:vt":jn.vt}),uu.forEach(function(n){if(e[n[1]]!==void 0){var i;switch(n[2]){case"string":i=pr(String(e[n[1]]));break;case"bool":i=e[n[1]]?"true":"false";break}i!==void 0&&(t[t.length]=r(n[0],i))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+pr(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function ZS(e){var t=[dn,st("Properties",null,{xmlns:jn.CUST_PROPS,"xmlns:vt":jn.vt})];if(!e)return t.join("");var r=1;return Gn(e).forEach(function(i){++r,t[t.length]=st("property",U9(e[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:pr(i)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var f5={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function ND(e,t){var r=[];return Gn(f5).map(function(n){for(var i=0;i<Wl.length;++i)if(Wl[i][1]==n)return Wl[i];for(i=0;i<uu.length;++i)if(uu[i][1]==n)return uu[i];throw n}).forEach(function(n){if(e[n[1]]!=null){var i=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),r.push(zn(f5[n[1]]||n[1],i))}}),st("DocumentProperties",r.join(""),{xmlns:Gi.o})}function SD(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",i=[];return e&&Gn(e).forEach(function(a){if(Object.prototype.hasOwnProperty.call(e,a)){for(var s=0;s<Wl.length;++s)if(a==Wl[s][1])return;for(s=0;s<uu.length;++s)if(a==uu[s][1])return;for(s=0;s<r.length;++s)if(a==r[s])return;var o=e[a],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o=String(o),i.push(st(Jb(a),o,{"dt:dt":l}))}}),t&&Gn(t).forEach(function(a){if(Object.prototype.hasOwnProperty.call(t,a)&&!(e&&Object.prototype.hasOwnProperty.call(e,a))){var s=t[a],o="string";typeof s=="number"?(o="float",s=String(s)):s===!0||s===!1?(o="boolean",s=s?"1":"0"):s instanceof Date?(o="dateTime.tz",s=s.toISOString()):s=String(s),i.push(st(Jb(a),s,{"dt:dt":o}))}}),"<"+n+' xmlns="'+Gi.o+'">'+i.join("")+"</"+n+">"}function kD(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),i=(r-n)/Math.pow(2,32);n*=1e7,i*=1e7;var a=n/Math.pow(2,32)|0;a>0&&(n=n%Math.pow(2,32),i+=a);var s=ze(8);return s.write_shift(4,n),s.write_shift(4,i),s}function h5(e,t){var r=ze(4),n=ze(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=ze(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=kD(t);break;case 31:case 80:for(n=ze(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return $n([r,n])}var JS=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function ED(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function d5(e,t,r){var n=ze(8),i=[],a=[],s=8,o=0,l=ze(8),c=ze(8);if(l.write_shift(4,2),l.write_shift(4,1200),c.write_shift(4,1),a.push(l),i.push(c),s+=8+l.length,!t){c=ze(8),c.write_shift(4,0),i.unshift(c);var u=[ze(4)];for(u[0].write_shift(4,e.length),o=0;o<e.length;++o){var d=e[o][0];for(l=ze(8+2*(d.length+1)+(d.length%2?0:2)),l.write_shift(4,o+2),l.write_shift(4,d.length+1),l.write_shift(0,d,"dbcs");l.l!=l.length;)l.write_shift(1,0);u.push(l)}l=$n(u),a.unshift(l),s+=8+l.length}for(o=0;o<e.length;++o)if(!(t&&!t[e[o][0]])&&!(JS.indexOf(e[o][0])>-1||YS.indexOf(e[o][0])>-1)&&e[o][1]!=null){var p=e[o][1],h=0;if(t){h=+t[e[o][0]];var y=r[h];if(y.p=="version"&&typeof p=="string"){var m=p.split(".");p=(+m[0]<<16)+(+m[1]||0)}l=h5(y.t,p)}else{var x=ED(p);x==-1&&(x=31,p=String(p)),l=h5(x,p)}a.push(l),c=ze(8),c.write_shift(4,t?h:2+o),i.push(c),s+=8+l.length}var g=8*(a.length+1);for(o=0;o<a.length;++o)i[o].write_shift(4,g),g+=a[o].length;return n.write_shift(4,s),n.write_shift(4,a.length),$n([n].concat(i).concat(a))}function p5(e,t,r,n,i,a){var s=ze(i?68:48),o=[s];s.write_shift(2,65534),s.write_shift(2,0),s.write_shift(4,842412599),s.write_shift(16,xr.utils.consts.HEADER_CLSID,"hex"),s.write_shift(4,i?2:1),s.write_shift(16,t,"hex"),s.write_shift(4,i?68:48);var l=d5(e,r,n);if(o.push(l),i){var c=d5(i,null,null);s.write_shift(16,a,"hex"),s.write_shift(4,68+l.length),o.push(c)}return $n(o)}function AD(e,t){t||(t=ze(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function TD(e,t){return e.read_shift(t)===1}function pi(e,t){return t||(t=ze(2)),t.write_shift(2,+!!e),t}function QS(e){return e.read_shift(2,"u")}function fa(e,t){return t||(t=ze(2)),t.write_shift(2,e),t}function e6(e,t,r){return r||(r=ze(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function t6(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),i="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var a=e.read_shift(1);a&&(i="dbcs-cont")}else r.biff==12&&(i="wstr");r.biff>=2&&r.biff<=5&&(i="cpstr");var s=n?e.read_shift(n,i):"";return s}function jD(e){var t=e.t||"",r=ze(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=ze(2*t.length);n.write_shift(2*t.length,t,"utf16le");var i=[r,n];return $n(i)}function OD(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var i=e.read_shift(1);return i===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function CD(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):OD(e,n,r)}function LD(e,t,r){if(r.biff>5)return CD(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function r6(e,t,r){return r||(r=ze(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function m5(e,t){t||(t=ze(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function PD(e){var t=ze(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var i=n.indexOf("#"),a=i>-1?31:23;switch(n.charAt(0)){case"#":a=28;break;case".":a&=-3;break}t.write_shift(4,2),t.write_shift(4,a);var s=[8,6815827,6619237,4849780,83];for(r=0;r<s.length;++r)t.write_shift(4,s[r]);if(a==28)n=n.slice(1),m5(n,t);else if(a&2){for(s="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<s.length;++r)t.write_shift(1,parseInt(s[r],16));var o=i>-1?n.slice(0,i):n;for(t.write_shift(4,2*(o.length+1)),r=0;r<o.length;++r)t.write_shift(2,o.charCodeAt(r));t.write_shift(2,0),a&8&&m5(i>-1?n.slice(i+1):"",t)}else{for(s="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<s.length;++r)t.write_shift(1,parseInt(s[r],16));for(var l=0;n.slice(l*3,l*3+3)=="../"||n.slice(l*3,l*3+3)=="..\\";)++l;for(t.write_shift(2,l),t.write_shift(4,n.length-3*l+1),r=0;r<n.length-3*l;++r)t.write_shift(1,n.charCodeAt(r+3*l)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function ec(e,t,r,n){return n||(n=ze(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function FD(e,t,r){var n=r.biff>8?4:2,i=e.read_shift(n),a=e.read_shift(n,"i"),s=e.read_shift(n,"i");return[i,a,s]}function ID(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2);return{s:{c:n,r:t},e:{c:i,r}}}function n6(e,t){return t||(t=ze(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function jx(e,t,r){var n=1536,i=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,i=8;break;case"biff4":n=4,i=6;break;case"biff3":n=3,i=6;break;case"biff2":n=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var a=ze(i);return a.write_shift(2,n),a.write_shift(2,t),i>4&&a.write_shift(2,29282),i>6&&a.write_shift(2,1997),i>8&&(a.write_shift(2,49161),a.write_shift(2,1),a.write_shift(2,1798),a.write_shift(2,0)),a}function RD(e,t){var r=!t||t.biff==8,n=ze(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function DD(e,t){var r=!t||t.biff>=8?2:1,n=ze(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var i=n.slice(0,n.l);return i.l=n.l,i}function MD(e,t){var r=ze(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],i=0;i<e.length;++i)n[i]=jD(e[i]);var a=$n([r].concat(n));return a.parts=[r.length].concat(n.map(function(s){return s.length})),a}function BD(){var e=ze(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function UD(e){var t=ze(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function qD(e,t){var r=e.name||"Arial",n=t&&t.biff==5,i=n?15+r.length:16+2*r.length,a=ze(i);return a.write_shift(2,(e.sz||12)*20),a.write_shift(4,0),a.write_shift(2,400),a.write_shift(4,0),a.write_shift(2,0),a.write_shift(1,r.length),n||a.write_shift(1,1),a.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),a}function $D(e,t,r,n){var i=ze(10);return ec(e,t,n,i),i.write_shift(4,r),i}function zD(e,t,r,n,i){var a=!i||i.biff==8,s=ze(8+ +a+(1+a)*r.length);return ec(e,t,n,s),s.write_shift(2,r.length),a&&s.write_shift(1,1),s.write_shift((1+a)*r.length,r,a?"utf16le":"sbcs"),s}function HD(e,t,r,n){var i=r&&r.biff==5;n||(n=ze(i?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(i?1:2,t.length),i||n.write_shift(1,1),n.write_shift((i?1:2)*t.length,t,i?"sbcs":"utf16le");var a=n.length>n.l?n.slice(0,n.l):n;return a.l==null&&(a.l=a.length),a}function WD(e,t){var r=t.biff==8||!t.biff?4:2,n=ze(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function g5(e,t,r,n){var i=r&&r.biff==5;n||(n=ze(i?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var a=0;return e.numFmtId>0&&i&&(a|=1024),n.write_shift(4,a),n.write_shift(4,0),i||n.write_shift(4,0),n.write_shift(2,0),n}function VD(e){var t=ze(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function GD(e,t,r,n,i,a){var s=ze(8);return ec(e,t,n,s),e6(r,a,s),s}function KD(e,t,r,n){var i=ze(14);return ec(e,t,n,i),Ql(r,i),i}function YD(e,t,r){if(r.biff<8)return XD(e,t,r);for(var n=[],i=e.l+t,a=e.read_shift(r.biff>8?4:2);a--!==0;)n.push(FD(e,r.biff>8?12:6,r));if(e.l!=i)throw new Error("Bad ExternSheet: "+e.l+" != "+i);return n}function XD(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=t6(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function ZD(e){var t=ze(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)n6(e[r],t);return t}function JD(e){var t=ze(24),r=On(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)t.write_shift(1,parseInt(n[i],16));return $n([t,PD(e[1])])}function QD(e){var t=e[1].Tooltip,r=ze(10+2*(t.length+1));r.write_shift(2,2048);var n=On(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var i=0;i<t.length;++i)r.write_shift(2,t.charCodeAt(i));return r.write_shift(2,0),r}function eM(e){return e||(e=ze(4)),e.write_shift(2,1),e.write_shift(2,1),e}function tM(e,t,r){if(!r.cellStyles)return xs(e,t);var n=r&&r.biff>=12?4:2,i=e.read_shift(n),a=e.read_shift(n),s=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(2);n==2&&(e.l+=2);var c={s:i,e:a,w:s,ixfe:o,flags:l};return(r.biff>=5||!r.biff)&&(c.level=l>>8&7),c}function rM(e,t){var r=ze(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function nM(e){for(var t=ze(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}function iM(e,t,r){var n=ze(15);return sd(n,e,t),n.write_shift(8,r,"f"),n}function aM(e,t,r){var n=ze(9);return sd(n,e,t),n.write_shift(2,r),n}var sM=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=xx({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,l){var c=[],u=Jl(1);switch(l.type){case"base64":u=Ba(to(o));break;case"binary":u=Ba(o);break;case"buffer":case"array":u=o;break}Vi(u,0);var d=u.read_shift(1),p=!!(d&136),h=!1,y=!1;switch(d){case 2:break;case 3:break;case 48:h=!0,p=!0;break;case 49:h=!0,p=!0;break;case 131:break;case 139:break;case 140:y=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+d.toString(16))}var m=0,x=521;d==2&&(m=u.read_shift(2)),u.l+=3,d!=2&&(m=u.read_shift(4)),m>1048576&&(m=1e6),d!=2&&(x=u.read_shift(2));var g=u.read_shift(2),v=l.codepage||1252;d!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(v=e[u[u.l]]),u.l+=1,u.l+=2),y&&(u.l+=36);for(var b=[],_={},E=Math.min(u.length,d==2?521:x-10-(h?264:0)),F=y?32:11;u.l<E&&u[u.l]!=13;)switch(_={},_.name=Fl.utils.decode(v,u.slice(u.l,u.l+F)).replace(/[\u0000\r\n].*$/g,""),u.l+=F,_.type=String.fromCharCode(u.read_shift(1)),d!=2&&!y&&(_.offset=u.read_shift(4)),_.len=u.read_shift(1),d==2&&(_.offset=u.read_shift(2)),_.dec=u.read_shift(1),_.name.length&&b.push(_),d!=2&&(u.l+=y?13:14),_.type){case"B":(!h||_.len!=8)&&l.WTF&&console.log("Skipping "+_.name+":"+_.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+_.name+":"+_.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+_.type)}if(u[u.l]!==13&&(u.l=x-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=x;var A=0,O=0;for(c[0]=[],O=0;O!=b.length;++O)c[0][O]=b[O].name;for(;m-- >0;){if(u[u.l]===42){u.l+=g;continue}for(++u.l,c[++A]=[],O=0,O=0;O!=b.length;++O){var C=u.slice(u.l,u.l+b[O].len);u.l+=b[O].len,Vi(C,0);var L=Fl.utils.decode(v,C);switch(b[O].type){case"C":L.trim().length&&(c[A][O]=L.replace(/\s+$/,""));break;case"D":L.length===8?c[A][O]=new Date(+L.slice(0,4),+L.slice(4,6)-1,+L.slice(6,8)):c[A][O]=L;break;case"F":c[A][O]=parseFloat(L.trim());break;case"+":case"I":c[A][O]=y?C.read_shift(-4,"i")^2147483648:C.read_shift(4,"i");break;case"L":switch(L.trim().toUpperCase()){case"Y":case"T":c[A][O]=!0;break;case"N":case"F":c[A][O]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+L+"|")}break;case"M":if(!p)throw new Error("DBF Unexpected MEMO for type "+d.toString(16));c[A][O]="##MEMO##"+(y?parseInt(L.trim(),10):C.read_shift(4));break;case"N":L=L.replace(/\u0000/g,"").trim(),L&&L!="."&&(c[A][O]=+L||0);break;case"@":c[A][O]=new Date(C.read_shift(-8,"f")-621356832e5);break;case"T":c[A][O]=new Date((C.read_shift(4)-2440588)*864e5+C.read_shift(4));break;case"Y":c[A][O]=C.read_shift(4,"i")/1e4+C.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[A][O]=-C.read_shift(-8,"f");break;case"B":if(h&&b[O].len==8){c[A][O]=C.read_shift(8,"f");break}case"G":case"P":C.l+=b[O].len;break;case"0":if(b[O].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+b[O].type)}}}if(d!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=b,c}function n(o,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var u=Hu(r(o,c),c);return u["!cols"]=c.DBF.map(function(d){return{wch:d.len,DBF:d}}),delete c.DBF,u}function i(o,l){try{return oc(n(o,l),l)}catch(c){if(l&&l.WTF)throw c}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function s(o,l){var c=l||{};if(+c.codepage>=0&&Ph(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var u=Oi(),d=Bp(o,{header:1,raw:!0,cellDates:!0}),p=d[0],h=d.slice(1),y=o["!cols"]||[],m=0,x=0,g=0,v=1;for(m=0;m<p.length;++m){if(((y[m]||{}).DBF||{}).name){p[m]=y[m].DBF.name,++g;continue}if(p[m]!=null){if(++g,typeof p[m]=="number"&&(p[m]=p[m].toString(10)),typeof p[m]!="string")throw new Error("DBF Invalid column name "+p[m]+" |"+typeof p[m]+"|");if(p.indexOf(p[m])!==m){for(x=0;x<1024;++x)if(p.indexOf(p[m]+"_"+x)==-1){p[m]+="_"+x;break}}}}var b=Pr(o["!ref"]),_=[],E=[],F=[];for(m=0;m<=b.e.c-b.s.c;++m){var A="",O="",C=0,L=[];for(x=0;x<h.length;++x)h[x][m]!=null&&L.push(h[x][m]);if(L.length==0||p[m]==null){_[m]="?";continue}for(x=0;x<L.length;++x){switch(typeof L[x]){case"number":O="B";break;case"string":O="C";break;case"boolean":O="L";break;case"object":O=L[x]instanceof Date?"D":"C";break;default:O="C"}C=Math.max(C,String(L[x]).length),A=A&&A!=O?"C":O}C>250&&(C=250),O=((y[m]||{}).DBF||{}).type,O=="C"&&y[m].DBF.len>C&&(C=y[m].DBF.len),A=="B"&&O=="N"&&(A="N",F[m]=y[m].DBF.dec,C=y[m].DBF.len),E[m]=A=="C"||O=="N"?C:a[A]||0,v+=E[m],_[m]=A}var N=u.next(32);for(N.write_shift(4,318902576),N.write_shift(4,h.length),N.write_shift(2,296+32*g),N.write_shift(2,v),m=0;m<4;++m)N.write_shift(4,0);for(N.write_shift(4,0|(+t[aS]||3)<<8),m=0,x=0;m<p.length;++m)if(p[m]!=null){var j=u.next(32),T=(p[m].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);j.write_shift(1,T,"sbcs"),j.write_shift(1,_[m]=="?"?"C":_[m],"sbcs"),j.write_shift(4,x),j.write_shift(1,E[m]||a[_[m]]||0),j.write_shift(1,F[m]||0),j.write_shift(1,2),j.write_shift(4,0),j.write_shift(1,0),j.write_shift(4,0),j.write_shift(4,0),x+=E[m]||a[_[m]]||0}var B=u.next(264);for(B.write_shift(4,13),m=0;m<65;++m)B.write_shift(4,0);for(m=0;m<h.length;++m){var z=u.next(v);for(z.write_shift(1,0),x=0;x<p.length;++x)if(p[x]!=null)switch(_[x]){case"L":z.write_shift(1,h[m][x]==null?63:h[m][x]?84:70);break;case"B":z.write_shift(8,h[m][x]||0,"f");break;case"N":var Q="0";for(typeof h[m][x]=="number"&&(Q=h[m][x].toFixed(F[x]||0)),g=0;g<E[x]-Q.length;++g)z.write_shift(1,32);z.write_shift(1,Q,"sbcs");break;case"D":h[m][x]?(z.write_shift(4,("0000"+h[m][x].getFullYear()).slice(-4),"sbcs"),z.write_shift(2,("00"+(h[m][x].getMonth()+1)).slice(-2),"sbcs"),z.write_shift(2,("00"+h[m][x].getDate()).slice(-2),"sbcs")):z.write_shift(8,"00000000","sbcs");break;case"C":var ne=String(h[m][x]!=null?h[m][x]:"").slice(0,E[x]);for(z.write_shift(1,ne,"sbcs"),g=0;g<E[x]-ne.length;++g)z.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:i,to_sheet:n,from_sheet:s}}(),oM=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Gn(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(p,h){var y=e[h];return typeof y=="number"?Ub(y):y},n=function(p,h,y){var m=h.charCodeAt(0)-32<<4|y.charCodeAt(0)-48;return m==59?p:Ub(m)};e["|"]=254;function i(p,h){switch(h.type){case"base64":return a(to(p),h);case"binary":return a(p,h);case"buffer":return a(ar&&Buffer.isBuffer(p)?p.toString("binary"):td(p),h);case"array":return a(A1(p),h)}throw new Error("Unrecognized type "+h.type)}function a(p,h){var y=p.split(/[\n\r]+/),m=-1,x=-1,g=0,v=0,b=[],_=[],E=null,F={},A=[],O=[],C=[],L=0,N;for(+h.codepage>=0&&Ph(+h.codepage);g!==y.length;++g){L=0;var j=y[g].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),T=j.replace(/;;/g,"\0").split(";").map(function(U){return U.replace(/\u0000/g,";")}),B=T[0],z;if(j.length>0)switch(B){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":T[1].charAt(0)=="P"&&_.push(j.slice(3).replace(/;;/g,";"));break;case"C":var Q=!1,ne=!1,ie=!1,K=!1,W=-1,q=-1;for(v=1;v<T.length;++v)switch(T[v].charAt(0)){case"A":break;case"X":x=parseInt(T[v].slice(1))-1,ne=!0;break;case"Y":for(m=parseInt(T[v].slice(1))-1,ne||(x=0),N=b.length;N<=m;++N)b[N]=[];break;case"K":z=T[v].slice(1),z.charAt(0)==='"'?z=z.slice(1,z.length-1):z==="TRUE"?z=!0:z==="FALSE"?z=!1:isNaN(Ys(z))?isNaN(Ih(z).getDate())||(z=vi(z)):(z=Ys(z),E!==null&&vS(E)&&(z=bS(z))),Q=!0;break;case"E":K=!0;var k=aB(T[v].slice(1),{r:m,c:x});b[m][x]=[b[m][x],k];break;case"S":ie=!0,b[m][x]=[b[m][x],"S5S"];break;case"G":break;case"R":W=parseInt(T[v].slice(1))-1;break;case"C":q=parseInt(T[v].slice(1))-1;break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+j)}if(Q&&(b[m][x]&&b[m][x].length==2?b[m][x][0]=z:b[m][x]=z,E=null),ie){if(K)throw new Error("SYLK shared formula cannot have own formula");var I=W>-1&&b[W][q];if(!I||!I[1])throw new Error("SYLK shared formula cannot find base");b[m][x][1]=sB(I[1],{r:m-W,c:x-q})}break;case"F":var M=0;for(v=1;v<T.length;++v)switch(T[v].charAt(0)){case"X":x=parseInt(T[v].slice(1))-1,++M;break;case"Y":for(m=parseInt(T[v].slice(1))-1,N=b.length;N<=m;++N)b[N]=[];break;case"M":L=parseInt(T[v].slice(1))/20;break;case"F":break;case"G":break;case"P":E=_[parseInt(T[v].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(C=T[v].slice(1).split(" "),N=parseInt(C[0],10);N<=parseInt(C[1],10);++N)L=parseInt(C[2],10),O[N-1]=L===0?{hidden:!0}:{wch:L},Ox(O[N-1]);break;case"C":x=parseInt(T[v].slice(1))-1,O[x]||(O[x]={});break;case"R":m=parseInt(T[v].slice(1))-1,A[m]||(A[m]={}),L>0?(A[m].hpt=L,A[m].hpx=l6(L)):L===0&&(A[m].hidden=!0);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+j)}M<1&&(E=null);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+j)}}return A.length>0&&(F["!rows"]=A),O.length>0&&(F["!cols"]=O),h&&h.sheetRows&&(b=b.slice(0,h.sheetRows)),[b,F]}function s(p,h){var y=i(p,h),m=y[0],x=y[1],g=Hu(m,h);return Gn(x).forEach(function(v){g[v]=x[v]}),g}function o(p,h){return oc(s(p,h),h)}function l(p,h,y,m){var x="C;Y"+(y+1)+";X"+(m+1)+";K";switch(p.t){case"n":x+=p.v||0,p.f&&!p.F&&(x+=";E"+Lx(p.f,{r:y,c:m}));break;case"b":x+=p.v?"TRUE":"FALSE";break;case"e":x+=p.w||p.v;break;case"d":x+='"'+(p.w||p.v)+'"';break;case"s":x+='"'+p.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return x}function c(p,h){h.forEach(function(y,m){var x="F;W"+(m+1)+" "+(m+1)+" ";y.hidden?x+="0":(typeof y.width=="number"&&!y.wpx&&(y.wpx=Ip(y.width)),typeof y.wpx=="number"&&!y.wch&&(y.wch=Rp(y.wpx)),typeof y.wch=="number"&&(x+=Math.round(y.wch))),x.charAt(x.length-1)!=" "&&p.push(x)})}function u(p,h){h.forEach(function(y,m){var x="F;";y.hidden?x+="M0;":y.hpt?x+="M"+20*y.hpt+";":y.hpx&&(x+="M"+20*Dp(y.hpx)+";"),x.length>2&&p.push(x+"R"+(m+1))})}function d(p,h){var y=["ID;PWXL;N;E"],m=[],x=Pr(p["!ref"]),g,v=Array.isArray(p),b=`\r
`;y.push("P;PGeneral"),y.push("F;P0;DG0G8;M255"),p["!cols"]&&c(y,p["!cols"]),p["!rows"]&&u(y,p["!rows"]),y.push("B;Y"+(x.e.r-x.s.r+1)+";X"+(x.e.c-x.s.c+1)+";D"+[x.s.c,x.s.r,x.e.c,x.e.r].join(" "));for(var _=x.s.r;_<=x.e.r;++_)for(var E=x.s.c;E<=x.e.c;++E){var F=gr({r:_,c:E});g=v?(p[_]||[])[E]:p[F],!(!g||g.v==null&&(!g.f||g.F))&&m.push(l(g,p,_,E))}return y.join(b)+b+m.join(b)+b+"E"+b}return{to_workbook:o,to_sheet:s,from_sheet:d}}(),lM=function(){function e(a,s){switch(s.type){case"base64":return t(to(a),s);case"binary":return t(a,s);case"buffer":return t(ar&&Buffer.isBuffer(a)?a.toString("binary"):td(a),s);case"array":return t(A1(a),s)}throw new Error("Unrecognized type "+s.type)}function t(a,s){for(var o=a.split(`
`),l=-1,c=-1,u=0,d=[];u!==o.length;++u){if(o[u].trim()==="BOT"){d[++l]=[],c=0;continue}if(!(l<0)){var p=o[u].trim().split(","),h=p[0],y=p[1];++u;for(var m=o[u]||"";(m.match(/["]/g)||[]).length&1&&u<o.length-1;)m+=`
`+o[++u];switch(m=m.trim(),+h){case-1:if(m==="BOT"){d[++l]=[],c=0;continue}else if(m!=="EOD")throw new Error("Unrecognized DIF special command "+m);break;case 0:m==="TRUE"?d[l][c]=!0:m==="FALSE"?d[l][c]=!1:isNaN(Ys(y))?isNaN(Ih(y).getDate())?d[l][c]=y:d[l][c]=vi(y):d[l][c]=Ys(y),++c;break;case 1:m=m.slice(1,m.length-1),m=m.replace(/""/g,'"'),m&&m.match(/^=".*"$/)&&(m=m.slice(2,-1)),d[l][c++]=m!==""?m:null;break}if(m==="EOD")break}}return s&&s.sheetRows&&(d=d.slice(0,s.sheetRows)),d}function r(a,s){return Hu(e(a,s),s)}function n(a,s){return oc(r(a,s),s)}var i=function(){var a=function(l,c,u,d,p){l.push(c),l.push(u+","+d),l.push('"'+p.replace(/"/g,'""')+'"')},s=function(l,c,u,d){l.push(c+","+u),l.push(c==1?'"'+d.replace(/"/g,'""')+'"':d)};return function(l){var c=[],u=Pr(l["!ref"]),d,p=Array.isArray(l);a(c,"TABLE",0,1,"sheetjs"),a(c,"VECTORS",0,u.e.r-u.s.r+1,""),a(c,"TUPLES",0,u.e.c-u.s.c+1,""),a(c,"DATA",0,0,"");for(var h=u.s.r;h<=u.e.r;++h){s(c,-1,0,"BOT");for(var y=u.s.c;y<=u.e.c;++y){var m=gr({r:h,c:y});if(d=p?(l[h]||[])[y]:l[m],!d){s(c,1,0,"");continue}switch(d.t){case"n":var x=d.w;!x&&d.v!=null&&(x=d.v),x==null?d.f&&!d.F?s(c,1,0,"="+d.f):s(c,1,0,""):s(c,0,x,"V");break;case"b":s(c,0,d.v?1:0,d.v?"TRUE":"FALSE");break;case"s":s(c,1,0,isNaN(d.v)?d.v:'="'+d.v+'"');break;case"d":d.w||(d.w=nl(d.z||Gr[14],Ci(vi(d.v)))),s(c,0,d.w,"V");break;default:s(c,1,0,"")}}}s(c,-1,0,"EOD");var g=`\r
`,v=c.join(g);return v}}();return{to_workbook:n,to_sheet:r,from_sheet:i}}(),i6=function(){function e(d){return d.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(d){return d.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(d,p){for(var h=d.split(`
`),y=-1,m=-1,x=0,g=[];x!==h.length;++x){var v=h[x].trim().split(":");if(v[0]==="cell"){var b=On(v[1]);if(g.length<=b.r)for(y=g.length;y<=b.r;++y)g[y]||(g[y]=[]);switch(y=b.r,m=b.c,v[2]){case"t":g[y][m]=e(v[3]);break;case"v":g[y][m]=+v[3];break;case"vtf":var _=v[v.length-1];case"vtc":switch(v[3]){case"nl":g[y][m]=!!+v[4];break;default:g[y][m]=+v[4];break}v[2]=="vtf"&&(g[y][m]=[g[y][m],_])}}}return p&&p.sheetRows&&(g=g.slice(0,p.sheetRows)),g}function n(d,p){return Hu(r(d,p),p)}function i(d,p){return oc(n(d,p),p)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function c(d){if(!d||!d["!ref"])return"";for(var p=[],h=[],y,m="",x=ea(d["!ref"]),g=Array.isArray(d),v=x.s.r;v<=x.e.r;++v)for(var b=x.s.c;b<=x.e.c;++b)if(m=gr({r:v,c:b}),y=g?(d[v]||[])[b]:d[m],!(!y||y.v==null||y.t==="z")){switch(h=["cell",m,"t"],y.t){case"s":case"str":h.push(t(y.v));break;case"n":y.f?(h[2]="vtf",h[3]="n",h[4]=y.v,h[5]=t(y.f)):(h[2]="v",h[3]=y.v);break;case"b":h[2]="vt"+(y.f?"f":"c"),h[3]="nl",h[4]=y.v?"1":"0",h[5]=t(y.f||(y.v?"TRUE":"FALSE"));break;case"d":var _=Ci(vi(y.v));h[2]="vtc",h[3]="nd",h[4]=""+_,h[5]=y.w||nl(y.z||Gr[14],_);break;case"e":continue}p.push(h.join(":"))}return p.push("sheet:c:"+(x.e.c-x.s.c+1)+":r:"+(x.e.r-x.s.r+1)+":tvf:1"),p.push("valueformat:1:text-wiki"),p.join(`
`)}function u(d){return[a,s,o,s,c(d),l].join(`
`)}return{to_workbook:i,to_sheet:n,from_sheet:u}}(),cM=function(){function e(u,d,p,h,y){y.raw?d[p][h]=u:u===""||(u==="TRUE"?d[p][h]=!0:u==="FALSE"?d[p][h]=!1:isNaN(Ys(u))?isNaN(Ih(u).getDate())?d[p][h]=u:d[p][h]=vi(u):d[p][h]=Ys(u))}function t(u,d){var p=d||{},h=[];if(!u||u.length===0)return h;for(var y=u.split(/[\r\n]/),m=y.length-1;m>=0&&y[m].length===0;)--m;for(var x=10,g=0,v=0;v<=m;++v)g=y[v].indexOf(" "),g==-1?g=y[v].length:g++,x=Math.max(x,g);for(v=0;v<=m;++v){h[v]=[];var b=0;for(e(y[v].slice(0,x).trim(),h,v,b,p),b=1;b<=(y[v].length-x)/10+1;++b)e(y[v].slice(x+(b-1)*10,x+b*10).trim(),h,v,b,p)}return p.sheetRows&&(h=h.slice(0,p.sheetRows)),h}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function i(u){for(var d={},p=!1,h=0,y=0;h<u.length;++h)(y=u.charCodeAt(h))==34?p=!p:!p&&y in r&&(d[y]=(d[y]||0)+1);y=[];for(h in d)Object.prototype.hasOwnProperty.call(d,h)&&y.push([d[h],h]);if(!y.length){d=n;for(h in d)Object.prototype.hasOwnProperty.call(d,h)&&y.push([d[h],h])}return y.sort(function(m,x){return m[0]-x[0]||n[m[1]]-n[x[1]]}),r[y.pop()[1]]||44}function a(u,d){var p=d||{},h="",y=p.dense?[]:{},m={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(h=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(h=u.charAt(4),u=u.slice(6)):h=i(u.slice(0,1024)):p&&p.FS?h=p.FS:h=i(u.slice(0,1024));var x=0,g=0,v=0,b=0,_=0,E=h.charCodeAt(0),F=!1,A=0,O=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var C=p.dateNF!=null?k9(p.dateNF):null;function L(){var N=u.slice(b,_),j={};if(N.charAt(0)=='"'&&N.charAt(N.length-1)=='"'&&(N=N.slice(1,-1).replace(/""/g,'"')),N.length===0)j.t="z";else if(p.raw)j.t="s",j.v=N;else if(N.trim().length===0)j.t="s",j.v=N;else if(N.charCodeAt(0)==61)N.charCodeAt(1)==34&&N.charCodeAt(N.length-1)==34?(j.t="s",j.v=N.slice(2,-1).replace(/""/g,'"')):oB(N)?(j.t="n",j.f=N.slice(1)):(j.t="s",j.v=N);else if(N=="TRUE")j.t="b",j.v=!0;else if(N=="FALSE")j.t="b",j.v=!1;else if(!isNaN(v=Ys(N)))j.t="n",p.cellText!==!1&&(j.w=N),j.v=v;else if(!isNaN(Ih(N).getDate())||C&&N.match(C)){j.z=p.dateNF||Gr[14];var T=0;C&&N.match(C)&&(N=E9(N,p.dateNF,N.match(C)||[]),T=1),p.cellDates?(j.t="d",j.v=vi(N,T)):(j.t="n",j.v=Ci(vi(N,T))),p.cellText!==!1&&(j.w=nl(j.z,j.v instanceof Date?Ci(j.v):j.v)),p.cellNF||delete j.z}else j.t="s",j.v=N;if(j.t=="z"||(p.dense?(y[x]||(y[x]=[]),y[x][g]=j):y[gr({c:g,r:x})]=j),b=_+1,O=u.charCodeAt(b),m.e.c<g&&(m.e.c=g),m.e.r<x&&(m.e.r=x),A==E)++g;else if(g=0,++x,p.sheetRows&&p.sheetRows<=x)return!0}e:for(;_<u.length;++_)switch(A=u.charCodeAt(_)){case 34:O===34&&(F=!F);break;case E:case 10:case 13:if(!F&&L())break e;break}return _-b>0&&L(),y["!ref"]=hn(m),y}function s(u,d){return!(d&&d.PRN)||d.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?a(u,d):Hu(t(u,d),d)}function o(u,d){var p="",h=d.type=="string"?[0,0,0,0]:bz(u,d);switch(d.type){case"base64":p=to(u);break;case"binary":p=u;break;case"buffer":d.codepage==65001?p=u.toString("utf8"):d.codepage&&typeof Fl<"u"?p=Fl.utils.decode(d.codepage,u):p=ar&&Buffer.isBuffer(u)?u.toString("binary"):td(u);break;case"array":p=A1(u);break;case"string":p=u;break;default:throw new Error("Unrecognized type "+d.type)}return h[0]==239&&h[1]==187&&h[2]==191?p=ih(p.slice(3)):d.type!="string"&&d.type!="buffer"&&d.codepage==65001?p=ih(p):d.type=="binary"&&typeof Fl<"u"&&d.codepage&&(p=Fl.utils.decode(d.codepage,Fl.utils.encode(28591,p))),p.slice(0,19)=="socialcalc:version:"?i6.to_sheet(d.type=="string"?p:ih(p),d):s(p,d)}function l(u,d){return oc(o(u,d),d)}function c(u){for(var d=[],p=Pr(u["!ref"]),h,y=Array.isArray(u),m=p.s.r;m<=p.e.r;++m){for(var x=[],g=p.s.c;g<=p.e.c;++g){var v=gr({r:m,c:g});if(h=y?(u[m]||[])[g]:u[v],!h||h.v==null){x.push("          ");continue}for(var b=(h.w||(ro(h),h.w)||"").slice(0,10);b.length<10;)b+=" ";x.push(b+(g===0?" ":""))}d.push(x.join(""))}return d.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:c}}(),v5=function(){function e(k,I,M){if(k){Vi(k,k.l||0);for(var U=M.Enum||W;k.l<k.length;){var R=k.read_shift(2),G=U[R]||U[65535],te=k.read_shift(2),V=k.l+te,Y=G.f&&G.f(k,te,M);if(k.l=V,I(Y,G,R))return}}}function t(k,I){switch(I.type){case"base64":return r(Ba(to(k)),I);case"binary":return r(Ba(k),I);case"buffer":case"array":return r(k,I)}throw"Unsupported type "+I.type}function r(k,I){if(!k)return k;var M=I||{},U=M.dense?[]:{},R="Sheet1",G="",te=0,V={},Y=[],oe=[],ve={s:{r:0,c:0},e:{r:0,c:0}},Ne=M.sheetRows||0;if(k[2]==0&&(k[3]==8||k[3]==9)&&k.length>=16&&k[14]==5&&k[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(k[2]==2)M.Enum=W,e(k,function(Oe,be,xe){switch(xe){case 0:M.vers=Oe,Oe>=4096&&(M.qpro=!0);break;case 6:ve=Oe;break;case 204:Oe&&(G=Oe);break;case 222:G=Oe;break;case 15:case 51:M.qpro||(Oe[1].v=Oe[1].v.slice(1));case 13:case 14:case 16:xe==14&&(Oe[2]&112)==112&&(Oe[2]&15)>1&&(Oe[2]&15)<15&&(Oe[1].z=M.dateNF||Gr[14],M.cellDates&&(Oe[1].t="d",Oe[1].v=bS(Oe[1].v))),M.qpro&&Oe[3]>te&&(U["!ref"]=hn(ve),V[R]=U,Y.push(R),U=M.dense?[]:{},ve={s:{r:0,c:0},e:{r:0,c:0}},te=Oe[3],R=G||"Sheet"+(te+1),G="");var De=M.dense?(U[Oe[0].r]||[])[Oe[0].c]:U[gr(Oe[0])];if(De){De.t=Oe[1].t,De.v=Oe[1].v,Oe[1].z!=null&&(De.z=Oe[1].z),Oe[1].f!=null&&(De.f=Oe[1].f);break}M.dense?(U[Oe[0].r]||(U[Oe[0].r]=[]),U[Oe[0].r][Oe[0].c]=Oe[1]):U[gr(Oe[0])]=Oe[1];break}},M);else if(k[2]==26||k[2]==14)M.Enum=q,k[2]==14&&(M.qpro=!0,k.l=0),e(k,function(Oe,be,xe){switch(xe){case 204:R=Oe;break;case 22:Oe[1].v=Oe[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Oe[3]>te&&(U["!ref"]=hn(ve),V[R]=U,Y.push(R),U=M.dense?[]:{},ve={s:{r:0,c:0},e:{r:0,c:0}},te=Oe[3],R="Sheet"+(te+1)),Ne>0&&Oe[0].r>=Ne)break;M.dense?(U[Oe[0].r]||(U[Oe[0].r]=[]),U[Oe[0].r][Oe[0].c]=Oe[1]):U[gr(Oe[0])]=Oe[1],ve.e.c<Oe[0].c&&(ve.e.c=Oe[0].c),ve.e.r<Oe[0].r&&(ve.e.r=Oe[0].r);break;case 27:Oe[14e3]&&(oe[Oe[14e3][0]]=Oe[14e3][1]);break;case 1537:oe[Oe[0]]=Oe[1],Oe[0]==te&&(R=Oe[1]);break}},M);else throw new Error("Unrecognized LOTUS BOF "+k[2]);if(U["!ref"]=hn(ve),V[G||R]=U,Y.push(G||R),!oe.length)return{SheetNames:Y,Sheets:V};for(var _e={},X=[],Ee=0;Ee<oe.length;++Ee)V[Y[Ee]]?(X.push(oe[Ee]||Y[Ee]),_e[oe[Ee]]=V[oe[Ee]]||V[Y[Ee]]):(X.push(oe[Ee]),_e[oe[Ee]]={"!ref":"A1"});return{SheetNames:X,Sheets:_e}}function n(k,I){var M=I||{};if(+M.codepage>=0&&Ph(+M.codepage),M.type=="string")throw new Error("Cannot write WK1 to JS string");var U=Oi(),R=Pr(k["!ref"]),G=Array.isArray(k),te=[];lt(U,0,a(1030)),lt(U,6,l(R));for(var V=Math.min(R.e.r,8191),Y=R.s.r;Y<=V;++Y)for(var oe=Wn(Y),ve=R.s.c;ve<=R.e.c;++ve){Y===R.s.r&&(te[ve]=ni(ve));var Ne=te[ve]+oe,_e=G?(k[Y]||[])[ve]:k[Ne];if(!(!_e||_e.t=="z"))if(_e.t=="n")(_e.v|0)==_e.v&&_e.v>=-32768&&_e.v<=32767?lt(U,13,h(Y,ve,_e.v)):lt(U,14,m(Y,ve,_e.v));else{var X=ro(_e);lt(U,15,d(Y,ve,X.slice(0,239)))}}return lt(U,1),U.end()}function i(k,I){var M=I||{};if(+M.codepage>=0&&Ph(+M.codepage),M.type=="string")throw new Error("Cannot write WK3 to JS string");var U=Oi();lt(U,0,s(k));for(var R=0,G=0;R<k.SheetNames.length;++R)(k.Sheets[k.SheetNames[R]]||{})["!ref"]&&lt(U,27,K(k.SheetNames[R],G++));var te=0;for(R=0;R<k.SheetNames.length;++R){var V=k.Sheets[k.SheetNames[R]];if(!(!V||!V["!ref"])){for(var Y=Pr(V["!ref"]),oe=Array.isArray(V),ve=[],Ne=Math.min(Y.e.r,8191),_e=Y.s.r;_e<=Ne;++_e)for(var X=Wn(_e),Ee=Y.s.c;Ee<=Y.e.c;++Ee){_e===Y.s.r&&(ve[Ee]=ni(Ee));var Oe=ve[Ee]+X,be=oe?(V[_e]||[])[Ee]:V[Oe];if(!(!be||be.t=="z"))if(be.t=="n")lt(U,23,L(_e,Ee,te,be.v));else{var xe=ro(be);lt(U,22,A(_e,Ee,te,xe.slice(0,239)))}}++te}}return lt(U,1),U.end()}function a(k){var I=ze(2);return I.write_shift(2,k),I}function s(k){var I=ze(26);I.write_shift(2,4096),I.write_shift(2,4),I.write_shift(4,0);for(var M=0,U=0,R=0,G=0;G<k.SheetNames.length;++G){var te=k.SheetNames[G],V=k.Sheets[te];if(!(!V||!V["!ref"])){++R;var Y=ea(V["!ref"]);M<Y.e.r&&(M=Y.e.r),U<Y.e.c&&(U=Y.e.c)}}return M>8191&&(M=8191),I.write_shift(2,M),I.write_shift(1,R),I.write_shift(1,U),I.write_shift(2,0),I.write_shift(2,0),I.write_shift(1,1),I.write_shift(1,2),I.write_shift(4,0),I.write_shift(4,0),I}function o(k,I,M){var U={s:{c:0,r:0},e:{c:0,r:0}};return I==8&&M.qpro?(U.s.c=k.read_shift(1),k.l++,U.s.r=k.read_shift(2),U.e.c=k.read_shift(1),k.l++,U.e.r=k.read_shift(2),U):(U.s.c=k.read_shift(2),U.s.r=k.read_shift(2),I==12&&M.qpro&&(k.l+=2),U.e.c=k.read_shift(2),U.e.r=k.read_shift(2),I==12&&M.qpro&&(k.l+=2),U.s.c==65535&&(U.s.c=U.e.c=U.s.r=U.e.r=0),U)}function l(k){var I=ze(8);return I.write_shift(2,k.s.c),I.write_shift(2,k.s.r),I.write_shift(2,k.e.c),I.write_shift(2,k.e.r),I}function c(k,I,M){var U=[{c:0,r:0},{t:"n",v:0},0,0];return M.qpro&&M.vers!=20768?(U[0].c=k.read_shift(1),U[3]=k.read_shift(1),U[0].r=k.read_shift(2),k.l+=2):(U[2]=k.read_shift(1),U[0].c=k.read_shift(2),U[0].r=k.read_shift(2)),U}function u(k,I,M){var U=k.l+I,R=c(k,I,M);if(R[1].t="s",M.vers==20768){k.l++;var G=k.read_shift(1);return R[1].v=k.read_shift(G,"utf8"),R}return M.qpro&&k.l++,R[1].v=k.read_shift(U-k.l,"cstr"),R}function d(k,I,M){var U=ze(7+M.length);U.write_shift(1,255),U.write_shift(2,I),U.write_shift(2,k),U.write_shift(1,39);for(var R=0;R<U.length;++R){var G=M.charCodeAt(R);U.write_shift(1,G>=128?95:G)}return U.write_shift(1,0),U}function p(k,I,M){var U=c(k,I,M);return U[1].v=k.read_shift(2,"i"),U}function h(k,I,M){var U=ze(7);return U.write_shift(1,255),U.write_shift(2,I),U.write_shift(2,k),U.write_shift(2,M,"i"),U}function y(k,I,M){var U=c(k,I,M);return U[1].v=k.read_shift(8,"f"),U}function m(k,I,M){var U=ze(13);return U.write_shift(1,255),U.write_shift(2,I),U.write_shift(2,k),U.write_shift(8,M,"f"),U}function x(k,I,M){var U=k.l+I,R=c(k,I,M);if(R[1].v=k.read_shift(8,"f"),M.qpro)k.l=U;else{var G=k.read_shift(2);_(k.slice(k.l,k.l+G),R),k.l+=G}return R}function g(k,I,M){var U=I&32768;return I&=-32769,I=(U?k:0)+(I>=8192?I-16384:I),(U?"":"$")+(M?ni(I):Wn(I))}var v={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},b=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function _(k,I){Vi(k,0);for(var M=[],U=0,R="",G="",te="",V="";k.l<k.length;){var Y=k[k.l++];switch(Y){case 0:M.push(k.read_shift(8,"f"));break;case 1:G=g(I[0].c,k.read_shift(2),!0),R=g(I[0].r,k.read_shift(2),!1),M.push(G+R);break;case 2:{var oe=g(I[0].c,k.read_shift(2),!0),ve=g(I[0].r,k.read_shift(2),!1);G=g(I[0].c,k.read_shift(2),!0),R=g(I[0].r,k.read_shift(2),!1),M.push(oe+ve+":"+G+R)}break;case 3:if(k.l<k.length){console.error("WK1 premature formula end");return}break;case 4:M.push("("+M.pop()+")");break;case 5:M.push(k.read_shift(2));break;case 6:{for(var Ne="";Y=k[k.l++];)Ne+=String.fromCharCode(Y);M.push('"'+Ne.replace(/"/g,'""')+'"')}break;case 8:M.push("-"+M.pop());break;case 23:M.push("+"+M.pop());break;case 22:M.push("NOT("+M.pop()+")");break;case 20:case 21:V=M.pop(),te=M.pop(),M.push(["AND","OR"][Y-20]+"("+te+","+V+")");break;default:if(Y<32&&b[Y])V=M.pop(),te=M.pop(),M.push(te+b[Y]+V);else if(v[Y]){if(U=v[Y][1],U==69&&(U=k[k.l++]),U>M.length){console.error("WK1 bad formula parse 0x"+Y.toString(16)+":|"+M.join("|")+"|");return}var _e=M.slice(-U);M.length-=U,M.push(v[Y][0]+"("+_e.join(",")+")")}else return Y<=7?console.error("WK1 invalid opcode "+Y.toString(16)):Y<=24?console.error("WK1 unsupported op "+Y.toString(16)):Y<=30?console.error("WK1 invalid opcode "+Y.toString(16)):Y<=115?console.error("WK1 unsupported function opcode "+Y.toString(16)):console.error("WK1 unrecognized opcode "+Y.toString(16))}}M.length==1?I[1].f=""+M[0]:console.error("WK1 bad formula parse |"+M.join("|")+"|")}function E(k){var I=[{c:0,r:0},{t:"n",v:0},0];return I[0].r=k.read_shift(2),I[3]=k[k.l++],I[0].c=k[k.l++],I}function F(k,I){var M=E(k);return M[1].t="s",M[1].v=k.read_shift(I-4,"cstr"),M}function A(k,I,M,U){var R=ze(6+U.length);R.write_shift(2,k),R.write_shift(1,M),R.write_shift(1,I),R.write_shift(1,39);for(var G=0;G<U.length;++G){var te=U.charCodeAt(G);R.write_shift(1,te>=128?95:te)}return R.write_shift(1,0),R}function O(k,I){var M=E(k);M[1].v=k.read_shift(2);var U=M[1].v>>1;if(M[1].v&1)switch(U&7){case 0:U=(U>>3)*5e3;break;case 1:U=(U>>3)*500;break;case 2:U=(U>>3)/20;break;case 3:U=(U>>3)/200;break;case 4:U=(U>>3)/2e3;break;case 5:U=(U>>3)/2e4;break;case 6:U=(U>>3)/16;break;case 7:U=(U>>3)/64;break}return M[1].v=U,M}function C(k,I){var M=E(k),U=k.read_shift(4),R=k.read_shift(4),G=k.read_shift(2);if(G==65535)return U===0&&R===3221225472?(M[1].t="e",M[1].v=15):U===0&&R===3489660928?(M[1].t="e",M[1].v=42):M[1].v=0,M;var te=G&32768;return G=(G&32767)-16446,M[1].v=(1-te*2)*(R*Math.pow(2,G+32)+U*Math.pow(2,G)),M}function L(k,I,M,U){var R=ze(14);if(R.write_shift(2,k),R.write_shift(1,M),R.write_shift(1,I),U==0)return R.write_shift(4,0),R.write_shift(4,0),R.write_shift(2,65535),R;var G=0,te=0,V=0,Y=0;return U<0&&(G=1,U=-U),te=Math.log2(U)|0,U/=Math.pow(2,te-31),Y=U>>>0,Y&2147483648||(U/=2,++te,Y=U>>>0),U-=Y,Y|=2147483648,Y>>>=0,U*=Math.pow(2,32),V=U>>>0,R.write_shift(4,V),R.write_shift(4,Y),te+=16383+(G?32768:0),R.write_shift(2,te),R}function N(k,I){var M=C(k);return k.l+=I-14,M}function j(k,I){var M=E(k),U=k.read_shift(4);return M[1].v=U>>6,M}function T(k,I){var M=E(k),U=k.read_shift(8,"f");return M[1].v=U,M}function B(k,I){var M=T(k);return k.l+=I-10,M}function z(k,I){return k[k.l+I-1]==0?k.read_shift(I,"cstr"):""}function Q(k,I){var M=k[k.l++];M>I-1&&(M=I-1);for(var U="";U.length<M;)U+=String.fromCharCode(k[k.l++]);return U}function ne(k,I,M){if(!(!M.qpro||I<21)){var U=k.read_shift(1);k.l+=17,k.l+=1,k.l+=2;var R=k.read_shift(I-21,"cstr");return[U,R]}}function ie(k,I){for(var M={},U=k.l+I;k.l<U;){var R=k.read_shift(2);if(R==14e3){for(M[R]=[0,""],M[R][0]=k.read_shift(2);k[k.l];)M[R][1]+=String.fromCharCode(k[k.l]),k.l++;k.l++}}return M}function K(k,I){var M=ze(5+k.length);M.write_shift(2,14e3),M.write_shift(2,I);for(var U=0;U<k.length;++U){var R=k.charCodeAt(U);M[M.l++]=R>127?95:R}return M[M.l++]=0,M}var W={0:{n:"BOF",f:QS},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:p},14:{n:"NUMBER",f:y},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:x},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:z},222:{n:"SHEETNAMELP",f:Q},65535:{n:""}},q={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:F},23:{n:"NUMBER17",f:C},24:{n:"NUMBER18",f:O},25:{n:"FORMULA19",f:N},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:ie},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:j},38:{n:"??"},39:{n:"NUMBER27",f:T},40:{n:"FORMULA28",f:B},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:z},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:ne},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:i,to_workbook:t}}(),uM=/^\s|\s$|[\t\n\r]/;function a6(e,t){if(!t.bookSST)return"";var r=[dn];r[r.length]=st("sst",null,{xmlns:zu[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var i=e[n],a="<si>";i.r?a+=i.r:(a+="<t",i.t||(i.t=""),i.t.match(uM)&&(a+=' xml:space="preserve"'),a+=">"+pr(i.t)+"</t>"),a+="</si>",r[r.length]=a}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function fM(e){return[e.read_shift(4),e.read_shift(4)]}function hM(e,t){return t||(t=ze(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var dM=nD;function pM(e){var t=Oi();Ze(t,159,hM(e));for(var r=0;r<e.length;++r)Ze(t,19,dM(e[r]));return Ze(t,160),t.end()}function mM(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function s6(e){var t=0,r,n=mM(e),i=n.length+1,a,s,o,l,c;for(r=Jl(i),r[0]=n.length,a=1;a!=i;++a)r[a]=n[a-1];for(a=i-1;a>=0;--a)s=r[a],o=t&16384?1:0,l=t<<1&32767,c=o|l,t=c^s;return t^52811}var gM=function(){function e(i,a){switch(a.type){case"base64":return t(to(i),a);case"binary":return t(i,a);case"buffer":return t(ar&&Buffer.isBuffer(i)?i.toString("binary"):td(i),a);case"array":return t(A1(i),a)}throw new Error("Unrecognized type "+a.type)}function t(i,a){var s=a||{},o=s.dense?[]:{},l=i.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(u,d){Array.isArray(o)&&(o[d]=[]);for(var p=/\\\w+\b/g,h=0,y,m=-1;y=p.exec(u);){switch(y[0]){case"\\cell":var x=u.slice(h,p.lastIndex-y[0].length);if(x[0]==" "&&(x=x.slice(1)),++m,x.length){var g={v:x,t:"s"};Array.isArray(o)?o[d][m]=g:o[gr({r:d,c:m})]=g}break}h=p.lastIndex}m>c.e.c&&(c.e.c=m)}),o["!ref"]=hn(c),o}function r(i,a){return oc(e(i,a),a)}function n(i){for(var a=["{\\rtf1\\ansi"],s=Pr(i["!ref"]),o,l=Array.isArray(i),c=s.s.r;c<=s.e.r;++c){a.push("\\trowd\\trautofit1");for(var u=s.s.c;u<=s.e.c;++u)a.push("\\cellx"+(u+1));for(a.push("\\pard\\intbl"),u=s.s.c;u<=s.e.c;++u){var d=gr({r:c,c:u});o=l?(i[c]||[])[u]:i[d],!(!o||o.v==null&&(!o.f||o.F))&&(a.push(" "+(o.w||(ro(o),o.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function x5(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}var vM=6,Xs=vM;function Ip(e){return Math.floor((e+Math.round(128/Xs)/256)*Xs)}function Rp(e){return Math.floor((e-5)/Xs*100+.5)/100}function Vv(e){return Math.round((e*Xs+5)/Xs*256)/256}function Ox(e){e.width?(e.wpx=Ip(e.width),e.wch=Rp(e.wpx),e.MDW=Xs):e.wpx?(e.wch=Rp(e.wpx),e.width=Vv(e.wch),e.MDW=Xs):typeof e.wch=="number"&&(e.width=Vv(e.wch),e.wpx=Ip(e.width),e.MDW=Xs),e.customWidth&&delete e.customWidth}var xM=96,o6=xM;function Dp(e){return e*96/o6}function l6(e){return e*o6/96}function yM(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=st("numFmt",null,{numFmtId:n,formatCode:pr(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=st("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function _M(e){var t=[];return t[t.length]=st("cellXfs",null),e.forEach(function(r){t[t.length]=st("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=st("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function c6(e,t){var r=[dn,st("styleSheet",null,{xmlns:zu[0],"xmlns:vt":jn.vt})],n;return e.SSF&&(n=yM(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=_M(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function bM(e,t){var r=e.read_shift(2),n=ii(e);return[r,n]}function wM(e,t,r){r||(r=ze(6+4*t.length)),r.write_shift(2,e),Cn(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function NM(e,t,r){var n={};n.sz=e.read_shift(2)/20;var i=uD(e);i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1);var a=e.read_shift(2);switch(a===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var s=e.read_shift(1);s!=0&&(n.underline=s);var o=e.read_shift(1);o>0&&(n.family=o);var l=e.read_shift(1);switch(l>0&&(n.charset=l),e.l++,n.color=cD(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=ii(e),n}function SM(e,t){t||(t=ze(25+4*32)),t.write_shift(2,e.sz*20),fD(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),Pp(e.color,t);var n=0;return e.scheme=="major"&&(n=1),e.scheme=="minor"&&(n=2),t.write_shift(1,n),Cn(e.name,t),t.length>t.l?t.slice(0,t.l):t}var kM=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],rg,EM=xs;function y5(e,t){t||(t=ze(4*3+8*7+16*1)),rg||(rg=xx(kM));var r=rg[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(Pp({auto:1},t),Pp({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function AM(e,t){var r=e.l+t,n=e.read_shift(2),i=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:i}}function u6(e,t,r){r||(r=ze(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function Pf(e,t){return t||(t=ze(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var TM=xs;function jM(e,t){return t||(t=ze(51)),t.write_shift(1,0),Pf(null,t),Pf(null,t),Pf(null,t),Pf(null,t),Pf(null,t),t.length>t.l?t.slice(0,t.l):t}function OM(e,t){return t||(t=ze(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,+e.builtinId),t.write_shift(1,0),Lp(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function CM(e,t,r){var n=ze(2052);return n.write_shift(4,e),Lp(t,n),Lp(r,n),n.length>n.l?n.slice(0,n.l):n}function LM(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)t[i]!=null&&++r}),r!=0&&(Ze(e,615,za(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)t[i]!=null&&Ze(e,44,wM(i,t[i]))}),Ze(e,616))}}function PM(e){var t=1;Ze(e,611,za(t)),Ze(e,43,SM({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),Ze(e,612)}function FM(e){var t=2;Ze(e,603,za(t)),Ze(e,45,y5({patternType:"none"})),Ze(e,45,y5({patternType:"gray125"})),Ze(e,604)}function IM(e){var t=1;Ze(e,613,za(t)),Ze(e,46,jM()),Ze(e,614)}function RM(e){var t=1;Ze(e,626,za(t)),Ze(e,47,u6({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),Ze(e,627)}function DM(e,t){Ze(e,617,za(t.length)),t.forEach(function(r){Ze(e,47,u6(r,0))}),Ze(e,618)}function MM(e){var t=1;Ze(e,619,za(t)),Ze(e,48,OM({xfId:0,builtinId:0,name:"Normal"})),Ze(e,620)}function BM(e){var t=0;Ze(e,505,za(t)),Ze(e,506)}function UM(e){var t=0;Ze(e,508,CM(t,"TableStyleMedium9","PivotStyleMedium4")),Ze(e,509)}function qM(e,t){var r=Oi();return Ze(r,278),LM(r,e.SSF),PM(r),FM(r),IM(r),RM(r),DM(r,t.cellXfs),MM(r),BM(r),UM(r),Ze(r,279),r.end()}function f6(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[dn];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function $M(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:ii(e)}}function zM(e){var t=ze(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),Cn(e.name,t),t.slice(0,t.l)}function HM(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function WM(e){var t=ze(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function VM(e,t){var r=ze(8+2*t.length);return r.write_shift(4,e),Cn(t,r),r.slice(0,r.l)}function GM(e){return e.l+=4,e.read_shift(4)!=0}function KM(e,t){var r=ze(8);return r.write_shift(4,e),r.write_shift(4,1),r}function YM(){var e=Oi();return Ze(e,332),Ze(e,334,za(1)),Ze(e,335,zM({name:"XLDAPR",version:12e4,flags:3496657072})),Ze(e,336),Ze(e,339,VM(1,"XLDAPR")),Ze(e,52),Ze(e,35,za(514)),Ze(e,4096,za(0)),Ze(e,4097,fa(1)),Ze(e,36),Ze(e,53),Ze(e,340),Ze(e,337,KM(1)),Ze(e,51,WM([[1,0]])),Ze(e,338),Ze(e,333),e.end()}function h6(){var e=[dn];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function XM(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=gr(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}var eu=1024;function d6(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),i=[st("xml",null,{"xmlns:v":Gi.v,"xmlns:o":Gi.o,"xmlns:x":Gi.x,"xmlns:mv":Gi.mv}).replace(/\/>/,">"),st("o:shapelayout",st("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),st("v:shapetype",[st("v:stroke",null,{joinstyle:"miter"}),st("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];eu<e*1e3;)eu+=1e3;return t.forEach(function(a){var s=On(a[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var l=o.type=="gradient"?st("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,c=st("v:fill",l,o),u={on:"t",obscured:"t"};++eu,i=i.concat(["<v:shape"+Dh({id:"_x0000_s"+eu,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(a[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",c,st("v:shadow",null,u),st("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",zn("x:Anchor",[s.c+1,0,s.r+1,0,s.c+3,20,s.r+5,20].join(",")),zn("x:AutoFill","False"),zn("x:Row",String(s.r)),zn("x:Column",String(s.c)),a[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function p6(e){var t=[dn,st("comments",null,{xmlns:zu[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(i){var a=pr(i.a);r.indexOf(a)==-1&&(r.push(a),t.push("<author>"+a+"</author>")),i.T&&i.ID&&r.indexOf("tc="+i.ID)==-1&&(r.push("tc="+i.ID),t.push("<author>tc="+i.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var i=0,a=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?i=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(l){l.a&&(i=r.indexOf(pr(l.a))),a.push(l.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+i+'"><text>'),a.length<=1)t.push(zn("t",pr(a[0]||"")));else{for(var s=`Comment:
    `+a[0]+`
`,o=1;o<a.length;++o)s+=`Reply:
    `+a[o]+`
`;t.push(zn("t",pr(s)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function ZM(e,t,r){var n=[dn,st("ThreadedComments",null,{xmlns:jn.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(i){var a="";(i[1]||[]).forEach(function(s,o){if(!s.T){delete s.ID;return}s.a&&t.indexOf(s.a)==-1&&t.push(s.a);var l={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};o==0?a=l.id:l.parentId=a,s.ID=l.id,s.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(s.a)).slice(-12)+"}"),n.push(st("threadedComment",zn("text",s.t||""),l))})}),n.push("</ThreadedComments>"),n.join("")}function JM(e){var t=[dn,st("personList",null,{xmlns:jn.TCMNT,"xmlns:x":zu[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(st("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function QM(e){var t={};t.iauthor=e.read_shift(4);var r=fc(e);return t.rfx=r.s,t.ref=gr(r.s),e.l+=16,t}function eB(e,t){return t==null&&(t=ze(36)),t.write_shift(4,e[1].iauthor),Wu(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var tB=ii;function rB(e){return Cn(e.slice(0,54))}function nB(e){var t=Oi(),r=[];return Ze(t,628),Ze(t,630),e.forEach(function(n){n[1].forEach(function(i){r.indexOf(i.a)>-1||(r.push(i.a.slice(0,54)),Ze(t,632,rB(i.a)))})}),Ze(t,631),Ze(t,633),e.forEach(function(n){n[1].forEach(function(i){i.iauthor=r.indexOf(i.a);var a={s:On(n[0]),e:On(n[0])};Ze(t,635,eB([a,i])),i.t&&i.t.length>0&&Ze(t,637,aD(i)),Ze(t,636),delete i.iauthor})}),Ze(t,634),Ze(t,629),t.end()}function iB(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var i=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&xr.utils.cfb_add(e,i,t.FileIndex[n].content)}})}var m6=["xlsb","xlsm","xlam","biff8","xla"],aB=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,i,a,s){var o=!1,l=!1;a.length==0?l=!0:a.charAt(0)=="["&&(l=!0,a=a.slice(1,-1)),s.length==0?o=!0:s.charAt(0)=="["&&(o=!0,s=s.slice(1,-1));var c=a.length>0?parseInt(a,10)|0:0,u=s.length>0?parseInt(s,10)|0:0;return o?u+=t.c:--u,l?c+=t.r:--c,i+(o?"":"$")+ni(u)+(l?"":"$")+Wn(c)}return function(i,a){return t=a,i.replace(e,r)}}(),Cx=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Lx=function(){return function(t,r){return t.replace(Cx,function(n,i,a,s,o,l){var c=kx(s)-(a?0:r.c),u=Sx(l)-(o?0:r.r),d=u==0?"":o?u+1:"["+u+"]",p=c==0?"":a?c+1:"["+c+"]";return i+"R"+d+"C"+p})}}();function sB(e,t){return e.replace(Cx,function(r,n,i,a,s,o){return n+(i=="$"?i+a:ni(kx(a)+t.c))+(s=="$"?s+o:Wn(Sx(o)+t.r))})}function oB(e){return e.length!=1}function un(e){e.l+=1}function il(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function g6(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return v6(e);r.biff==12&&(n=4)}var i=e.read_shift(n),a=e.read_shift(n),s=il(e),o=il(e);return{s:{r:i,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function v6(e){var t=il(e),r=il(e),n=e.read_shift(1),i=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:i,cRel:r[1],rRel:r[2]}}}function lB(e,t,r){if(r.biff<8)return v6(e);var n=e.read_shift(r.biff==12?4:2),i=e.read_shift(r.biff==12?4:2),a=il(e),s=il(e);return{s:{r:n,c:a[0],cRel:a[1],rRel:a[2]},e:{r:i,c:s[0],cRel:s[1],rRel:s[2]}}}function x6(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return cB(e);var n=e.read_shift(r&&r.biff==12?4:2),i=il(e);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function cB(e){var t=il(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function uB(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function fB(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return hB(e);var i=e.read_shift(n>=12?4:2),a=e.read_shift(2),s=(a&16384)>>14,o=(a&32768)>>15;if(a&=16383,o==1)for(;i>524287;)i-=1048576;if(s==1)for(;a>8191;)a=a-16384;return{r:i,c:a,cRel:s,rRel:o}}function hB(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,i=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),i==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:i,rRel:n}}function dB(e,t,r){var n=(e[e.l++]&96)>>5,i=g6(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,i]}function pB(e,t,r){var n=(e[e.l++]&96)>>5,i=e.read_shift(2,"i"),a=8;if(r)switch(r.biff){case 5:e.l+=12,a=6;break;case 12:a=12;break}var s=g6(e,a,r);return[n,i,s]}function mB(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function gB(e,t,r){var n=(e[e.l++]&96)>>5,i=e.read_shift(2),a=8;if(r)switch(r.biff){case 5:e.l+=12,a=6;break;case 12:a=12;break}return e.l+=a,[n,i]}function vB(e,t,r){var n=(e[e.l++]&96)>>5,i=lB(e,t-1,r);return[n,i]}function xB(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function _5(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function yB(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),i=[],a=0;a<=n;++a)i.push(e.read_shift(r&&r.biff==2?1:2));return i}function _B(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function bB(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function wB(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function NB(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function y6(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function SB(e){return e.read_shift(2),y6(e)}function kB(e){return e.read_shift(2),y6(e)}function EB(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=x6(e,0,r);return[n,i]}function AB(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=fB(e,0,r);return[n,i]}function TB(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var a=x6(e,0,r);return[n,i,a]}function jB(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(r&&r.biff<=3?1:2);return[jU[i],w6[i],n]}function OB(e,t,r){var n=e[e.l++],i=e.read_shift(1),a=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:CB(e);return[i,(a[0]===0?w6:TU)[a[1]]]}function CB(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function LB(e,t,r){e.l+=r&&r.biff==2?3:4}function PB(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),i=e.read_shift(r&&r.biff==2?1:2);return[n,i]}function FB(e){return e.l++,id[e.read_shift(1)]}function IB(e){return e.l++,e.read_shift(2)}function RB(e){return e.l++,e.read_shift(1)!==0}function DB(e){return e.l++,Vu(e)}function MB(e,t,r){return e.l++,t6(e,t-1,r)}function BB(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=TD(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=id[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Vu(e);break;case 2:r[1]=LD(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function UB(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),i=[],a=0;a!=n;++a)i.push((r.biff==12?fc:ID)(e));return i}function qB(e,t,r){var n=0,i=0;r.biff==12?(n=e.read_shift(4),i=e.read_shift(4)):(i=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--i==0&&(i=256));for(var a=0,s=[];a!=n&&(s[a]=[]);++a)for(var o=0;o!=i;++o)s[a][o]=BB(e,r.biff);return s}function $B(e,t,r){var n=e.read_shift(1)>>>5&3,i=!r||r.biff>=8?4:2,a=e.read_shift(i);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,a]}function zB(e,t,r){if(r.biff==5)return HB(e);var n=e.read_shift(1)>>>5&3,i=e.read_shift(2),a=e.read_shift(4);return[n,i,a]}function HB(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function WB(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var i=e.read_shift(r&&r.biff==2?1:2);return[n,i]}function VB(e,t,r){var n=e.read_shift(1)>>>5&3,i=e.read_shift(r&&r.biff==2?1:2);return[n,i]}function GB(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function KB(e,t,r){var n=(e[e.l++]&96)>>5,i=e.read_shift(2),a=4;if(r)switch(r.biff){case 5:a=15;break;case 12:a=6;break}return e.l+=a,[n,i]}var YB=xs,XB=xs,ZB=xs;function ad(e,t,r){return e.l+=2,[uB(e)]}function Px(e){return e.l+=6,[]}var JB=ad,QB=Px,eU=Px,tU=ad;function _6(e){return e.l+=2,[QS(e),e.read_shift(2)&1]}var rU=ad,nU=_6,iU=Px,aU=ad,sU=ad,oU=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function lU(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),i=e.read_shift(2),a=e.read_shift(2),s=oU[r>>2&31];return{ixti:t,coltype:r&3,rt:s,idx:n,c:i,C:a}}function cU(e){return e.l+=2,[e.read_shift(4)]}function uU(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function fU(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function hU(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function dU(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function pU(e){return e.l+=4,[0,0]}var b5={1:{n:"PtgExp",f:PB},2:{n:"PtgTbl",f:ZB},3:{n:"PtgAdd",f:un},4:{n:"PtgSub",f:un},5:{n:"PtgMul",f:un},6:{n:"PtgDiv",f:un},7:{n:"PtgPower",f:un},8:{n:"PtgConcat",f:un},9:{n:"PtgLt",f:un},10:{n:"PtgLe",f:un},11:{n:"PtgEq",f:un},12:{n:"PtgGe",f:un},13:{n:"PtgGt",f:un},14:{n:"PtgNe",f:un},15:{n:"PtgIsect",f:un},16:{n:"PtgUnion",f:un},17:{n:"PtgRange",f:un},18:{n:"PtgUplus",f:un},19:{n:"PtgUminus",f:un},20:{n:"PtgPercent",f:un},21:{n:"PtgParen",f:un},22:{n:"PtgMissArg",f:un},23:{n:"PtgStr",f:MB},26:{n:"PtgSheet",f:uU},27:{n:"PtgEndSheet",f:fU},28:{n:"PtgErr",f:FB},29:{n:"PtgBool",f:RB},30:{n:"PtgInt",f:IB},31:{n:"PtgNum",f:DB},32:{n:"PtgArray",f:xB},33:{n:"PtgFunc",f:jB},34:{n:"PtgFuncVar",f:OB},35:{n:"PtgName",f:$B},36:{n:"PtgRef",f:EB},37:{n:"PtgArea",f:dB},38:{n:"PtgMemArea",f:WB},39:{n:"PtgMemErr",f:YB},40:{n:"PtgMemNoMem",f:XB},41:{n:"PtgMemFunc",f:VB},42:{n:"PtgRefErr",f:GB},43:{n:"PtgAreaErr",f:mB},44:{n:"PtgRefN",f:AB},45:{n:"PtgAreaN",f:vB},46:{n:"PtgMemAreaN",f:hU},47:{n:"PtgMemNoMemN",f:dU},57:{n:"PtgNameX",f:zB},58:{n:"PtgRef3d",f:TB},59:{n:"PtgArea3d",f:pB},60:{n:"PtgRefErr3d",f:KB},61:{n:"PtgAreaErr3d",f:gB},255:{}},mU={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},gU={1:{n:"PtgElfLel",f:_6},2:{n:"PtgElfRw",f:aU},3:{n:"PtgElfCol",f:JB},6:{n:"PtgElfRwV",f:sU},7:{n:"PtgElfColV",f:tU},10:{n:"PtgElfRadical",f:rU},11:{n:"PtgElfRadicalS",f:iU},13:{n:"PtgElfColS",f:QB},15:{n:"PtgElfColSV",f:eU},16:{n:"PtgElfRadicalLel",f:nU},25:{n:"PtgList",f:lU},29:{n:"PtgSxName",f:cU},255:{}},vU={0:{n:"PtgAttrNoop",f:pU},1:{n:"PtgAttrSemi",f:NB},2:{n:"PtgAttrIf",f:bB},4:{n:"PtgAttrChoose",f:yB},8:{n:"PtgAttrGoto",f:_B},16:{n:"PtgAttrSum",f:LB},32:{n:"PtgAttrBaxcel",f:_5},33:{n:"PtgAttrBaxcel",f:_5},64:{n:"PtgAttrSpace",f:SB},65:{n:"PtgAttrSpaceSemi",f:kB},128:{n:"PtgAttrIfError",f:wB},255:{}};function xU(e,t,r,n){if(n.biff<8)return xs(e,t);for(var i=e.l+t,a=[],s=0;s!==r.length;++s)switch(r[s][0]){case"PtgArray":r[s][1]=qB(e,0,n),a.push(r[s][1]);break;case"PtgMemArea":r[s][2]=UB(e,r[s][1],n),a.push(r[s][2]);break;case"PtgExp":n&&n.biff==12&&(r[s][1][1]=e.read_shift(4),a.push(r[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[s][0]}return t=i-e.l,t!==0&&a.push(xs(e,t)),a}function yU(e,t,r){for(var n=e.l+t,i,a,s=[];n!=e.l;)t=n-e.l,a=e[e.l],i=b5[a]||b5[mU[a]],(a===24||a===25)&&(i=(a===24?gU:vU)[e[e.l+1]]),!i||!i.f?xs(e,t):s.push([i.n,i.f(e,t,r)]);return s}function _U(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],i=[],a=0;a<n.length;++a){var s=n[a];if(s)switch(s[0]){case 2:i.push('"'+s[1].replace(/"/g,'""')+'"');break;default:i.push(s[1])}else i.push("")}t.push(i.join(","))}return t.join(";")}var bU={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function wU(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function b6(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var i="";if(r.biff>8)switch(e[n[0]][0]){case 357:return i=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?i:i+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return i=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return e[n[0]][0][3]?(i=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function w5(e,t,r){var n=b6(e,t,r);return n=="#REF"?n:wU(n,r)}function Tu(e,t,r,n,i){var a=i&&i.biff||8,s={s:{c:0,r:0},e:{c:0,r:0}},o=[],l,c,u,d=0,p=0,h,y="";if(!e[0]||!e[0][0])return"";for(var m=-1,x="",g=0,v=e[0].length;g<v;++g){var b=e[0][g];switch(b[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),c=o.pop(),m>=0){switch(e[0][m][1][0]){case 0:x=Vr(" ",e[0][m][1][1]);break;case 1:x=Vr("\r",e[0][m][1][1]);break;default:if(x="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}c=c+x,m=-1}o.push(c+bU[b[0]]+l);break;case"PtgIsect":l=o.pop(),c=o.pop(),o.push(c+" "+l);break;case"PtgUnion":l=o.pop(),c=o.pop(),o.push(c+","+l);break;case"PtgRange":l=o.pop(),c=o.pop(),o.push(c+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=sh(b[1][1],s,i),o.push(oh(u,a));break;case"PtgRefN":u=r?sh(b[1][1],r,i):b[1][1],o.push(oh(u,a));break;case"PtgRef3d":d=b[1][1],u=sh(b[1][2],s,i),y=w5(n,d,i),o.push(y+"!"+oh(u,a));break;case"PtgFunc":case"PtgFuncVar":var _=b[1][0],E=b[1][1];_||(_=0),_&=127;var F=_==0?[]:o.slice(-_);o.length-=_,E==="User"&&(E=F.shift()),o.push(E+"("+F.join(",")+")");break;case"PtgBool":o.push(b[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(b[1]);break;case"PtgNum":o.push(String(b[1]));break;case"PtgStr":o.push('"'+b[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(b[1]);break;case"PtgAreaN":h=s5(b[1][1],r?{s:r}:s,i),o.push(eg(h,i));break;case"PtgArea":h=s5(b[1][1],s,i),o.push(eg(h,i));break;case"PtgArea3d":d=b[1][1],h=b[1][2],y=w5(n,d,i),o.push(y+"!"+eg(h,i));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":p=b[1][2];var A=(n.names||[])[p-1]||(n[0]||[])[p],O=A?A.Name:"SH33TJSNAME"+String(p);O&&O.slice(0,6)=="_xlfn."&&!i.xlfn&&(O=O.slice(6)),o.push(O);break;case"PtgNameX":var C=b[1][1];p=b[1][2];var L;if(i.biff<=5)C<0&&(C=-C),n[C]&&(L=n[C][p]);else{var N="";if(((n[C]||[])[0]||[])[0]==14849||(((n[C]||[])[0]||[])[0]==1025?n[C][p]&&n[C][p].itab>0&&(N=n.SheetNames[n[C][p].itab-1]+"!"):N=n.SheetNames[p-1]+"!"),n[C]&&n[C][p])N+=n[C][p].Name;else if(n[0]&&n[0][p])N+=n[0][p].Name;else{var j=(b6(n,C,i)||"").split(";;");j[p-1]?N=j[p-1]:N+="SH33TJSERRX"}o.push(N);break}L||(L={Name:"SH33TJSERRY"}),o.push(L.Name);break;case"PtgParen":var T="(",B=")";if(m>=0){switch(x="",e[0][m][1][0]){case 2:T=Vr(" ",e[0][m][1][1])+T;break;case 3:T=Vr("\r",e[0][m][1][1])+T;break;case 4:B=Vr(" ",e[0][m][1][1])+B;break;case 5:B=Vr("\r",e[0][m][1][1])+B;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}m=-1}o.push(T+o.pop()+B);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":u={c:b[1][1],r:b[1][0]};var z={c:r.c,r:r.r};if(n.sharedf[gr(u)]){var Q=n.sharedf[gr(u)];o.push(Tu(Q,s,z,n,i))}else{var ne=!1;for(l=0;l!=n.arrayf.length;++l)if(c=n.arrayf[l],!(u.c<c[0].s.c||u.c>c[0].e.c)&&!(u.r<c[0].s.r||u.r>c[0].e.r)){o.push(Tu(c[1],s,z,n,i)),ne=!0;break}ne||o.push(b[1])}break;case"PtgArray":o.push("{"+_U(b[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":m=g;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+b[1].idx+"[#"+b[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(b));default:throw new Error("Unrecognized Formula Token: "+String(b))}var ie=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&m>=0&&ie.indexOf(e[0][g][0])==-1){b=e[0][m];var K=!0;switch(b[1][0]){case 4:K=!1;case 0:x=Vr(" ",b[1][1]);break;case 5:K=!1;case 1:x=Vr("\r",b[1][1]);break;default:if(x="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+b[1][0])}o.push((K?x:"")+o.pop()+(K?"":x)),m=-1}}if(o.length>1&&i.WTF)throw new Error("bad formula stack");return o[0]}function NU(e){if(e==null){var t=ze(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return Ql(e);return Ql(0)}function SU(e,t,r,n,i){var a=ec(t,r,i),s=NU(e.v),o=ze(6),l=33;o.write_shift(2,l),o.write_shift(4,0);for(var c=ze(e.bf.length),u=0;u<e.bf.length;++u)c[u]=e.bf[u];var d=$n([a,s,o,c]);return d}function T1(e,t,r){var n=e.read_shift(4),i=yU(e,n,r),a=e.read_shift(4),s=a>0?xU(e,a,i,r):null;return[i,s]}var kU=T1,j1=T1,EU=T1,AU=T1,TU={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},w6={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},jU={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function OU(e){var t="of:="+e.replace(Cx,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function CU(e){return e.replace(/\./,"!")}var lh=typeof Map<"u";function Fx(e,t,r){var n=0,i=e.length;if(r){if(lh?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var a=lh?r.get(t):r[t];n<a.length;++n)if(e[a[n]].t===t)return e.Count++,a[n]}}else for(;n<i;++n)if(e[n].t===t)return e.Count++,n;return e[i]={t},e.Count++,e.Unique++,r&&(lh?(r.has(t)||r.set(t,[]),r.get(t).push(i)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(i))),i}function O1(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(Xs=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=Rp(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=Vv(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function N6(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function fl(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],i=60,a=e.length;if(n==null&&r.ssf){for(;i<392;++i)if(r.ssf[i]==null){xS(t.z,i),r.ssf[i]=t.z,r.revssf[t.z]=n=i;break}}for(i=0;i!=a;++i)if(e[i].numFmtId===n)return i;return e[a]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},a}function LU(e,t,r){if(e&&e["!ref"]){var n=Pr(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function PU(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+hn(e[r])+'"/>';return t+"</mergeCells>"}function FU(e,t,r,n,i){var a=!1,s={},o=null;if(n.bookType!=="xlsx"&&t.vbaraw){var l=t.SheetNames[r];try{t.Workbook&&(l=t.Workbook.Sheets[r].CodeName||l)}catch{}a=!0,s.codeName=Rh(pr(l))}if(e&&e["!outline"]){var c={summaryBelow:1,summaryRight:1};e["!outline"].above&&(c.summaryBelow=0),e["!outline"].left&&(c.summaryRight=0),o=(o||"")+st("outlinePr",null,c)}!a&&!o||(i[i.length]=st("sheetPr",o,s))}var IU=["objects","scenarios","selectLockedCells","selectUnlockedCells"],RU=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function DU(e){var t={sheet:1};return IU.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),RU.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=s6(e.password).toString(16).toUpperCase()),st("sheetProtection",null,t)}function MU(e){return N6(e),st("pageMargins",null,e)}function BU(e,t){for(var r=["<cols>"],n,i=0;i!=t.length;++i)(n=t[i])&&(r[r.length]=st("col",null,O1(i,n)));return r[r.length]="</cols>",r.join("")}function UU(e,t,r,n){var i=typeof e.ref=="string"?e.ref:hn(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var a=r.Workbook.Names,s=ea(i);s.s.r==s.e.r&&(s.e.r=ea(t["!ref"]).e.r,i=hn(s));for(var o=0;o<a.length;++o){var l=a[o];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==n){l.Ref="'"+r.SheetNames[n]+"'!"+i;break}}return o==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),st("autoFilter",null,{ref:i})}function qU(e,t,r,n){var i={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),st("sheetViews",st("sheetView",null,i),{})}function $U(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var i="",a=e.t,s=e.v;if(e.t!=="z")switch(e.t){case"b":i=e.v?"1":"0";break;case"n":i=""+e.v;break;case"e":i=id[e.v];break;case"d":n&&n.cellDates?i=vi(e.v,-1).toISOString():(e=Li(e),e.t="n",i=""+(e.v=Ci(vi(e.v)))),typeof e.z>"u"&&(e.z=Gr[14]);break;default:i=e.v;break}var o=zn("v",pr(i)),l={r:t},c=fl(n.cellXfs,e,n);switch(c!==0&&(l.s=c),e.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){o=zn("v",""+Fx(n.Strings,e.v,n.revStrings)),l.t="s";break}l.t="str";break}if(e.t!=a&&(e.t=a,e.v=s),typeof e.f=="string"&&e.f){var u=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;o=st("f",pr(e.f),u)+(e.v!=null?o:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(l.cm=1),st("c",o,l)}function zU(e,t,r,n){var i=[],a=[],s=Pr(e["!ref"]),o="",l,c="",u=[],d=0,p=0,h=e["!rows"],y=Array.isArray(e),m={r:c},x,g=-1;for(p=s.s.c;p<=s.e.c;++p)u[p]=ni(p);for(d=s.s.r;d<=s.e.r;++d){for(a=[],c=Wn(d),p=s.s.c;p<=s.e.c;++p){l=u[p]+c;var v=y?(e[d]||[])[p]:e[l];v!==void 0&&(o=$U(v,l,e,t))!=null&&a.push(o)}(a.length>0||h&&h[d])&&(m={r:c},h&&h[d]&&(x=h[d],x.hidden&&(m.hidden=1),g=-1,x.hpx?g=Dp(x.hpx):x.hpt&&(g=x.hpt),g>-1&&(m.ht=g,m.customHeight=1),x.level&&(m.outlineLevel=x.level)),i[i.length]=st("row",a.join(""),m))}if(h)for(;d<h.length;++d)h&&h[d]&&(m={r:d+1},x=h[d],x.hidden&&(m.hidden=1),g=-1,x.hpx?g=Dp(x.hpx):x.hpt&&(g=x.hpt),g>-1&&(m.ht=g,m.customHeight=1),x.level&&(m.outlineLevel=x.level),i[i.length]=st("row","",m));return i.join("")}function S6(e,t,r,n){var i=[dn,st("worksheet",null,{xmlns:zu[0],"xmlns:r":jn.r})],a=r.SheetNames[e],s=0,o="",l=r.Sheets[a];l==null&&(l={});var c=l["!ref"]||"A1",u=Pr(c);if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+c+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),c=hn(u)}n||(n={}),l["!comments"]=[];var d=[];FU(l,r,e,t,i),i[i.length]=st("dimension",null,{ref:c}),i[i.length]=qU(l,t,e,r),t.sheetFormat&&(i[i.length]=st("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(i[i.length]=BU(l,l["!cols"])),i[s=i.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(o=zU(l,t),o.length>0&&(i[i.length]=o)),i.length>s+1&&(i[i.length]="</sheetData>",i[s]=i[s].replace("/>",">")),l["!protect"]&&(i[i.length]=DU(l["!protect"])),l["!autofilter"]!=null&&(i[i.length]=UU(l["!autofilter"],l,r,e)),l["!merges"]!=null&&l["!merges"].length>0&&(i[i.length]=PU(l["!merges"]));var p=-1,h,y=-1;return l["!links"].length>0&&(i[i.length]="<hyperlinks>",l["!links"].forEach(function(m){m[1].Target&&(h={ref:m[0]},m[1].Target.charAt(0)!="#"&&(y=hr(n,-1,pr(m[1].Target).replace(/#.*$/,""),nr.HLINK),h["r:id"]="rId"+y),(p=m[1].Target.indexOf("#"))>-1&&(h.location=pr(m[1].Target.slice(p+1))),m[1].Tooltip&&(h.tooltip=pr(m[1].Tooltip)),i[i.length]=st("hyperlink",null,h))}),i[i.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(i[i.length]=MU(l["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(i[i.length]=zn("ignoredErrors",st("ignoredError",null,{numberStoredAsText:1,sqref:c}))),d.length>0&&(y=hr(n,-1,"../drawings/drawing"+(e+1)+".xml",nr.DRAW),i[i.length]=st("drawing",null,{"r:id":"rId"+y}),l["!drawing"]=d),l["!comments"].length>0&&(y=hr(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",nr.VML),i[i.length]=st("legacyDrawing",null,{"r:id":"rId"+y}),l["!legacy"]=y),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function HU(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var i=e.read_shift(2);e.l+=1;var a=e.read_shift(1);return e.l=n,a&7&&(r.level=a&7),a&16&&(r.hidden=!0),a&32&&(r.hpt=i/20),r}function WU(e,t,r){var n=ze(145),i=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var a=320;i.hpx?a=Dp(i.hpx)*20:i.hpt&&(a=i.hpt*20),n.write_shift(2,a),n.write_shift(1,0);var s=0;i.level&&(s|=i.level),i.hidden&&(s|=16),(i.hpx||i.hpt)&&(s|=32),n.write_shift(1,s),n.write_shift(1,0);var o=0,l=n.l;n.l+=4;for(var c={r:e,c:0},u=0;u<16;++u)if(!(t.s.c>u+1<<10||t.e.c<u<<10)){for(var d=-1,p=-1,h=u<<10;h<u+1<<10;++h){c.c=h;var y=Array.isArray(r)?(r[c.r]||[])[c.c]:r[gr(c)];y&&(d<0&&(d=h),p=h)}d<0||(++o,n.write_shift(4,d),n.write_shift(4,p))}var m=n.l;return n.l=l,n.write_shift(4,o),n.l=m,n.length>n.l?n.slice(0,n.l):n}function VU(e,t,r,n){var i=WU(n,r,t);(i.length>17||(t["!rows"]||[])[n])&&Ze(e,0,i)}var GU=fc,KU=Wu;function YU(){}function XU(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=sD(e),r}function ZU(e,t,r){r==null&&(r=ze(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var i=1;i<3;++i)r.write_shift(1,0);return Pp({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),BS(e,r),r.slice(0,r.l)}function JU(e){var t=_a(e);return[t]}function QU(e,t,r){return r==null&&(r=ze(8)),lc(t,r)}function eq(e){var t=cc(e);return[t]}function tq(e,t,r){return r==null&&(r=ze(4)),uc(t,r)}function rq(e){var t=_a(e),r=e.read_shift(1);return[t,r,"b"]}function nq(e,t,r){return r==null&&(r=ze(9)),lc(t,r),r.write_shift(1,e.v?1:0),r}function iq(e){var t=cc(e),r=e.read_shift(1);return[t,r,"b"]}function aq(e,t,r){return r==null&&(r=ze(5)),uc(t,r),r.write_shift(1,e.v?1:0),r}function sq(e){var t=_a(e),r=e.read_shift(1);return[t,r,"e"]}function oq(e,t,r){return r==null&&(r=ze(9)),lc(t,r),r.write_shift(1,e.v),r}function lq(e){var t=cc(e),r=e.read_shift(1);return[t,r,"e"]}function cq(e,t,r){return r==null&&(r=ze(8)),uc(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function uq(e){var t=_a(e),r=e.read_shift(4);return[t,r,"s"]}function fq(e,t,r){return r==null&&(r=ze(12)),lc(t,r),r.write_shift(4,t.v),r}function hq(e){var t=cc(e),r=e.read_shift(4);return[t,r,"s"]}function dq(e,t,r){return r==null&&(r=ze(8)),uc(t,r),r.write_shift(4,t.v),r}function pq(e){var t=_a(e),r=Vu(e);return[t,r,"n"]}function mq(e,t,r){return r==null&&(r=ze(16)),lc(t,r),Ql(e.v,r),r}function gq(e){var t=cc(e),r=Vu(e);return[t,r,"n"]}function vq(e,t,r){return r==null&&(r=ze(12)),uc(t,r),Ql(e.v,r),r}function xq(e){var t=_a(e),r=US(e);return[t,r,"n"]}function yq(e,t,r){return r==null&&(r=ze(12)),lc(t,r),qS(e.v,r),r}function _q(e){var t=cc(e),r=US(e);return[t,r,"n"]}function bq(e,t,r){return r==null&&(r=ze(8)),uc(t,r),qS(e.v,r),r}function wq(e){var t=_a(e),r=Ex(e);return[t,r,"is"]}function Nq(e){var t=_a(e),r=ii(e);return[t,r,"str"]}function Sq(e,t,r){return r==null&&(r=ze(12+4*e.v.length)),lc(t,r),Cn(e.v,r),r.length>r.l?r.slice(0,r.l):r}function kq(e){var t=cc(e),r=ii(e);return[t,r,"str"]}function Eq(e,t,r){return r==null&&(r=ze(8+4*e.v.length)),uc(t,r),Cn(e.v,r),r.length>r.l?r.slice(0,r.l):r}function Aq(e,t,r){var n=e.l+t,i=_a(e);i.r=r["!row"];var a=e.read_shift(1),s=[i,a,"b"];if(r.cellFormula){e.l+=2;var o=j1(e,n-e.l,r);s[3]=Tu(o,null,i,r.supbooks,r)}else e.l=n;return s}function Tq(e,t,r){var n=e.l+t,i=_a(e);i.r=r["!row"];var a=e.read_shift(1),s=[i,a,"e"];if(r.cellFormula){e.l+=2;var o=j1(e,n-e.l,r);s[3]=Tu(o,null,i,r.supbooks,r)}else e.l=n;return s}function jq(e,t,r){var n=e.l+t,i=_a(e);i.r=r["!row"];var a=Vu(e),s=[i,a,"n"];if(r.cellFormula){e.l+=2;var o=j1(e,n-e.l,r);s[3]=Tu(o,null,i,r.supbooks,r)}else e.l=n;return s}function Oq(e,t,r){var n=e.l+t,i=_a(e);i.r=r["!row"];var a=ii(e),s=[i,a,"str"];if(r.cellFormula){e.l+=2;var o=j1(e,n-e.l,r);s[3]=Tu(o,null,i,r.supbooks,r)}else e.l=n;return s}var Cq=fc,Lq=Wu;function Pq(e,t){return t==null&&(t=ze(4)),t.write_shift(4,e),t}function Fq(e,t){var r=e.l+t,n=fc(e),i=Ax(e),a=ii(e),s=ii(e),o=ii(e);e.l=r;var l={rfx:n,relId:i,loc:a,display:o};return s&&(l.Tooltip=s),l}function Iq(e,t){var r=ze(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));Wu({s:On(e[0]),e:On(e[0])},r),Tx("rId"+t,r);var n=e[1].Target.indexOf("#"),i=n==-1?"":e[1].Target.slice(n+1);return Cn(i||"",r),Cn(e[1].Tooltip||"",r),Cn("",r),r.slice(0,r.l)}function Rq(){}function Dq(e,t,r){var n=e.l+t,i=$S(e),a=e.read_shift(1),s=[i];if(s[2]=a,r.cellFormula){var o=kU(e,n-e.l,r);s[1]=o}else e.l=n;return s}function Mq(e,t,r){var n=e.l+t,i=fc(e),a=[i];if(r.cellFormula){var s=AU(e,n-e.l,r);a[1]=s,e.l=n}else e.l=n;return a}function Bq(e,t,r){r==null&&(r=ze(18));var n=O1(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var i=0;return t.hidden&&(i|=1),typeof n.width=="number"&&(i|=2),t.level&&(i|=t.level<<8),r.write_shift(2,i),r}var k6=["left","right","top","bottom","header","footer"];function Uq(e){var t={};return k6.forEach(function(r){t[r]=Vu(e)}),t}function qq(e,t){return t==null&&(t=ze(6*8)),N6(e),k6.forEach(function(r){Ql(e[r],t)}),t}function $q(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function zq(e,t,r){r==null&&(r=ze(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function Hq(e){var t=ze(24);return t.write_shift(4,4),t.write_shift(4,1),Wu(e,t),t}function Wq(e,t){return t==null&&(t=ze(16*4+2)),t.write_shift(2,e.password?s6(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function Vq(){}function Gq(){}function Kq(e,t,r,n,i,a,s){if(t.v===void 0)return!1;var o="";switch(t.t){case"b":o=t.v?"1":"0";break;case"d":t=Li(t),t.z=t.z||Gr[14],t.v=Ci(vi(t.v)),t.t="n";break;case"n":case"e":o=""+t.v;break;default:o=t.v;break}var l={r,c:n};switch(l.s=fl(i.cellXfs,t,i),t.l&&a["!links"].push([gr(l),t.l]),t.c&&a["!comments"].push([gr(l),t.c]),t.t){case"s":case"str":return i.bookSST?(o=Fx(i.Strings,t.v,i.revStrings),l.t="s",l.v=o,s?Ze(e,18,dq(t,l)):Ze(e,7,fq(t,l))):(l.t="str",s?Ze(e,17,Eq(t,l)):Ze(e,6,Sq(t,l))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?s?Ze(e,13,bq(t,l)):Ze(e,2,yq(t,l)):s?Ze(e,16,vq(t,l)):Ze(e,5,mq(t,l)),!0;case"b":return l.t="b",s?Ze(e,15,aq(t,l)):Ze(e,4,nq(t,l)),!0;case"e":return l.t="e",s?Ze(e,14,cq(t,l)):Ze(e,3,oq(t,l)),!0}return s?Ze(e,12,tq(t,l)):Ze(e,1,QU(t,l)),!0}function Yq(e,t,r,n){var i=Pr(t["!ref"]||"A1"),a,s="",o=[];Ze(e,145);var l=Array.isArray(t),c=i.e.r;t["!rows"]&&(c=Math.max(i.e.r,t["!rows"].length-1));for(var u=i.s.r;u<=c;++u){s=Wn(u),VU(e,t,i,u);var d=!1;if(u<=i.e.r)for(var p=i.s.c;p<=i.e.c;++p){u===i.s.r&&(o[p]=ni(p)),a=o[p]+s;var h=l?(t[u]||[])[p]:t[a];if(!h){d=!1;continue}d=Kq(e,h,u,p,n,t,d)}}Ze(e,146)}function Xq(e,t){!t||!t["!merges"]||(Ze(e,177,Pq(t["!merges"].length)),t["!merges"].forEach(function(r){Ze(e,176,Lq(r))}),Ze(e,178))}function Zq(e,t){!t||!t["!cols"]||(Ze(e,390),t["!cols"].forEach(function(r,n){r&&Ze(e,60,Bq(n,r))}),Ze(e,391))}function Jq(e,t){!t||!t["!ref"]||(Ze(e,648),Ze(e,649,Hq(Pr(t["!ref"]))),Ze(e,650))}function Qq(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var i=hr(r,-1,n[1].Target.replace(/#.*$/,""),nr.HLINK);Ze(e,494,Iq(n,i))}}),delete t["!links"]}function e$(e,t,r,n){if(t["!comments"].length>0){var i=hr(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",nr.VML);Ze(e,551,Tx("rId"+i)),t["!legacy"]=i}}function t$(e,t,r,n){if(t["!autofilter"]){var i=t["!autofilter"],a=typeof i.ref=="string"?i.ref:hn(i.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,o=ea(a);o.s.r==o.e.r&&(o.e.r=ea(t["!ref"]).e.r,a=hn(o));for(var l=0;l<s.length;++l){var c=s[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+a;break}}l==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),Ze(e,161,Wu(Pr(a))),Ze(e,162)}}function r$(e,t,r){Ze(e,133),Ze(e,137,zq(t,r)),Ze(e,138),Ze(e,134)}function n$(e,t){t["!protect"]&&Ze(e,535,Wq(t["!protect"]))}function i$(e,t,r,n){var i=Oi(),a=r.SheetNames[e],s=r.Sheets[a]||{},o=a;try{r&&r.Workbook&&(o=r.Workbook.Sheets[e].CodeName||o)}catch{}var l=Pr(s["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return s["!links"]=[],s["!comments"]=[],Ze(i,129),(r.vbaraw||s["!outline"])&&Ze(i,147,ZU(o,s["!outline"])),Ze(i,148,KU(l)),r$(i,s,r.Workbook),Zq(i,s),Yq(i,s,e,t),n$(i,s),t$(i,s,r,e),Xq(i,s),Qq(i,s,n),s["!margins"]&&Ze(i,476,qq(s["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&Jq(i,s),e$(i,s,e,n),Ze(i,130),i.end()}function a$(e,t){e.l+=10;var r=ii(e);return{name:r}}var s$=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function o$(e){return!e.Workbook||!e.Workbook.WBProps?"false":M9(e.Workbook.WBProps.date1904)?"true":"false"}var l$="][*?/\\".split("");function E6(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return l$.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function c$(e,t,r){e.forEach(function(n,i){E6(n);for(var a=0;a<i;++a)if(n==e[a])throw new Error("Duplicate Sheet Name: "+n);if(r){var s=t&&t[i]&&t[i].CodeName||n;if(s.charCodeAt(0)==95&&s.length>22)throw new Error("Bad Code Name: Worksheet"+s)}})}function u$(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];c$(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)LU(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}function A6(e){var t=[dn];t[t.length]=st("workbook",null,{xmlns:zu[0],"xmlns:r":jn.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(s$.forEach(function(o){e.Workbook.WBProps[o[0]]!=null&&e.Workbook.WBProps[o[0]]!=o[1]&&(n[o[0]]=e.Workbook.WBProps[o[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=st("workbookPr",null,n);var i=e.Workbook&&e.Workbook.Sheets||[],a=0;if(i&&i[0]&&i[0].Hidden){for(t[t.length]="<bookViews>",a=0;a!=e.SheetNames.length&&!(!i[a]||!i[a].Hidden);++a);a==e.SheetNames.length&&(a=0),t[t.length]='<workbookView firstSheet="'+a+'" activeTab="'+a+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",a=0;a!=e.SheetNames.length;++a){var s={name:pr(e.SheetNames[a].slice(0,31))};if(s.sheetId=""+(a+1),s["r:id"]="rId"+(a+1),i[a])switch(i[a].Hidden){case 1:s.state="hidden";break;case 2:s.state="veryHidden";break}t[t.length]=st("sheet",null,s)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(o){var l={name:o.Name};o.Comment&&(l.comment=o.Comment),o.Sheet!=null&&(l.localSheetId=""+o.Sheet),o.Hidden&&(l.hidden="1"),o.Ref&&(t[t.length]=st("definedName",pr(o.Ref),l))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function f$(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=Wv(e),r.name=ii(e),r}function h$(e,t){return t||(t=ze(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),Tx(e.strRelID,t),Cn(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function d$(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var i=t>8?ii(e):"";return i.length>0&&(r.CodeName=i),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function p$(e,t){t||(t=ze(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),BS(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function m$(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var i=e.read_shift(4),a=oD(e),s=EU(e,0,r),o=Ax(e);e.l=n;var l={Name:a,Ptg:s};return i<268435455&&(l.Sheet=i),o&&(l.Comment=o),l}function g$(e,t){Ze(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,i={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};Ze(e,156,h$(i))}Ze(e,144)}function v$(e,t){t||(t=ze(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return Cn("SheetJS",t),Cn(Ep.version,t),Cn(Ep.version,t),Cn("7262",t),t.length>t.l?t.slice(0,t.l):t}function x$(e,t){t||(t=ze(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function y$(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,i=-1,a=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&i==-1?i=n:r[n].Hidden==1&&a==-1&&(a=n);a>i||(Ze(e,135),Ze(e,158,x$(i)),Ze(e,136))}}function _$(e,t){var r=Oi();return Ze(r,131),Ze(r,128,v$()),Ze(r,153,p$(e.Workbook&&e.Workbook.WBProps||null)),y$(r,e),g$(r,e),Ze(r,132),r.end()}function b$(e,t,r){return(t.slice(-4)===".bin"?_$:A6)(e)}function w$(e,t,r,n,i){return(t.slice(-4)===".bin"?i$:S6)(e,r,n,i)}function N$(e,t,r){return(t.slice(-4)===".bin"?qM:c6)(e,r)}function S$(e,t,r){return(t.slice(-4)===".bin"?pM:a6)(e,r)}function k$(e,t,r){return(t.slice(-4)===".bin"?nB:p6)(e)}function E$(e){return(e.slice(-4)===".bin"?YM:h6)()}function A$(e,t){var r=[];return e.Props&&r.push(ND(e.Props,t)),e.Custprops&&r.push(SD(e.Props,e.Custprops)),r.join("")}function T$(){return""}function j$(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,i){var a=[];a.push(st("NumberFormat",null,{"ss:Format":pr(Gr[n.numFmtId])}));var s={"ss:ID":"s"+(21+i)};r.push(st("Style",a.join(""),s))}),st("Styles",r.join(""))}function T6(e){return st("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+Lx(e.Ref,{r:0,c:0})})}function O$(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var i=t[n];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||r.push(T6(i)))}return st("Names",r.join(""))}function C$(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var i=n.Workbook.Names,a=[],s=0;s<i.length;++s){var o=i[s];o.Sheet==r&&(o.Name.match(/^_xlfn\./)||a.push(T6(o)))}return a.join("")}function L$(e,t,r,n){if(!e)return"";var i=[];if(e["!margins"]&&(i.push("<PageSetup>"),e["!margins"].header&&i.push(st("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&i.push(st("Footer",null,{"x:Margin":e["!margins"].footer})),i.push(st("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),i.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)i.push(st("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var a=0;a<r&&!(n.Workbook.Sheets[a]&&!n.Workbook.Sheets[a].Hidden);++a);a==r&&i.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),e["!protect"]&&(i.push(zn("ProtectContents","True")),e["!protect"].objects&&i.push(zn("ProtectObjects","True")),e["!protect"].scenarios&&i.push(zn("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?i.push(zn("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&i.push(zn("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(s){e["!protect"][s[0]]&&i.push("<"+s[1]+"/>")})),i.length==0?"":st("WorksheetOptions",i.join(""),{xmlns:Gi.x})}function P$(e){return e.map(function(t){var r=D9(t.t||""),n=st("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return st("Comment",n,{"ss:Author":t.a})}).join("")}function F$(e,t,r,n,i,a,s){if(!e||e.v==null&&e.f==null)return"";var o={};if(e.f&&(o["ss:Formula"]="="+pr(Lx(e.f,s))),e.F&&e.F.slice(0,t.length)==t){var l=On(e.F.slice(t.length+1));o["ss:ArrayRange"]="RC:R"+(l.r==s.r?"":"["+(l.r-s.r)+"]")+"C"+(l.c==s.c?"":"["+(l.c-s.c)+"]")}if(e.l&&e.l.Target&&(o["ss:HRef"]=pr(e.l.Target),e.l.Tooltip&&(o["x:HRefScreenTip"]=pr(e.l.Tooltip))),r["!merges"])for(var c=r["!merges"],u=0;u!=c.length;++u)c[u].s.c!=s.c||c[u].s.r!=s.r||(c[u].e.c>c[u].s.c&&(o["ss:MergeAcross"]=c[u].e.c-c[u].s.c),c[u].e.r>c[u].s.r&&(o["ss:MergeDown"]=c[u].e.r-c[u].s.r));var d="",p="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":d="Number",p=String(e.v);break;case"b":d="Boolean",p=e.v?"1":"0";break;case"e":d="Error",p=id[e.v];break;case"d":d="DateTime",p=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||Gr[14]);break;case"s":d="String",p=R9(e.v||"");break}var h=fl(n.cellXfs,e,n);o["ss:StyleID"]="s"+(21+h),o["ss:Index"]=s.c+1;var y=e.v!=null?p:"",m=e.t=="z"?"":'<Data ss:Type="'+d+'">'+y+"</Data>";return(e.c||[]).length>0&&(m+=P$(e.c)),st("Cell",m,o)}function I$(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=l6(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function R$(e,t,r,n){if(!e["!ref"])return"";var i=Pr(e["!ref"]),a=e["!merges"]||[],s=0,o=[];e["!cols"]&&e["!cols"].forEach(function(x,g){Ox(x);var v=!!x.width,b=O1(g,x),_={"ss:Index":g+1};v&&(_["ss:Width"]=Ip(b.width)),x.hidden&&(_["ss:Hidden"]="1"),o.push(st("Column",null,_))});for(var l=Array.isArray(e),c=i.s.r;c<=i.e.r;++c){for(var u=[I$(c,(e["!rows"]||[])[c])],d=i.s.c;d<=i.e.c;++d){var p=!1;for(s=0;s!=a.length;++s)if(!(a[s].s.c>d)&&!(a[s].s.r>c)&&!(a[s].e.c<d)&&!(a[s].e.r<c)){(a[s].s.c!=d||a[s].s.r!=c)&&(p=!0);break}if(!p){var h={r:c,c:d},y=gr(h),m=l?(e[c]||[])[d]:e[y];u.push(F$(m,y,e,t,r,n,h))}}u.push("</Row>"),u.length>2&&o.push(u.join(""))}return o.join("")}function D$(e,t,r){var n=[],i=r.SheetNames[e],a=r.Sheets[i],s=a?C$(a,t,e,r):"";return s.length>0&&n.push("<Names>"+s+"</Names>"),s=a?R$(a,t,e,r):"",s.length>0&&n.push("<Table>"+s+"</Table>"),n.push(L$(a,t,e,r)),n.join("")}function M$(e,t){t||(t={}),e.SSF||(e.SSF=Li(Gr)),e.SSF&&(k1(),S1(e.SSF),t.revssf=E1(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],fl(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(A$(e,t)),r.push(T$()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(st("Worksheet",D$(n,t,e),{"ss:Name":pr(e.SheetNames[n])}));return r[2]=j$(e,t),r[3]=O$(e),dn+st("Workbook",r.join(""),{xmlns:Gi.ss,"xmlns:o":Gi.o,"xmlns:x":Gi.x,"xmlns:ss":Gi.ss,"xmlns:dt":Gi.dt,"xmlns:html":Gi.html})}var ng={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function B$(e,t){var r=[],n=[],i=[],a=0,s,o=Yb(l5,"n"),l=Yb(c5,"n");if(e.Props)for(s=Gn(e.Props),a=0;a<s.length;++a)(Object.prototype.hasOwnProperty.call(o,s[a])?r:Object.prototype.hasOwnProperty.call(l,s[a])?n:i).push([s[a],e.Props[s[a]]]);if(e.Custprops)for(s=Gn(e.Custprops),a=0;a<s.length;++a)Object.prototype.hasOwnProperty.call(e.Props||{},s[a])||(Object.prototype.hasOwnProperty.call(o,s[a])?r:Object.prototype.hasOwnProperty.call(l,s[a])?n:i).push([s[a],e.Custprops[s[a]]]);var c=[];for(a=0;a<i.length;++a)JS.indexOf(i[a][0])>-1||YS.indexOf(i[a][0])>-1||i[a][1]!=null&&c.push(i[a]);n.length&&xr.utils.cfb_add(t,"/SummaryInformation",p5(n,ng.SI,l,c5)),(r.length||c.length)&&xr.utils.cfb_add(t,"/DocumentSummaryInformation",p5(r,ng.DSI,o,l5,c.length?c:null,ng.UDI))}function U$(e,t){var r=t||{},n=xr.utils.cfb_new({root:"R"}),i="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":i="/Workbook",r.biff=8;break;case"biff5":i="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return xr.utils.cfb_add(n,i,j6(e,r)),r.biff==8&&(e.Props||e.Custprops)&&B$(e,n),r.biff==8&&e.vbaraw&&iB(n,xr.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var q$={0:{f:HU},1:{f:JU},2:{f:xq},3:{f:sq},4:{f:rq},5:{f:pq},6:{f:Nq},7:{f:uq},8:{f:Oq},9:{f:jq},10:{f:Aq},11:{f:Tq},12:{f:eq},13:{f:_q},14:{f:lq},15:{f:iq},16:{f:gq},17:{f:kq},18:{f:hq},19:{f:Ex},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:m$},40:{},42:{},43:{f:NM},44:{f:bM},45:{f:EM},46:{f:TM},47:{f:AM},48:{},49:{f:eD},50:{},51:{f:HM},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:tM},62:{f:wq},63:{f:XM},64:{f:Vq},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:xs,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:$q},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:XU},148:{f:GU,p:16},151:{f:Rq},152:{},153:{f:d$},154:{},155:{},156:{f:f$},157:{},158:{},159:{T:1,f:fM},160:{T:-1},161:{T:1,f:fc},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Cq},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:$M},336:{T:-1},337:{f:GM,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Wv},357:{},358:{},359:{},360:{T:1},361:{},362:{f:YD},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Dq},427:{f:Mq},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Uq},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:YU},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Fq},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Wv},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:tB},633:{T:1},634:{T:-1},635:{T:1,f:QM},636:{T:-1},637:{f:iD},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:a$},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Gq},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function lt(e,t,r,n){var i=t;if(!isNaN(i)){var a=n||(r||[]).length||0,s=e.next(4);s.write_shift(2,i),s.write_shift(2,a),a>0&&Nx(r)&&e.push(r)}}function $$(e,t,r,n){var i=(r||[]).length||0;if(i<=8224)return lt(e,t,r,i);var a=t;if(!isNaN(a)){for(var s=r.parts||[],o=0,l=0,c=0;c+(s[o]||8224)<=8224;)c+=s[o]||8224,o++;var u=e.next(4);for(u.write_shift(2,a),u.write_shift(2,c),e.push(r.slice(l,l+c)),l+=c;l<i;){for(u=e.next(4),u.write_shift(2,60),c=0;c+(s[o]||8224)<=8224;)c+=s[o]||8224,o++;u.write_shift(2,c),e.push(r.slice(l,l+c)),l+=c}}}function sd(e,t,r){return e||(e=ze(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function z$(e,t,r,n){var i=ze(9);return sd(i,e,t),e6(r,n||"b",i),i}function H$(e,t,r){var n=ze(8+2*r.length);return sd(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function W$(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var i=t.t=="d"?Ci(vi(t.v)):t.v;i==(i|0)&&i>=0&&i<65536?lt(e,2,aM(r,n,i)):lt(e,3,iM(r,n,i));return;case"b":case"e":lt(e,5,z$(r,n,t.v,t.t));return;case"s":case"str":lt(e,4,H$(r,n,(t.v||"").slice(0,255)));return}lt(e,1,sd(null,r,n))}function V$(e,t,r,n){var i=Array.isArray(t),a=Pr(t["!ref"]||"A1"),s,o="",l=[];if(a.e.c>255||a.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");a.e.c=Math.min(a.e.c,255),a.e.r=Math.min(a.e.c,16383),s=hn(a)}for(var c=a.s.r;c<=a.e.r;++c){o=Wn(c);for(var u=a.s.c;u<=a.e.c;++u){c===a.s.r&&(l[u]=ni(u)),s=l[u]+o;var d=i?(t[c]||[])[u]:t[s];d&&W$(e,d,c,u)}}}function G$(e,t){for(var r=t||{},n=Oi(),i=0,a=0;a<e.SheetNames.length;++a)e.SheetNames[a]==r.sheet&&(i=a);if(i==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return lt(n,r.biff==4?1033:r.biff==3?521:9,jx(e,16,r)),V$(n,e.Sheets[e.SheetNames[i]],i,r),lt(n,10),n.end()}function K$(e,t,r){lt(e,49,qD({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},r))}function Y$(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)t[i]!=null&&lt(e,1054,HD(i,t[i],r))})}function X$(e,t){var r=ze(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),lt(e,2151,r),r=ze(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),n6(Pr(t["!ref"]||"A1"),r),r.write_shift(4,4),lt(e,2152,r)}function Z$(e,t){for(var r=0;r<16;++r)lt(e,224,g5({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){lt(e,224,g5(n,0,t))})}function J$(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];lt(e,440,JD(n)),n[1].Tooltip&&lt(e,2048,QD(n))}delete t["!links"]}function Q$(e,t){if(t){var r=0;t.forEach(function(n,i){++r<=256&&n&&lt(e,125,rM(O1(i,n),i))})}}function ez(e,t,r,n,i){var a=16+fl(i.cellXfs,t,i);if(t.v==null&&!t.bf){lt(e,513,ec(r,n,a));return}if(t.bf)lt(e,6,SU(t,r,n,i,a));else switch(t.t){case"d":case"n":var s=t.t=="d"?Ci(vi(t.v)):t.v;lt(e,515,KD(r,n,s,a));break;case"b":case"e":lt(e,517,GD(r,n,t.v,a,i,t.t));break;case"s":case"str":if(i.bookSST){var o=Fx(i.Strings,t.v,i.revStrings);lt(e,253,$D(r,n,o,a))}else lt(e,516,zD(r,n,(t.v||"").slice(0,255),a,i));break;default:lt(e,513,ec(r,n,a))}}function tz(e,t,r){var n=Oi(),i=r.SheetNames[e],a=r.Sheets[i]||{},s=(r||{}).Workbook||{},o=(s.Sheets||[])[e]||{},l=Array.isArray(a),c=t.biff==8,u,d="",p=[],h=Pr(a["!ref"]||"A1"),y=c?65536:16384;if(h.e.c>255||h.e.r>=y){if(t.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:IV16384");h.e.c=Math.min(h.e.c,255),h.e.r=Math.min(h.e.c,y-1)}lt(n,2057,jx(r,16,t)),lt(n,13,fa(1)),lt(n,12,fa(100)),lt(n,15,pi(!0)),lt(n,17,pi(!1)),lt(n,16,Ql(.001)),lt(n,95,pi(!0)),lt(n,42,pi(!1)),lt(n,43,pi(!1)),lt(n,130,fa(1)),lt(n,128,VD()),lt(n,131,pi(!1)),lt(n,132,pi(!1)),c&&Q$(n,a["!cols"]),lt(n,512,WD(h,t)),c&&(a["!links"]=[]);for(var m=h.s.r;m<=h.e.r;++m){d=Wn(m);for(var x=h.s.c;x<=h.e.c;++x){m===h.s.r&&(p[x]=ni(x)),u=p[x]+d;var g=l?(a[m]||[])[x]:a[u];g&&(ez(n,g,m,x,t),c&&g.l&&a["!links"].push([u,g.l]))}}var v=o.CodeName||o.name||i;return c&&lt(n,574,UD((s.Views||[])[0])),c&&(a["!merges"]||[]).length&&lt(n,229,ZD(a["!merges"])),c&&J$(n,a),lt(n,442,r6(v)),c&&X$(n,a),lt(n,10),n.end()}function rz(e,t,r){var n=Oi(),i=(e||{}).Workbook||{},a=i.Sheets||[],s=i.WBProps||{},o=r.biff==8,l=r.biff==5;if(lt(n,2057,jx(e,5,r)),r.bookType=="xla"&&lt(n,135),lt(n,225,o?fa(1200):null),lt(n,193,AD(2)),l&&lt(n,191),l&&lt(n,192),lt(n,226),lt(n,92,RD("SheetJS",r)),lt(n,66,fa(o?1200:1252)),o&&lt(n,353,fa(0)),o&&lt(n,448),lt(n,317,nM(e.SheetNames.length)),o&&e.vbaraw&&lt(n,211),o&&e.vbaraw){var c=s.CodeName||"ThisWorkbook";lt(n,442,r6(c))}lt(n,156,fa(17)),lt(n,25,pi(!1)),lt(n,18,pi(!1)),lt(n,19,fa(0)),o&&lt(n,431,pi(!1)),o&&lt(n,444,fa(0)),lt(n,61,BD()),lt(n,64,pi(!1)),lt(n,141,fa(0)),lt(n,34,pi(o$(e)=="true")),lt(n,14,pi(!0)),o&&lt(n,439,pi(!1)),lt(n,218,fa(0)),K$(n,e,r),Y$(n,e.SSF,r),Z$(n,r),o&&lt(n,352,pi(!1));var u=n.end(),d=Oi();o&&lt(d,140,eM()),o&&r.Strings&&$$(d,252,MD(r.Strings)),lt(d,10);var p=d.end(),h=Oi(),y=0,m=0;for(m=0;m<e.SheetNames.length;++m)y+=(o?12:11)+(o?2:1)*e.SheetNames[m].length;var x=u.length+y+p.length;for(m=0;m<e.SheetNames.length;++m){var g=a[m]||{};lt(h,133,DD({pos:x,hs:g.Hidden||0,dt:0,name:e.SheetNames[m]},r)),x+=t[m].length}var v=h.end();if(y!=v.length)throw new Error("BS8 "+y+" != "+v.length);var b=[];return u.length&&b.push(u),v.length&&b.push(v),p.length&&b.push(p),$n(b)}function nz(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=Li(Gr)),e&&e.SSF&&(k1(),S1(e.SSF),r.revssf=E1(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,Ix(r),r.cellXfs=[],fl(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var i=0;i<e.SheetNames.length;++i)n[n.length]=tz(i,r,e);return n.unshift(rz(e,n,r)),$n(n)}function j6(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var i=ea(n["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var a=t||{};switch(a.biff||2){case 8:case 5:return nz(e,t);case 4:case 3:case 2:return G$(e,t)}throw new Error("invalid type "+a.bookType+" for BIFF")}function iz(e,t,r,n){for(var i=e["!merges"]||[],a=[],s=t.s.c;s<=t.e.c;++s){for(var o=0,l=0,c=0;c<i.length;++c)if(!(i[c].s.r>r||i[c].s.c>s)&&!(i[c].e.r<r||i[c].e.c<s)){if(i[c].s.r<r||i[c].s.c<s){o=-1;break}o=i[c].e.r-i[c].s.r+1,l=i[c].e.c-i[c].s.c+1;break}if(!(o<0)){var u=gr({r,c:s}),d=n.dense?(e[r]||[])[s]:e[u],p=d&&d.v!=null&&(d.h||I9(d.w||(ro(d),d.w)||""))||"",h={};o>1&&(h.rowspan=o),l>1&&(h.colspan=l),n.editable?p='<span contenteditable="true">'+p+"</span>":d&&(h["data-t"]=d&&d.t||"z",d.v!=null&&(h["data-v"]=d.v),d.z!=null&&(h["data-z"]=d.z),d.l&&(d.l.Target||"#").charAt(0)!="#"&&(p='<a href="'+d.l.Target+'">'+p+"</a>")),h.id=(n.id||"sjs")+"-"+u,a.push(st("td",p,h))}}var y="<tr>";return y+a.join("")+"</tr>"}var az='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',sz="</body></html>";function oz(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function O6(e,t){var r=t||{},n=r.header!=null?r.header:az,i=r.footer!=null?r.footer:sz,a=[n],s=ea(e["!ref"]);r.dense=Array.isArray(e),a.push(oz(e,s,r));for(var o=s.s.r;o<=s.e.r;++o)a.push(iz(e,s,o,r));return a.push("</table>"+i),a.join("")}function C6(e,t,r){var n=r||{},i=0,a=0;if(n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var s=typeof n.origin=="string"?On(n.origin):n.origin;i=s.r,a=s.c}var o=t.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:i,c:a}};if(e["!ref"]){var u=ea(e["!ref"]);c.s.r=Math.min(c.s.r,u.s.r),c.s.c=Math.min(c.s.c,u.s.c),c.e.r=Math.max(c.e.r,u.e.r),c.e.c=Math.max(c.e.c,u.e.c),i==-1&&(c.e.r=i=u.e.r+1)}var d=[],p=0,h=e["!rows"]||(e["!rows"]=[]),y=0,m=0,x=0,g=0,v=0,b=0;for(e["!cols"]||(e["!cols"]=[]);y<o.length&&m<l;++y){var _=o[y];if(N5(_)){if(n.display)continue;h[m]={hidden:!0}}var E=_.children;for(x=g=0;x<E.length;++x){var F=E[x];if(!(n.display&&N5(F))){var A=F.hasAttribute("data-v")?F.getAttribute("data-v"):F.hasAttribute("v")?F.getAttribute("v"):B9(F.innerHTML),O=F.getAttribute("data-z")||F.getAttribute("z");for(p=0;p<d.length;++p){var C=d[p];C.s.c==g+a&&C.s.r<m+i&&m+i<=C.e.r&&(g=C.e.c+1-a,p=-1)}b=+F.getAttribute("colspan")||1,((v=+F.getAttribute("rowspan")||1)>1||b>1)&&d.push({s:{r:m+i,c:g+a},e:{r:m+i+(v||1)-1,c:g+a+(b||1)-1}});var L={t:"s",v:A},N=F.getAttribute("data-t")||F.getAttribute("t")||"";A!=null&&(A.length==0?L.t=N||"z":n.raw||A.trim().length==0||N=="s"||(A==="TRUE"?L={t:"b",v:!0}:A==="FALSE"?L={t:"b",v:!1}:isNaN(Ys(A))?isNaN(Ih(A).getDate())||(L={t:"d",v:vi(A)},n.cellDates||(L={t:"n",v:Ci(L.v)}),L.z=n.dateNF||Gr[14]):L={t:"n",v:Ys(A)})),L.z===void 0&&O!=null&&(L.z=O);var j="",T=F.getElementsByTagName("A");if(T&&T.length)for(var B=0;B<T.length&&!(T[B].hasAttribute("href")&&(j=T[B].getAttribute("href"),j.charAt(0)!="#"));++B);j&&j.charAt(0)!="#"&&(L.l={Target:j}),n.dense?(e[m+i]||(e[m+i]=[]),e[m+i][g+a]=L):e[gr({c:g+a,r:m+i})]=L,c.e.c<g+a&&(c.e.c=g+a),g+=b}}++m}return d.length&&(e["!merges"]=(e["!merges"]||[]).concat(d)),c.e.r=Math.max(c.e.r,m-1+i),e["!ref"]=hn(c),m>=l&&(e["!fullref"]=hn((c.e.r=o.length-y+m-1+i,c))),e}function L6(e,t){var r=t||{},n=r.dense?[]:{};return C6(n,e,t)}function lz(e,t){return oc(L6(e,t),t)}function N5(e){var t="",r=cz(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function cz(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var uz=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+Dh({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return dn+t}}(),S5=function(){var e=function(a){return pr(a).replace(/  +/g,function(s){return'<text:s text:c="'+s.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(a,s,o){var l=[];l.push('      <table:table table:name="'+pr(s.SheetNames[o])+`" table:style-name="ta1">
`);var c=0,u=0,d=ea(a["!ref"]||"A1"),p=a["!merges"]||[],h=0,y=Array.isArray(a);if(a["!cols"])for(u=0;u<=d.e.c;++u)l.push("        <table:table-column"+(a["!cols"][u]?' table:style-name="co'+a["!cols"][u].ods+'"':"")+`></table:table-column>
`);var m="",x=a["!rows"]||[];for(c=0;c<d.s.r;++c)m=x[c]?' table:style-name="ro'+x[c].ods+'"':"",l.push("        <table:table-row"+m+`></table:table-row>
`);for(;c<=d.e.r;++c){for(m=x[c]?' table:style-name="ro'+x[c].ods+'"':"",l.push("        <table:table-row"+m+`>
`),u=0;u<d.s.c;++u)l.push(t);for(;u<=d.e.c;++u){var g=!1,v={},b="";for(h=0;h!=p.length;++h)if(!(p[h].s.c>u)&&!(p[h].s.r>c)&&!(p[h].e.c<u)&&!(p[h].e.r<c)){(p[h].s.c!=u||p[h].s.r!=c)&&(g=!0),v["table:number-columns-spanned"]=p[h].e.c-p[h].s.c+1,v["table:number-rows-spanned"]=p[h].e.r-p[h].s.r+1;break}if(g){l.push(r);continue}var _=gr({r:c,c:u}),E=y?(a[c]||[])[u]:a[_];if(E&&E.f&&(v["table:formula"]=pr(OU(E.f)),E.F&&E.F.slice(0,_.length)==_)){var F=ea(E.F);v["table:number-matrix-columns-spanned"]=F.e.c-F.s.c+1,v["table:number-matrix-rows-spanned"]=F.e.r-F.s.r+1}if(!E){l.push(t);continue}switch(E.t){case"b":b=E.v?"TRUE":"FALSE",v["office:value-type"]="boolean",v["office:boolean-value"]=E.v?"true":"false";break;case"n":b=E.w||String(E.v||0),v["office:value-type"]="float",v["office:value"]=E.v||0;break;case"s":case"str":b=E.v==null?"":E.v,v["office:value-type"]="string";break;case"d":b=E.w||vi(E.v).toISOString(),v["office:value-type"]="date",v["office:date-value"]=vi(E.v).toISOString(),v["table:style-name"]="ce1";break;default:l.push(t);continue}var A=e(b);if(E.l&&E.l.Target){var O=E.l.Target;O=O.charAt(0)=="#"?"#"+CU(O.slice(1)):O,O.charAt(0)!="#"&&!O.match(/^\w+:/)&&(O="../"+O),A=st("text:a",A,{"xlink:href":O.replace(/&/g,"&amp;")})}l.push("          "+st("table:table-cell",st("text:p",A,{}),v)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},i=function(a,s){a.push(` <office:automatic-styles>
`),a.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),a.push(`   <number:month number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:day number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:year/>
`),a.push(`  </number:date-style>
`);var o=0;s.SheetNames.map(function(c){return s.Sheets[c]}).forEach(function(c){if(c&&c["!cols"]){for(var u=0;u<c["!cols"].length;++u)if(c["!cols"][u]){var d=c["!cols"][u];if(d.width==null&&d.wpx==null&&d.wch==null)continue;Ox(d),d.ods=o;var p=c["!cols"][u].wpx+"px";a.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),a.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+p+`"/>
`),a.push(`  </style:style>
`),++o}}});var l=0;s.SheetNames.map(function(c){return s.Sheets[c]}).forEach(function(c){if(c&&c["!rows"]){for(var u=0;u<c["!rows"].length;++u)if(c["!rows"][u]){c["!rows"][u].ods=l;var d=c["!rows"][u].hpx+"px";a.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),a.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+d+`"/>
`),a.push(`  </style:style>
`),++l}}}),a.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),a.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),a.push(`  </style:style>
`),a.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),a.push(` </office:automatic-styles>
`)};return function(s,o){var l=[dn],c=Dh({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),u=Dh({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(l.push("<office:document"+c+u+`>
`),l.push(GS().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+c+`>
`),i(l,s),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var d=0;d!=s.SheetNames.length;++d)l.push(n(s.Sheets[s.SheetNames[d]],s,d));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),o.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}}();function P6(e,t){if(t.bookType=="fods")return S5(e,t);var r=yx(),n="",i=[],a=[];return n="mimetype",Vt(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",Vt(r,n,S5(e,t)),i.push([n,"text/xml"]),a.push([n,"ContentFile"]),n="styles.xml",Vt(r,n,uz(e,t)),i.push([n,"text/xml"]),a.push([n,"StylesFile"]),n="meta.xml",Vt(r,n,dn+GS()),i.push([n,"text/xml"]),a.push([n,"MetadataFile"]),n="manifest.rdf",Vt(r,n,wD(a)),i.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",Vt(r,n,_D(i)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Mp(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function fz(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):Ba(Rh(e))}function hz(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function al(e){var t=e.reduce(function(i,a){return i+a.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(i){r.set(i,n),n+=i.length}),r}function dz(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,i=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var a=0;i>=1;++a,i/=256)e[t+a]=i&255;e[t+15]|=r>=0?0:128}function Mh(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function fr(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function fu(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function bn(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],i=Mh(e,r),a=i&7;i=Math.floor(i/8);var s=0,o;if(i==0)break;switch(a){case 0:{for(var l=r[0];e[r[0]++]>=128;);o=e.slice(l,r[0])}break;case 5:s=4,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 1:s=8,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 2:s=Mh(e,r),o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(a," for Field ").concat(i," at offset ").concat(n))}var c={data:o,type:a};t[i]==null?t[i]=[c]:t[i].push(c)}return t}function Mn(e){var t=[];return e.forEach(function(r,n){r.forEach(function(i){i.data&&(t.push(fr(n*8+i.type)),i.type==2&&t.push(fr(i.data.length)),t.push(i.data))})}),al(t)}function Ca(e){for(var t,r=[],n=[0];n[0]<e.length;){var i=Mh(e,n),a=bn(e.slice(n[0],n[0]+i));n[0]+=i;var s={id:fu(a[1][0].data),messages:[]};a[2].forEach(function(o){var l=bn(o.data),c=fu(l[3][0].data);s.messages.push({meta:l,data:e.slice(n[0],n[0]+c)}),n[0]+=c}),(t=a[3])!=null&&t[0]&&(s.merge=fu(a[3][0].data)>>>0>0),r.push(s)}return r}function Cc(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:fr(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:fr(+!!r.merge),type:0}]);var i=[];r.messages.forEach(function(s){i.push(s.data),s.meta[3]=[{type:0,data:fr(s.data.length)}],n[2].push({data:Mn(s.meta),type:2})});var a=Mn(n);t.push(fr(a.length)),t.push(a),i.forEach(function(s){return t.push(s)})}),al(t)}function pz(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=Mh(t,r),i=[];r[0]<t.length;){var a=t[r[0]]&3;if(a==0){var s=t[r[0]++]>>2;if(s<60)++s;else{var o=s-59;s=t[r[0]],o>1&&(s|=t[r[0]+1]<<8),o>2&&(s|=t[r[0]+2]<<16),o>3&&(s|=t[r[0]+3]<<24),s>>>=0,s++,r[0]+=o}i.push(t.slice(r[0],r[0]+s)),r[0]+=s;continue}else{var l=0,c=0;if(a==1?(c=(t[r[0]]>>2&7)+4,l=(t[r[0]++]&224)<<3,l|=t[r[0]++]):(c=(t[r[0]++]>>2)+1,a==2?(l=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(l=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),i=[al(i)],l==0)throw new Error("Invalid offset 0");if(l>i[0].length)throw new Error("Invalid offset beyond length");if(c>=l)for(i.push(i[0].slice(-l)),c-=l;c>=i[i.length-1].length;)i.push(i[i.length-1]),c-=i[i.length-1].length;i.push(i[0].slice(-l,-l+c))}}var u=al(i);if(u.length!=n)throw new Error("Unexpected length: ".concat(u.length," != ").concat(n));return u}function La(e){for(var t=[],r=0;r<e.length;){var n=e[r++],i=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(pz(n,e.slice(r,r+i))),r+=i}if(r!==e.length)throw new Error("data is not a valid framed stream!");return al(t)}function Lc(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),i=new Uint8Array(4);t.push(i);var a=fr(n),s=a.length;t.push(a),n<=60?(s++,t.push(new Uint8Array([n-1<<2]))):n<=256?(s+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(s+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(s+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(s+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),s+=n,i[0]=0,i[1]=s&255,i[2]=s>>8&255,i[3]=s>>16&255,r+=n}return al(t)}function ig(e,t){var r=new Uint8Array(32),n=Mp(r),i=12,a=0;switch(r[0]=5,e.t){case"n":r[1]=2,dz(r,i,e.v),a|=1,i+=16;break;case"b":r[1]=6,n.setFloat64(i,e.v?1:0,!0),a|=2,i+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(i,t.indexOf(e.v),!0),a|=8,i+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,a,!0),r.slice(0,i)}function ag(e,t){var r=new Uint8Array(32),n=Mp(r),i=12,a=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(i,e.v,!0),a|=32,i+=8;break;case"b":r[2]=6,n.setFloat64(i,e.v?1:0,!0),a|=32,i+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(i,t.indexOf(e.v),!0),a|=16,i+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,a,!0),r.slice(0,i)}function ko(e){var t=bn(e);return Mh(t[1][0].data)}function mz(e,t,r){var n,i,a,s;if(!((n=e[6])!=null&&n[0])||!((i=e[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var o=((s=(a=e[8])==null?void 0:a[0])==null?void 0:s.data)&&fu(e[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var l=0,c=Mp(e[7][0].data),u=0,d=[],p=Mp(e[4][0].data),h=0,y=[],m=0;m<t.length;++m){if(t[m]==null){c.setUint16(m*2,65535,!0),p.setUint16(m*2,65535);continue}c.setUint16(m*2,u,!0),p.setUint16(m*2,h,!0);var x,g;switch(typeof t[m]){case"string":x=ig({t:"s",v:t[m]},r),g=ag({t:"s",v:t[m]},r);break;case"number":x=ig({t:"n",v:t[m]},r),g=ag({t:"n",v:t[m]},r);break;case"boolean":x=ig({t:"b",v:t[m]},r),g=ag({t:"b",v:t[m]},r);break;default:throw new Error("Unsupported value "+t[m])}d.push(x),u+=x.length,y.push(g),h+=g.length,++l}for(e[2][0].data=fr(l);m<e[7][0].data.length/2;++m)c.setUint16(m*2,65535,!0),p.setUint16(m*2,65535,!0);return e[6][0].data=al(d),e[3][0].data=al(y),l}function gz(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=ea(r["!ref"]);n.s.r=n.s.c=0;var i=!1;n.e.c>9&&(i=!0,n.e.c=9),n.e.r>49&&(i=!0,n.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(hn(n)));var a=Bp(r,{range:n,header:1}),s=["~Sh33tJ5~"];a.forEach(function(I){return I.forEach(function(M){typeof M=="string"&&s.push(M)})});var o={},l=[],c=xr.read(t.numbers,{type:"base64"});c.FileIndex.map(function(I,M){return[I,c.FullPaths[M]]}).forEach(function(I){var M=I[0],U=I[1];if(M.type==2&&M.name.match(/\.iwa/)){var R=M.content,G=La(R),te=Ca(G);te.forEach(function(V){l.push(V.id),o[V.id]={deps:[],location:U,type:fu(V.messages[0].meta[1][0].data)}})}}),l.sort(function(I,M){return I-M});var u=l.filter(function(I){return I>1}).map(function(I){return[I,fr(I)]});c.FileIndex.map(function(I,M){return[I,c.FullPaths[M]]}).forEach(function(I){var M=I[0];if(I[1],!!M.name.match(/\.iwa/)){var U=Ca(La(M.content));U.forEach(function(R){R.messages.forEach(function(G){u.forEach(function(te){R.messages.some(function(V){return fu(V.meta[1][0].data)!=11006&&hz(V.data,te[1])})&&o[te[0]].deps.push(R.id)})})})}});for(var d=xr.find(c,o[1].location),p=Ca(La(d.content)),h,y=0;y<p.length;++y){var m=p[y];m.id==1&&(h=m)}var x=ko(bn(h.messages[0].data)[1][0].data);for(d=xr.find(c,o[x].location),p=Ca(La(d.content)),y=0;y<p.length;++y)m=p[y],m.id==x&&(h=m);for(x=ko(bn(h.messages[0].data)[2][0].data),d=xr.find(c,o[x].location),p=Ca(La(d.content)),y=0;y<p.length;++y)m=p[y],m.id==x&&(h=m);for(x=ko(bn(h.messages[0].data)[2][0].data),d=xr.find(c,o[x].location),p=Ca(La(d.content)),y=0;y<p.length;++y)m=p[y],m.id==x&&(h=m);var g=bn(h.messages[0].data);{g[6][0].data=fr(n.e.r+1),g[7][0].data=fr(n.e.c+1);var v=ko(g[46][0].data),b=xr.find(c,o[v].location),_=Ca(La(b.content));{for(var E=0;E<_.length&&_[E].id!=v;++E);if(_[E].id!=v)throw"Bad ColumnRowUIDMapArchive";var F=bn(_[E].messages[0].data);F[1]=[],F[2]=[],F[3]=[];for(var A=0;A<=n.e.c;++A){var O=[];O[1]=O[2]=[{type:0,data:fr(A+420690)}],F[1].push({type:2,data:Mn(O)}),F[2].push({type:0,data:fr(A)}),F[3].push({type:0,data:fr(A)})}F[4]=[],F[5]=[],F[6]=[];for(var C=0;C<=n.e.r;++C)O=[],O[1]=O[2]=[{type:0,data:fr(C+726270)}],F[4].push({type:2,data:Mn(O)}),F[5].push({type:0,data:fr(C)}),F[6].push({type:0,data:fr(C)});_[E].messages[0].data=Mn(F)}b.content=Lc(Cc(_)),b.size=b.content.length,delete g[46];var L=bn(g[4][0].data);{L[7][0].data=fr(n.e.r+1);var N=bn(L[1][0].data),j=ko(N[2][0].data);b=xr.find(c,o[j].location),_=Ca(La(b.content));{if(_[0].id!=j)throw"Bad HeaderStorageBucket";var T=bn(_[0].messages[0].data);for(C=0;C<a.length;++C){var B=bn(T[2][0].data);B[1][0].data=fr(C),B[4][0].data=fr(a[C].length),T[2][C]={type:T[2][0].type,data:Mn(B)}}_[0].messages[0].data=Mn(T)}b.content=Lc(Cc(_)),b.size=b.content.length;var z=ko(L[2][0].data);b=xr.find(c,o[z].location),_=Ca(La(b.content));{if(_[0].id!=z)throw"Bad HeaderStorageBucket";for(T=bn(_[0].messages[0].data),A=0;A<=n.e.c;++A)B=bn(T[2][0].data),B[1][0].data=fr(A),B[4][0].data=fr(n.e.r+1),T[2][A]={type:T[2][0].type,data:Mn(B)};_[0].messages[0].data=Mn(T)}b.content=Lc(Cc(_)),b.size=b.content.length;var Q=ko(L[4][0].data);(function(){for(var I=xr.find(c,o[Q].location),M=Ca(La(I.content)),U,R=0;R<M.length;++R){var G=M[R];G.id==Q&&(U=G)}var te=bn(U.messages[0].data);{te[3]=[];var V=[];s.forEach(function(ve,Ne){V[1]=[{type:0,data:fr(Ne)}],V[2]=[{type:0,data:fr(1)}],V[3]=[{type:2,data:fz(ve)}],te[3].push({type:2,data:Mn(V)})})}U.messages[0].data=Mn(te);var Y=Cc(M),oe=Lc(Y);I.content=oe,I.size=I.content.length})();var ne=bn(L[3][0].data);{var ie=ne[1][0];delete ne[2];var K=bn(ie.data);{var W=ko(K[2][0].data);(function(){for(var I=xr.find(c,o[W].location),M=Ca(La(I.content)),U,R=0;R<M.length;++R){var G=M[R];G.id==W&&(U=G)}var te=bn(U.messages[0].data);{delete te[6],delete ne[7];var V=new Uint8Array(te[5][0].data);te[5]=[];for(var Y=0,oe=0;oe<=n.e.r;++oe){var ve=bn(V);Y+=mz(ve,a[oe],s),ve[1][0].data=fr(oe),te[5].push({data:Mn(ve),type:2})}te[1]=[{type:0,data:fr(n.e.c+1)}],te[2]=[{type:0,data:fr(n.e.r+1)}],te[3]=[{type:0,data:fr(Y)}],te[4]=[{type:0,data:fr(n.e.r+1)}]}U.messages[0].data=Mn(te);var Ne=Cc(M),_e=Lc(Ne);I.content=_e,I.size=I.content.length})()}ie.data=Mn(K)}L[3][0].data=Mn(ne)}g[4][0].data=Mn(L)}h.messages[0].data=Mn(g);var q=Cc(p),k=Lc(q);return d.content=k,d.size=d.content.length,c}function vz(e){return function(r){for(var n=0;n!=e.length;++n){var i=e[n];r[i[0]]===void 0&&(r[i[0]]=i[1]),i[2]==="n"&&(r[i[0]]=Number(r[i[0]]))}}}function Ix(e){vz([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function xz(e,t){return t.bookType=="ods"?P6(e,t):t.bookType=="numbers"?gz(e,t):t.bookType=="xlsb"?yz(e,t):_z(e,t)}function yz(e,t){eu=1024,e&&!e.SSF&&(e.SSF=Li(Gr)),e&&e.SSF&&(k1(),S1(e.SSF),t.revssf=E1(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,lh?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=m6.indexOf(t.bookType)>-1,i=HS();Ix(t=t||{});var a=yx(),s="",o=0;if(t.cellXfs=[],fl(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),s="docProps/core.xml",Vt(a,s,KS(e.Props,t)),i.coreprops.push(s),hr(t.rels,2,s,nr.CORE_PROPS),s="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var l=[],c=0;c<e.SheetNames.length;++c)(e.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(e.SheetNames[c]);e.Props.SheetNames=l}for(e.Props.Worksheets=e.Props.SheetNames.length,Vt(a,s,XS(e.Props)),i.extprops.push(s),hr(t.rels,3,s,nr.EXT_PROPS),e.Custprops!==e.Props&&Gn(e.Custprops||{}).length>0&&(s="docProps/custom.xml",Vt(a,s,ZS(e.Custprops)),i.custprops.push(s),hr(t.rels,4,s,nr.CUST_PROPS)),o=1;o<=e.SheetNames.length;++o){var u={"!id":{}},d=e.Sheets[e.SheetNames[o-1]],p=(d||{})["!type"]||"sheet";switch(p){case"chart":default:s="xl/worksheets/sheet"+o+"."+r,Vt(a,s,w$(o-1,s,t,e,u)),i.sheets.push(s),hr(t.wbrels,-1,"worksheets/sheet"+o+"."+r,nr.WS[0])}if(d){var h=d["!comments"],y=!1,m="";h&&h.length>0&&(m="xl/comments"+o+"."+r,Vt(a,m,k$(h,m)),i.comments.push(m),hr(u,-1,"../comments"+o+"."+r,nr.CMNT),y=!0),d["!legacy"]&&y&&Vt(a,"xl/drawings/vmlDrawing"+o+".vml",d6(o,d["!comments"])),delete d["!comments"],delete d["!legacy"]}u["!id"].rId1&&Vt(a,VS(s),cu(u))}return t.Strings!=null&&t.Strings.length>0&&(s="xl/sharedStrings."+r,Vt(a,s,S$(t.Strings,s,t)),i.strs.push(s),hr(t.wbrels,-1,"sharedStrings."+r,nr.SST)),s="xl/workbook."+r,Vt(a,s,b$(e,s)),i.workbooks.push(s),hr(t.rels,1,s,nr.WB),s="xl/theme/theme1.xml",Vt(a,s,f6(e.Themes,t)),i.themes.push(s),hr(t.wbrels,-1,"theme/theme1.xml",nr.THEME),s="xl/styles."+r,Vt(a,s,N$(e,s,t)),i.styles.push(s),hr(t.wbrels,-1,"styles."+r,nr.STY),e.vbaraw&&n&&(s="xl/vbaProject.bin",Vt(a,s,e.vbaraw),i.vba.push(s),hr(t.wbrels,-1,"vbaProject.bin",nr.VBA)),s="xl/metadata."+r,Vt(a,s,E$(s)),i.metadata.push(s),hr(t.wbrels,-1,"metadata."+r,nr.XLMETA),Vt(a,"[Content_Types].xml",WS(i,t)),Vt(a,"_rels/.rels",cu(t.rels)),Vt(a,"xl/_rels/workbook."+r+".rels",cu(t.wbrels)),delete t.revssf,delete t.ssf,a}function _z(e,t){eu=1024,e&&!e.SSF&&(e.SSF=Li(Gr)),e&&e.SSF&&(k1(),S1(e.SSF),t.revssf=E1(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,lh?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=m6.indexOf(t.bookType)>-1,i=HS();Ix(t=t||{});var a=yx(),s="",o=0;if(t.cellXfs=[],fl(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),s="docProps/core.xml",Vt(a,s,KS(e.Props,t)),i.coreprops.push(s),hr(t.rels,2,s,nr.CORE_PROPS),s="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var l=[],c=0;c<e.SheetNames.length;++c)(e.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(e.SheetNames[c]);e.Props.SheetNames=l}e.Props.Worksheets=e.Props.SheetNames.length,Vt(a,s,XS(e.Props)),i.extprops.push(s),hr(t.rels,3,s,nr.EXT_PROPS),e.Custprops!==e.Props&&Gn(e.Custprops||{}).length>0&&(s="docProps/custom.xml",Vt(a,s,ZS(e.Custprops)),i.custprops.push(s),hr(t.rels,4,s,nr.CUST_PROPS));var u=["SheetJ5"];for(t.tcid=0,o=1;o<=e.SheetNames.length;++o){var d={"!id":{}},p=e.Sheets[e.SheetNames[o-1]],h=(p||{})["!type"]||"sheet";switch(h){case"chart":default:s="xl/worksheets/sheet"+o+"."+r,Vt(a,s,S6(o-1,t,e,d)),i.sheets.push(s),hr(t.wbrels,-1,"worksheets/sheet"+o+"."+r,nr.WS[0])}if(p){var y=p["!comments"],m=!1,x="";if(y&&y.length>0){var g=!1;y.forEach(function(v){v[1].forEach(function(b){b.T==!0&&(g=!0)})}),g&&(x="xl/threadedComments/threadedComment"+o+"."+r,Vt(a,x,ZM(y,u,t)),i.threadedcomments.push(x),hr(d,-1,"../threadedComments/threadedComment"+o+"."+r,nr.TCMNT)),x="xl/comments"+o+"."+r,Vt(a,x,p6(y)),i.comments.push(x),hr(d,-1,"../comments"+o+"."+r,nr.CMNT),m=!0}p["!legacy"]&&m&&Vt(a,"xl/drawings/vmlDrawing"+o+".vml",d6(o,p["!comments"])),delete p["!comments"],delete p["!legacy"]}d["!id"].rId1&&Vt(a,VS(s),cu(d))}return t.Strings!=null&&t.Strings.length>0&&(s="xl/sharedStrings."+r,Vt(a,s,a6(t.Strings,t)),i.strs.push(s),hr(t.wbrels,-1,"sharedStrings."+r,nr.SST)),s="xl/workbook."+r,Vt(a,s,A6(e)),i.workbooks.push(s),hr(t.rels,1,s,nr.WB),s="xl/theme/theme1.xml",Vt(a,s,f6(e.Themes,t)),i.themes.push(s),hr(t.wbrels,-1,"theme/theme1.xml",nr.THEME),s="xl/styles."+r,Vt(a,s,c6(e,t)),i.styles.push(s),hr(t.wbrels,-1,"styles."+r,nr.STY),e.vbaraw&&n&&(s="xl/vbaProject.bin",Vt(a,s,e.vbaraw),i.vba.push(s),hr(t.wbrels,-1,"vbaProject.bin",nr.VBA)),s="xl/metadata."+r,Vt(a,s,h6()),i.metadata.push(s),hr(t.wbrels,-1,"metadata."+r,nr.XLMETA),u.length>1&&(s="xl/persons/person.xml",Vt(a,s,JM(u)),i.people.push(s),hr(t.wbrels,-1,"persons/person.xml",nr.PEOPLE)),Vt(a,"[Content_Types].xml",WS(i,t)),Vt(a,"_rels/.rels",cu(t.rels)),Vt(a,"xl/_rels/workbook."+r+".rels",cu(t.wbrels)),delete t.revssf,delete t.ssf,a}function bz(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=to(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function F6(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return rd(t.file,xr.write(e,{type:ar?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return xr.write(e,t)}function wz(e,t){var r=Li(t||{}),n=xz(e,r);return Nz(n,r)}function Nz(e,t){var r={},n=ar?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var i=e.FullPaths?xr.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof i=="string"){if(t.type=="binary"||t.type=="base64")return i;i=new Uint8Array(N1(i))}return t.password&&typeof encrypt_agile<"u"?F6(encrypt_agile(i,t.password),t):t.type==="file"?rd(t.file,i):t.type=="string"?ih(i):i}function Sz(e,t){var r=t||{},n=U$(e,r);return F6(n,r)}function os(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return Fh(Rh(n));case"binary":return Rh(n);case"string":return e;case"file":return rd(t.file,n,"utf8");case"buffer":return ar?ao(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):os(n,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function kz(e,t){switch(t.type){case"base64":return Fh(e);case"binary":return e;case"string":return e;case"file":return rd(t.file,e,"binary");case"buffer":return ar?ao(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function g0(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?Fh(r):t.type=="string"?ih(r):r;case"file":return rd(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function I6(e,t){QR(),u$(e);var r=Li(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=I6(e,r);return r.type="array",N1(n)}var i=0;if(r.sheet&&(typeof r.sheet=="number"?i=r.sheet:i=e.SheetNames.indexOf(r.sheet),!e.SheetNames[i]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return os(M$(e,r),r);case"slk":case"sylk":return os(oM.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"htm":case"html":return os(O6(e.Sheets[e.SheetNames[i]],r),r);case"txt":return kz(D6(e.Sheets[e.SheetNames[i]],r),r);case"csv":return os(Rx(e.Sheets[e.SheetNames[i]],r),r,"\uFEFF");case"dif":return os(lM.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"dbf":return g0(sM.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"prn":return os(cM.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"rtf":return os(gM.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"eth":return os(i6.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"fods":return os(P6(e,r),r);case"wk1":return g0(v5.sheet_to_wk1(e.Sheets[e.SheetNames[i]],r),r);case"wk3":return g0(v5.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),g0(j6(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),Sz(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return wz(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function Ez(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function R6(e,t,r){var n={};return n.type="file",n.file=t,Ez(n),I6(e,n)}function Az(e,t,r,n,i,a,s,o){var l=Wn(r),c=o.defval,u=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),d=!0,p=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(p,"__rowNum__",{value:r,enumerable:!1})}catch{p.__rowNum__=r}else p.__rowNum__=r;if(!s||e[r])for(var h=t.s.c;h<=t.e.c;++h){var y=s?e[r][h]:e[n[h]+l];if(y===void 0||y.t===void 0){if(c===void 0)continue;a[h]!=null&&(p[a[h]]=c);continue}var m=y.v;switch(y.t){case"z":if(m==null)break;continue;case"e":m=m==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+y.t)}if(a[h]!=null){if(m==null)if(y.t=="e"&&m===null)p[a[h]]=null;else if(c!==void 0)p[a[h]]=c;else if(u&&m===null)p[a[h]]=null;else continue;else p[a[h]]=u&&(y.t!=="n"||y.t==="n"&&o.rawNumbers!==!1)?m:ro(y,m,o);m!=null&&(d=!1)}}return{row:p,isempty:d}}function Bp(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,i=1,a=[],s=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},c=t||{},u=c.range!=null?c.range:e["!ref"];switch(c.header===1?n=1:c.header==="A"?n=2:Array.isArray(c.header)?n=3:c.header==null&&(n=0),typeof u){case"string":l=Pr(u);break;case"number":l=Pr(e["!ref"]),l.s.r=u;break;default:l=u}n>0&&(i=0);var d=Wn(l.s.r),p=[],h=[],y=0,m=0,x=Array.isArray(e),g=l.s.r,v=0,b={};x&&!e[g]&&(e[g]=[]);var _=c.skipHidden&&e["!cols"]||[],E=c.skipHidden&&e["!rows"]||[];for(v=l.s.c;v<=l.e.c;++v)if(!(_[v]||{}).hidden)switch(p[v]=ni(v),r=x?e[g][v]:e[p[v]+d],n){case 1:a[v]=v-l.s.c;break;case 2:a[v]=p[v];break;case 3:a[v]=c.header[v-l.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=s=ro(r,null,c),m=b[s]||0,!m)b[s]=1;else{do o=s+"_"+m++;while(b[o]);b[s]=m,b[o]=1}a[v]=o}for(g=l.s.r+i;g<=l.e.r;++g)if(!(E[g]||{}).hidden){var F=Az(e,l,g,p,n,a,x,c);(F.isempty===!1||(n===1?c.blankrows!==!1:c.blankrows))&&(h[y++]=F.row)}return h.length=y,h}var k5=/"/g;function Tz(e,t,r,n,i,a,s,o){for(var l=!0,c=[],u="",d=Wn(r),p=t.s.c;p<=t.e.c;++p)if(n[p]){var h=o.dense?(e[r]||[])[p]:e[n[p]+d];if(h==null)u="";else if(h.v!=null){l=!1,u=""+(o.rawNumbers&&h.t=="n"?h.v:ro(h,null,o));for(var y=0,m=0;y!==u.length;++y)if((m=u.charCodeAt(y))===i||m===a||m===34||o.forceQuotes){u='"'+u.replace(k5,'""')+'"';break}u=="ID"&&(u='"ID"')}else h.f!=null&&!h.F?(l=!1,u="="+h.f,u.indexOf(",")>=0&&(u='"'+u.replace(k5,'""')+'"')):u="";c.push(u)}return o.blankrows===!1&&l?null:c.join(s)}function Rx(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var i=Pr(e["!ref"]),a=n.FS!==void 0?n.FS:",",s=a.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,l=o.charCodeAt(0),c=new RegExp((a=="|"?"\\|":a)+"+$"),u="",d=[];n.dense=Array.isArray(e);for(var p=n.skipHidden&&e["!cols"]||[],h=n.skipHidden&&e["!rows"]||[],y=i.s.c;y<=i.e.c;++y)(p[y]||{}).hidden||(d[y]=ni(y));for(var m=0,x=i.s.r;x<=i.e.r;++x)(h[x]||{}).hidden||(u=Tz(e,i,x,d,s,l,a,n),u!=null&&(n.strip&&(u=u.replace(c,"")),(u||n.blankrows!==!1)&&r.push((m++?o:"")+u)));return delete n.dense,r.join("")}function D6(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=Rx(e,t);return r}function jz(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var i=Pr(e["!ref"]),a="",s=[],o,l=[],c=Array.isArray(e);for(o=i.s.c;o<=i.e.c;++o)s[o]=ni(o);for(var u=i.s.r;u<=i.e.r;++u)for(a=Wn(u),o=i.s.c;o<=i.e.c;++o)if(t=s[o]+a,r=c?(e[u]||[])[o]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}l[l.length]=t+"="+n}return l}function M6(e,t,r){var n=r||{},i=+!n.skipHeader,a=e||{},s=0,o=0;if(a&&n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?On(n.origin):n.origin;s=l.r,o=l.c}var c,u={s:{c:0,r:0},e:{c:o,r:s+t.length-1+i}};if(a["!ref"]){var d=Pr(a["!ref"]);u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),s==-1&&(s=d.e.r+1,u.e.r=s+t.length-1+i)}else s==-1&&(s=0,u.e.r=t.length-1+i);var p=n.header||[],h=0;t.forEach(function(m,x){Gn(m).forEach(function(g){(h=p.indexOf(g))==-1&&(p[h=p.length]=g);var v=m[g],b="z",_="",E=gr({c:o+h,r:s+x+i});c=Bh(a,E),v&&typeof v=="object"&&!(v instanceof Date)?a[E]=v:(typeof v=="number"?b="n":typeof v=="boolean"?b="b":typeof v=="string"?b="s":v instanceof Date?(b="d",n.cellDates||(b="n",v=Ci(v)),_=n.dateNF||Gr[14]):v===null&&n.nullError&&(b="e",v=0),c?(c.t=b,c.v=v,delete c.w,delete c.R,_&&(c.z=_)):a[E]=c={t:b,v},_&&(c.z=_))})}),u.e.c=Math.max(u.e.c,o+p.length-1);var y=Wn(s);if(i)for(h=0;h<p.length;++h)a[ni(h+o)+y]={t:"s",v:p[h]};return a["!ref"]=hn(u),a}function Oz(e,t){return M6(null,e,t)}function Bh(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=On(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Bh(e,gr(t)):Bh(e,gr({r:t,c:r||0}))}function Cz(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function Lz(){return{SheetNames:[],Sheets:{}}}function Pz(e,t,r,n){var i=1;if(!r)for(;i<=65535&&e.SheetNames.indexOf(r="Sheet"+i)!=-1;++i,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var a=r.match(/(^.*?)(\d+)$/);i=a&&+a[2]||0;var s=a&&a[1]||r;for(++i;i<=65535&&e.SheetNames.indexOf(r=s+i)!=-1;++i);}if(E6(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function Fz(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=Cz(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function Iz(e,t){return e.z=t,e}function B6(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function Rz(e,t,r){return B6(e,"#"+t,r)}function Dz(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function Mz(e,t,r,n){for(var i=typeof t!="string"?t:Pr(t),a=typeof t=="string"?t:hn(t),s=i.s.r;s<=i.e.r;++s)for(var o=i.s.c;o<=i.e.c;++o){var l=Bh(e,s,o);l.t="n",l.F=a,delete l.v,s==i.s.r&&o==i.s.c&&(l.f=r,n&&(l.D=!0))}return e}var hu={encode_col:ni,encode_row:Wn,encode_cell:gr,encode_range:hn,decode_col:kx,decode_row:Sx,split_cell:Q9,decode_cell:On,decode_range:ea,format_cell:ro,sheet_add_aoa:MS,sheet_add_json:M6,sheet_add_dom:C6,aoa_to_sheet:Hu,json_to_sheet:Oz,table_to_sheet:L6,table_to_book:lz,sheet_to_csv:Rx,sheet_to_txt:D6,sheet_to_json:Bp,sheet_to_html:O6,sheet_to_formulae:jz,sheet_to_row_object_array:Bp,sheet_get_cell:Bh,book_new:Lz,book_append_sheet:Pz,book_set_sheet_visibility:Fz,cell_set_number_format:Iz,cell_set_hyperlink:B6,cell_set_internal_link:Rz,cell_add_comment:Dz,sheet_set_array_formula:Mz,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function U6({teamMemberId:e,openFormInitially:t=!1}){const{user:r}=Ga(),[n,i]=ye.useState([]),[a,s]=ye.useState(!0),[o,l]=ye.useState(t),[c,u]=ye.useState(null),[d,p]=ye.useState(""),[h,y]=ye.useState("meeting_date"),[m,x]=ye.useState("desc"),[g,v]=ye.useState(1),b=10,[_,E]=ye.useState(!1),[F,A]=ye.useState(!1),[O,C]=ye.useState(""),[L,N]=ye.useState(""),j=oe=>{const ve=new Date(Date.UTC(oe.getFullYear(),oe.getMonth(),oe.getDate())),Ne=ve.getUTCDay()||7;ve.setUTCDate(ve.getUTCDate()+4-Ne);const _e=new Date(Date.UTC(ve.getUTCFullYear(),0,1));return Math.ceil(((ve.getTime()-_e.getTime())/864e5+1)/7)},T=oe=>`Week ${j(new Date(oe.meeting_date)).toString().padStart(2,"0")}: ${oe.team_member.full_name} 1-on-1`;ye.useEffect(()=>{r&&B()},[r,e]),ye.useEffect(()=>{const oe=ve=>{const Ne=ve.target;_&&!Ne.closest(".export-menu-container")&&E(!1)};return document.addEventListener("mousedown",oe),()=>document.removeEventListener("mousedown",oe)},[_]);const B=async()=>{s(!0);let oe=qe.from("one_on_ones").select(`
        *,
        team_member:team_members(*)
      `);e&&(oe=oe.eq("team_member_id",e));const{data:ve,error:Ne}=await oe.order("meeting_date",{ascending:!1});!Ne&&ve&&i(ve),s(!1)},z=async oe=>{confirm("Delete this 1-on-1 note?")&&(await qe.from("one_on_ones").delete().eq("id",oe),B())},Q=oe=>{u(oe),l(!0)},ne=()=>{u(null),l(!1)},ie=()=>{ne(),B()},K=oe=>{h===oe?x(m==="asc"?"desc":"asc"):(y(oe),x("desc")),v(1)},W=(oe,ve)=>{const Ne=be=>{const xe=be.includes("T")?be.split("T")[0]:be,[De,Be,Ce]=xe.split("-");return`${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][parseInt(Be)-1]} ${parseInt(Ce)}, ${De}`},_e=oe.map(be=>({Title:T(be),Date:Ne(be.meeting_date),"Team Member":be.team_member.full_name,Notes:be.notes||"",Summary:be.summary||"","Action Items":be.action_items||"",Transcript:be.transcript||""})),X=hu.json_to_sheet(_e),Ee=hu.book_new();hu.book_append_sheet(Ee,X,"1-on-1 Meetings");const Oe=[{wch:30},{wch:15},{wch:20},{wch:50},{wch:50},{wch:50},{wch:50}];X["!cols"]=Oe,R6(Ee,ve),E(!1)},q=()=>{W(n,"1-on-1-meetings-all.xlsx")},k=()=>{W(te,"1-on-1-meetings-filtered.xlsx")},I=oe=>{const ve=new Date().getFullYear(),Ne={1:[0,2],2:[3,5],3:[6,8],4:[9,11]},[_e,X]=Ne[oe],Ee=n.filter(Oe=>{const be=new Date(Oe.meeting_date);return be.getFullYear()===ve&&be.getMonth()>=_e&&be.getMonth()<=X});W(Ee,`1-on-1-meetings-Q${oe}-${ve}.xlsx`)},M=oe=>{const ve=n.filter(Ne=>new Date(Ne.meeting_date).getFullYear()===oe);W(ve,`1-on-1-meetings-${oe}.xlsx`)},U=()=>{if(!O||!L){alert("Please select both start and end dates");return}const oe=new Date(O),ve=new Date(L),Ne=n.filter(Ee=>{const Oe=new Date(Ee.meeting_date);return Oe>=oe&&Oe<=ve}),_e=oe.toLocaleDateString("en-US").replace(/\//g,"-"),X=ve.toLocaleDateString("en-US").replace(/\//g,"-");W(Ne,`1-on-1-meetings-${_e}-to-${X}.xlsx`),A(!1),C(""),N("")},R=()=>new Date().getFullYear(),G=()=>{const oe=new Set;return n.forEach(ve=>{oe.add(new Date(ve.meeting_date).getFullYear())}),Array.from(oe).sort((ve,Ne)=>Ne-ve)},te=ye.useMemo(()=>{let oe=n;return d&&(oe=n.filter(Ne=>{var Ee,Oe,be;const _e=d.toLowerCase();return T(Ne).toLowerCase().includes(_e)||Ne.team_member.full_name.toLowerCase().includes(_e)||((Ee=Ne.notes)==null?void 0:Ee.toLowerCase().includes(_e))||((Oe=Ne.summary)==null?void 0:Oe.toLowerCase().includes(_e))||((be=Ne.mood)==null?void 0:be.toLowerCase().includes(_e))})),[...oe].sort((Ne,_e)=>{let X,Ee;switch(h){case"meeting_date":X=new Date(Ne.meeting_date).getTime(),Ee=new Date(_e.meeting_date).getTime();break;case"team_member":X=Ne.team_member.full_name,Ee=_e.team_member.full_name;break;case"title":X=T(Ne),Ee=T(_e);break}return X<Ee?m==="asc"?-1:1:X>Ee?m==="asc"?1:-1:0})},[n,d,h,m]),V=Math.ceil(te.length/b),Y=te.slice((g-1)*b,g*b);return a?f.jsx("div",{className:"flex items-center justify-center h-64",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):o?f.jsx(iS,{teamMemberId:e,existingData:c,onSave:ie,onCancel:ne}):f.jsxs("div",{className:"max-w-7xl mx-auto",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"1:1 Meetings"}),f.jsx("p",{className:"text-slate-600 mt-1",children:"Track meeting notes and conversations"})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("div",{className:"relative export-menu-container",children:[f.jsxs("button",{onClick:()=>E(!_),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition",children:[f.jsx($O,{className:"w-5 h-5"}),"Export to Excel",f.jsx(bp,{className:"w-4 h-4"})]}),_&&f.jsx("div",{className:"absolute right-0 mt-2 w-64 bg-white rounded-lg shadow-lg border border-slate-200 z-10",children:f.jsxs("div",{className:"p-2",children:[f.jsx("button",{onClick:q,className:"w-full text-left px-4 py-2 hover:bg-slate-50 rounded-lg transition text-sm text-slate-700",children:"Export All Meetings"}),d&&f.jsxs("button",{onClick:k,className:"w-full text-left px-4 py-2 hover:bg-slate-50 rounded-lg transition text-sm text-slate-700",children:["Export Filtered Results (",te.length,")"]}),f.jsx("div",{className:"border-t border-slate-200 my-2"}),f.jsx("div",{className:"px-4 py-2 text-xs font-medium text-slate-500 uppercase",children:"By Quarter"}),[1,2,3,4].map(oe=>f.jsxs("button",{onClick:()=>I(oe),className:"w-full text-left px-4 py-2 hover:bg-slate-50 rounded-lg transition text-sm text-slate-700",children:["Q",oe," ",R()]},oe)),f.jsx("div",{className:"border-t border-slate-200 my-2"}),f.jsx("div",{className:"px-4 py-2 text-xs font-medium text-slate-500 uppercase",children:"By Year"}),G().map(oe=>f.jsx("button",{onClick:()=>M(oe),className:"w-full text-left px-4 py-2 hover:bg-slate-50 rounded-lg transition text-sm text-slate-700",children:oe},oe)),f.jsx("div",{className:"border-t border-slate-200 my-2"}),f.jsx("button",{onClick:()=>{A(!F),E(!1)},className:"w-full text-left px-4 py-2 hover:bg-slate-50 rounded-lg transition text-sm text-slate-700 font-medium",children:"Custom Date Range..."})]})})]}),f.jsxs("button",{onClick:()=>l(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:[f.jsx(Er,{className:"w-5 h-5"}),"New 1-on-1"]})]})]}),F&&f.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 mb-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Export Custom Date Range"}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Start Date"}),f.jsx("input",{type:"date",value:O,onChange:oe=>C(oe.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),f.jsxs("div",{className:"flex-1",children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"End Date"}),f.jsx("input",{type:"date",value:L,onChange:oe=>N(oe.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),f.jsxs("div",{className:"flex items-end gap-2",children:[f.jsx("button",{onClick:U,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition whitespace-nowrap",children:"Export"}),f.jsx("button",{onClick:()=>{A(!1),C(""),N("")},className:"px-4 py-2 bg-slate-200 text-slate-700 rounded-lg hover:bg-slate-300 transition",children:"Cancel"})]})]})]}),f.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200",children:[f.jsx("div",{className:"p-4 border-b border-slate-200",children:f.jsxs("div",{className:"relative",children:[f.jsx(m1,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),f.jsx("input",{type:"text",placeholder:"Search meetings by title, name, or notes...",value:d,onChange:oe=>{p(oe.target.value),v(1)},className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),te.length===0?f.jsxs("div",{className:"text-center py-12",children:[f.jsx(Lh,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),f.jsx("h3",{className:"text-lg font-medium text-slate-900 mb-2",children:d?"No matching meetings found":"No 1-on-1 meetings yet"}),f.jsx("p",{className:"text-slate-600 mb-6",children:d?"Try adjusting your search":"Start tracking your team conversations"}),!d&&f.jsxs("button",{onClick:()=>l(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:[f.jsx(Er,{className:"w-5 h-5"}),"New 1-on-1"]})]}):f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider cursor-pointer hover:bg-slate-100 transition",onClick:()=>K("meeting_date"),children:f.jsxs("div",{className:"flex items-center gap-2",children:["Date",f.jsx(Ch,{className:"w-4 h-4"})]})}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider cursor-pointer hover:bg-slate-100 transition",onClick:()=>K("title"),children:f.jsxs("div",{className:"flex items-center gap-2",children:["Title",f.jsx(Ch,{className:"w-4 h-4"})]})}),f.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),f.jsx("tbody",{className:"divide-y divide-slate-200",children:Y.map(oe=>f.jsxs("tr",{className:"hover:bg-slate-50 transition",children:[f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsx("div",{className:"text-sm text-slate-600",children:(()=>{const ve=oe.meeting_date.includes("T")?oe.meeting_date.split("T")[0]:oe.meeting_date,[Ne,_e,X]=ve.split("-");return`${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][parseInt(_e)-1]} ${parseInt(X)}, ${Ne}`})()})}),f.jsx("td",{className:"px-6 py-4",children:f.jsxs("button",{onClick:()=>Q(oe),className:"flex items-center gap-3 w-full text-left hover:opacity-70 transition",children:[f.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:f.jsx(Lh,{className:"w-4 h-4 text-blue-600"})}),f.jsx("div",{className:"text-sm font-medium text-slate-900 hover:text-blue-600",children:T(oe)})]})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:f.jsxs("div",{className:"flex items-center justify-end gap-2",children:[f.jsxs("button",{onClick:()=>Q(oe),className:"flex items-center gap-2 px-3 py-2 text-sm font-medium text-blue-600 hover:bg-blue-50 rounded-lg transition",children:[f.jsx(Wa,{className:"w-4 h-4"}),"Edit"]}),f.jsxs("button",{onClick:()=>z(oe.id),className:"flex items-center gap-2 px-3 py-2 text-sm font-medium text-red-600 hover:bg-red-50 rounded-lg transition",children:[f.jsx(rn,{className:"w-4 h-4"}),"Delete"]})]})})]},oe.id))})]})}),V>1&&f.jsxs("div",{className:"px-6 py-4 border-t border-slate-200 flex items-center justify-between",children:[f.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",(g-1)*b+1," to"," ",Math.min(g*b,te.length)," of"," ",te.length," meetings"]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:()=>v(g-1),disabled:g===1,className:"p-2 rounded-lg border border-slate-300 hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed transition",children:f.jsx(MN,{className:"w-5 h-5"})}),f.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:V},(oe,ve)=>ve+1).map(oe=>f.jsx("button",{onClick:()=>v(oe),className:`px-3 py-1 rounded-lg transition ${g===oe?"bg-blue-600 text-white":"hover:bg-slate-100 text-slate-700"}`,children:oe},oe))}),f.jsx("button",{onClick:()=>v(g+1),disabled:g===V,className:"p-2 rounded-lg border border-slate-300 hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed transition",children:f.jsx(BN,{className:"w-5 h-5"})})]})]})]})]})]})}function Bz({teamMemberId:e,showHeader:t=!0}){const[r,n]=ye.useState([]),[i,a]=ye.useState([]),[s,o]=ye.useState(!0),[l,c]=ye.useState(""),[u,d]=ye.useState("review_date"),[p,h]=ye.useState("desc"),[y,m]=ye.useState(!1),[x,g]=ye.useState(null);ye.useEffect(()=>{v()},[e]),ye.useEffect(()=>{b()},[r,l,u,p]);const v=async()=>{o(!0);let T=qe.from("performance_reviews").select(`
        *,
        team_member:team_members(id, full_name)
      `);e&&(T=T.eq("team_member_id",e));const{data:B,error:z}=await T.order("review_date",{ascending:!1});z?console.error("Error fetching check-ins:",z):n(B||[]),o(!1)},b=()=>{let T=[...r];l&&(T=T.filter(B=>{var z,Q;return B.team_member.full_name.toLowerCase().includes(l.toLowerCase())||((z=B.type)==null?void 0:z.toLowerCase().includes(l.toLowerCase()))||((Q=B.quarter)==null?void 0:Q.toLowerCase().includes(l.toLowerCase()))})),T.sort((B,z)=>{let Q,ne;return u==="review_date"?(Q=new Date(B.review_date||"").getTime(),ne=new Date(z.review_date||"").getTime()):u==="type"?(Q=B.type||"",ne=z.type||""):u==="created_at"&&(Q=new Date(B.created_at).getTime(),ne=new Date(z.created_at).getTime()),p==="asc"?Q>ne?1:-1:Q<ne?1:-1}),a(T)},_=T=>{u===T?h(p==="asc"?"desc":"asc"):(d(T),h("desc"))},E=async T=>{confirm("Are you sure you want to delete this check-in?")&&(await qe.from("performance_reviews").delete().eq("id",T),v())},F=T=>{g(T),m(!0)},A=()=>{g(null),m(!0)},O=()=>{m(!1),g(null)},C=T=>{if(!T)return"-";const B=T.includes("T")?T.split("T")[0]:T,[z,Q,ne]=B.split("-");if(!z||!Q||!ne)return T;const ie=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],K=parseInt(Q)-1,W=parseInt(ne);return`${ie[K]} ${W}, ${z}`},L=T=>{const B=T.team_member.full_name;if(T.type==="quarterly"&&T.quarter&&T.year)return`${B} ${T.quarter} ${T.year} Check-In`;if(T.type==="annual"&&T.year)return`${B} Annual ${T.year} Check-In`;if(T.review_date){const z=new Date(T.review_date).getFullYear();return`${B} ${T.type==="annual"?"Annual":"Quarterly"} ${z} Check-In`}return`${B} Check-In`},N=T=>T.type==="quarterly"?"Quarterly":T.type==="annual"?"Annual":"-",j=T=>u!==T?f.jsx(Ch,{className:"w-4 h-4"}):p==="asc"?f.jsx(p1,{className:"w-4 h-4"}):f.jsx(d1,{className:"w-4 h-4"});return s?f.jsx("div",{className:"flex items-center justify-center h-64",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):y?f.jsx(mx,{teamMemberId:e,existingData:x,onSave:()=>{v(),m(!1),g(null)},onCancel:O}):f.jsxs("div",{className:"max-w-7xl mx-auto",children:[t&&f.jsx("div",{className:"mb-6",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Check-ins"}),f.jsx("p",{className:"text-slate-600 mt-1",children:"Track team performance and growth"})]}),f.jsxs("button",{onClick:A,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:[f.jsx(Er,{className:"w-5 h-5"}),"New Check-in"]})]})}),f.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:[f.jsx("div",{className:"p-4 border-b border-slate-200",children:f.jsxs("div",{className:"relative",children:[f.jsx(m1,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),f.jsx("input",{type:"text",placeholder:"Search check-ins...",value:l,onChange:T=>c(T.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-3 text-left",children:f.jsxs("button",{onClick:()=>_("review_date"),className:"flex items-center gap-2 text-xs font-medium text-slate-600 uppercase tracking-wider hover:text-slate-900 transition",children:["Date",j("review_date")]})}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-600 uppercase tracking-wider",children:"Title"}),f.jsx("th",{className:"px-6 py-3 text-left",children:f.jsxs("button",{onClick:()=>_("type"),className:"flex items-center gap-2 text-xs font-medium text-slate-600 uppercase tracking-wider hover:text-slate-900 transition",children:["Type",j("type")]})}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-600 uppercase tracking-wider",children:"Actions"})]})}),f.jsx("tbody",{className:"divide-y divide-slate-200",children:i.length===0?f.jsx("tr",{children:f.jsx("td",{colSpan:4,className:"px-6 py-12 text-center text-slate-500",children:l?"No check-ins found matching your search":"No check-ins yet"})}):i.map(T=>f.jsxs("tr",{className:"hover:bg-slate-50 transition",children:[f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsx("span",{className:"font-medium text-slate-900",children:C(T.review_date)})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx("span",{className:"text-slate-900",children:L(T)})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsx("span",{className:"px-2 py-1 rounded text-xs font-medium bg-blue-100 text-blue-700",children:N(T)})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{onClick:()=>F(T),className:"flex items-center gap-1 px-3 py-1.5 text-sm text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-lg transition",children:[f.jsx(U0,{className:"w-4 h-4"}),"Edit"]}),f.jsxs("button",{onClick:()=>E(T.id),className:"flex items-center gap-1 px-3 py-1.5 text-sm text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg transition",children:[f.jsx(rn,{className:"w-4 h-4"}),"Delete"]})]})})]},T.id))})]})}),i.length>0&&f.jsx("div",{className:"px-6 py-4 bg-slate-50 border-t border-slate-200",children:f.jsxs("p",{className:"text-sm text-slate-600",children:["Showing ",i.length," of ",r.length," check-in",r.length!==1?"s":""]})})]})]})}function q6({teamMemberId:e,openFormInitially:t=!1}){return f.jsx(Bz,{teamMemberId:e,showHeader:!e})}const Uz=e=>({"Business Acumen":FO,Collaboration:$N,Coachability:WO,Professionalism:JO,"Craft Excellence":B0,"Brand IQ":GO,"Technical Skill":UO})[e]||Eu;function $6({teamMemberId:e}){const{user:t}=Ga(),[r,n]=ye.useState(null),[i,a]=ye.useState(null),[s,o]=ye.useState([]),[l,c]=ye.useState([]),[u,d]=ye.useState([]),[p,h]=ye.useState({}),[y,m]=ye.useState([]),[x,g]=ye.useState(""),[v,b]=ye.useState(!0),[_,E]=ye.useState(!1),[F,A]=ye.useState(!1),[O,C]=ye.useState({}),[L,N]=ye.useState("overview"),[j,T]=ye.useState(""),[B,z]=ye.useState(!1),[Q,ne]=ye.useState(!1),[ie,K]=ye.useState(!1);ye.useEffect(()=>{e?W():b(!1)},[e]),ye.useEffect(()=>{e&&q()},[e]);const W=async()=>{if(!e)return;b(!0);const{data:Ae}=await qe.from("team_members").select("id, full_name, role, role_id, current_level").eq("id",e).maybeSingle();if(!Ae){b(!1);return}if(n(Ae),!Ae.role_id){a(null),o([]),b(!1);return}const{data:We}=await qe.from("roles").select("maturity_model_id").eq("id",Ae.role_id).maybeSingle();if(!(We!=null&&We.maturity_model_id)){a(null),o([]),b(!1);return}const[Ye,$e,At]=await Promise.all([qe.from("maturity_models").select("*").eq("id",We.maturity_model_id).maybeSingle(),qe.from("maturity_model_categories").select(`
          category_id,
          display_order,
          maturity_categories (id, name, description)
        `).eq("maturity_model_id",We.maturity_model_id).order("display_order"),qe.from("levels").select("id, name").order("created_at")]);if(Ye.data&&a(Ye.data),$e.data){const ot=$e.data.map(mt=>({id:mt.maturity_categories.id,name:mt.maturity_categories.name,description:mt.maturity_categories.description,display_order:mt.display_order})).sort((mt,wt)=>mt.display_order-wt.display_order);o(ot),ot.length>0&&g(ot[0].id);const Nt=ot.map(mt=>mt.id);if(Nt.length>0){const[mt,wt,ht]=await Promise.all([qe.from("category_skills").select("*").in("category_id",Nt),qe.from("maturity_skills").select("*"),qe.from("skill_levels").select("*").order("display_order")]);if(wt.data&&c(wt.data),mt.data){const Bt={};mt.data.forEach(gt=>{Bt[gt.category_id]||(Bt[gt.category_id]=[]),Bt[gt.category_id].push(gt.skill_id)}),h(Bt)}if(ht.data&&At.data){const Bt=ht.data.map(gt=>{var Ot;return{...gt,level_name:(Ot=At.data.find(sr=>sr.id===gt.level_id))==null?void 0:Ot.name}});d(Bt)}}}b(!1)},q=async()=>{if(!e)return;const{data:Ae}=await qe.from("maturity_assessments").select("*").eq("team_member_id",e);if(Ae){m(Ae);const We={};Ae.forEach(Ye=>{We[Ye.skill_id]=Ye.notes||""}),C(We)}},k=(Ae,We,Ye)=>{const $e=y.find(At=>At.skill_id===Ae);m($e?y.map(At=>At.skill_id===Ae?{...At,[Ye==="leader"?"leader_rating":"self_rating"]:We}:At):[...y,{team_member_id:e,skill_id:Ae,leader_rating:Ye==="leader"?We:null,self_rating:Ye==="self"?We:null,notes:""}])},I=(Ae,We)=>{C({...O,[Ae]:We}),y.find($e=>$e.skill_id===Ae)&&m(y.map($e=>$e.skill_id===Ae?{...$e,notes:We}:$e))},M=async()=>{if(!e||y.length===0||!t)return;E(!0),A(!1);const Ae=y.map(Ye=>({team_member_id:Ye.team_member_id,skill_id:Ye.skill_id,leader_rating:Ye.leader_rating,self_rating:Ye.self_rating,notes:O[Ye.skill_id]||"",assessor_id:t.id})),{error:We}=await qe.from("maturity_assessments").upsert(Ae,{onConflict:"team_member_id,skill_id"});We?console.error("Error saving assessments:",We):(A(!0),await q(),setTimeout(()=>{A(!1),N("overview")},1500)),E(!1)},U=async()=>{if(e){K(!0);try{const{data:Ae}=await qe.from("self_assessment_tokens").select("token, expires_at").eq("team_member_id",e).gt("expires_at",new Date().toISOString()).maybeSingle();let We=Ae==null?void 0:Ae.token;if(!We){const{data:At,error:ot}=await qe.from("self_assessment_tokens").insert({team_member_id:e}).select("token").single();if(ot)throw ot;We=At.token}const $e=`${window.location.origin}?token=${We}`;T($e),z(!0)}catch(Ae){console.error("Error generating assessment link:",Ae),alert("Failed to generate assessment link")}finally{K(!1)}}},R=()=>{navigator.clipboard.writeText(j),ne(!0),setTimeout(()=>ne(!1),2e3)},G=(Ae,We)=>{const Ye=y.find($e=>$e.skill_id===Ae);return Ye?We==="leader"?Ye.leader_rating:Ye.self_rating:null},te=Ae=>{const Ye=p[Ae||x]||[];return l.filter($e=>Ye.includes($e.id)).sort(($e,At)=>{const ot=Ye.indexOf($e.id),Nt=Ye.indexOf(At.id);return ot-Nt})},V=()=>s.map(Ae=>({category:Ae,skills:te(Ae.id)})),Y=Ae=>{g(Ae),N("edit")},oe=()=>{N("overview")},ve=Ae=>u.filter(We=>We.skill_id===Ae).sort((We,Ye)=>We.display_order-Ye.display_order),Ne=()=>{var Ae;if(((Ae=p[x])==null?void 0:Ae.length)>0){const We=p[x][0];return ve(We).map($e=>$e.level_name||"")}return[]},_e=Ae=>{if(!Ae)return 0;const We=Ae.toLowerCase();return We.includes("associate")?0:We.includes("level 1")?1:We.includes("level 2")?2:We.includes("senior")?3:We.includes("lead")?4:0},X=Ae=>Ae>=3.8?"Lead":Ae>=2.8?"Senior Level":Ae>=1.8?"Level 2":Ae>=.8?"Level 1":"Associate",Ee=()=>{const Ae=y.map(wt=>{const ht=l.find(St=>St.id===wt.skill_id),Bt=ve(wt.skill_id),gt=Bt.find(St=>St.level_id===wt.leader_rating),Ot=Bt.find(St=>St.level_id===wt.self_rating),sr=_e((gt==null?void 0:gt.level_name)||null),qt=_e((Ot==null?void 0:Ot.level_name)||null);return{skillId:wt.skill_id,skillName:(ht==null?void 0:ht.name)||"",leaderScore:sr,selfScore:qt,leaderLevelName:(gt==null?void 0:gt.level_name)||"Not Rated",selfLevelName:(Ot==null?void 0:Ot.level_name)||"Not Rated"}}).filter(wt=>wt.leaderScore>0||wt.selfScore>0),We=Ae.reduce((wt,ht)=>wt+ht.leaderScore,0),Ye=Ae.reduce((wt,ht)=>wt+ht.selfScore,0),$e=Ae.length,At=$e>0?We/$e:0,ot=$e>0?Ye/$e:0,Nt=Ae.filter(wt=>wt.leaderScore>=3).sort((wt,ht)=>ht.leaderScore-wt.leaderScore),mt=Ae.filter(wt=>wt.leaderScore<3).sort((wt,ht)=>wt.leaderScore-ht.leaderScore);return{avgLeaderScore:At,avgSelfScore:ot,leaderLevel:X(At),selfLevel:X(ot),strengths:Nt,growthOpportunities:mt,totalSkillsRated:$e}},Oe=Ae=>{const We=p[Ae]||[],$e=y.filter(ot=>We.includes(ot.skill_id)).map(ot=>{const mt=ve(ot.skill_id).find(ht=>ht.level_id===ot.leader_rating);return _e((mt==null?void 0:mt.level_name)||null)}).filter(ot=>ot>0);if($e.length===0)return null;const At=$e.reduce((ot,Nt)=>ot+Nt,0)/$e.length;return{avgScore:At,levelName:X(At),skillsRated:$e.length}},be=()=>{const Ae=s.map($e=>Oe($e.id)).filter($e=>$e!==null);if(Ae.length===0)return null;const Ye=Ae.reduce(($e,At)=>$e+At.avgScore,0)/Ae.length;return{avgScore:Ye,levelName:X(Ye),categoriesRated:Ae.length}},xe=Ae=>{const We=G(Ae,"leader"),Ye=G(Ae,"self");if(!We||!Ye)return!1;const $e=ve(Ae),At=$e.find(wt=>wt.level_id===We),ot=$e.find(wt=>wt.level_id===Ye),Nt=_e((At==null?void 0:At.level_name)||null),mt=_e((ot==null?void 0:ot.level_name)||null);return Math.abs(Nt-mt)>=2},De=()=>{if(!(r!=null&&r.current_level)||!pt)return null;const Ae=r.current_level,We=pt.avgScore,$e={Associate:{min:0,max:.7},"Level 1":{min:.8,max:1.7},"Level 2":{min:1.8,max:2.7},"Senior Level":{min:2.8,max:3.7},Lead:{min:3.8,max:4}}[Ae];if(!$e)return null;const At=Math.round(We*10)/10,ot=Math.round(($e.max-.3)*10)/10;return At<$e.min?{status:"needs-coaching",label:"Needs Coaching",description:"Below expected level range"}:At>=ot?{status:"promotion-ready",label:"Promotion Ready",description:"Performing at or above level expectations"}:{status:"on-track",label:"On Track",description:"Meeting level expectations"}},Be=te(),Ce=Ne(),Xe=s.find(Ae=>Ae.id===x),tt=Ee(),ct=V(),pt=be(),bt=De();return v?f.jsx("div",{className:"flex items-center justify-center py-12",children:f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):e?i?L==="overview"?f.jsxs("div",{className:"max-w-6xl mx-auto",children:[f.jsxs("div",{className:"mb-6",children:[f.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Maturity Model"}),f.jsx("p",{className:"text-slate-600 mt-1",children:"Evaluate skills and track development progress"})]}),f.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[f.jsx("button",{onClick:U,disabled:ie,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition disabled:opacity-50 disabled:cursor-not-allowed",children:ie?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),f.jsx("span",{className:"text-sm font-medium",children:"Generating..."})]}):f.jsxs(f.Fragment,{children:[f.jsx(cb,{className:"w-4 h-4"}),f.jsx("span",{className:"text-sm font-medium",children:"Share Self-Assessment"})]})}),f.jsxs("div",{className:"flex gap-4",children:[bt&&f.jsxs("div",{className:`border-2 rounded-lg p-4 min-w-[200px] ${bt.status==="needs-coaching"?"bg-red-50 border-red-300":bt.status==="promotion-ready"?"bg-green-50 border-green-300":"bg-blue-50 border-blue-300"}`,children:[f.jsx("p",{className:"text-sm text-slate-600 mb-2 text-center",children:"Growth Status"}),f.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[bt.status==="needs-coaching"&&f.jsx(CO,{className:"w-6 h-6 text-red-600"}),bt.status==="on-track"&&f.jsx(jo,{className:"w-6 h-6 text-blue-600"}),bt.status==="promotion-ready"&&f.jsx(Au,{className:"w-6 h-6 text-green-600"}),f.jsx("span",{className:`text-lg font-bold ${bt.status==="needs-coaching"?"text-red-700":bt.status==="promotion-ready"?"text-green-700":"text-blue-700"}`,children:bt.label})]}),f.jsx("p",{className:"text-xs text-slate-600 text-center",children:bt.description}),r&&f.jsxs("p",{className:"text-xs text-slate-500 mt-2 text-center",children:["Current Level: ",r.current_level]})]}),pt&&f.jsxs("div",{className:"bg-white border-2 border-blue-200 rounded-lg p-4 min-w-[200px]",children:[f.jsx("p",{className:"text-sm text-slate-600 mb-2 text-center",children:"Category Average"}),f.jsxs("div",{className:"flex items-baseline justify-center gap-2",children:[f.jsx("span",{className:"text-4xl font-bold text-blue-600",children:pt.avgScore.toFixed(1)}),f.jsx("span",{className:"text-lg text-slate-600",children:"/ 4.0"})]}),f.jsx("p",{className:"text-base font-semibold text-blue-700 mt-2 text-center",children:pt.levelName}),f.jsxs("p",{className:"text-xs text-slate-500 mt-1 text-center",children:[pt.categoriesRated," categor",pt.categoriesRated!==1?"ies":"y"]})]})]})]}),tt.totalSkillsRated>0&&f.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 border border-blue-200 rounded-lg p-6 mb-8",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[f.jsx(Eu,{className:"w-6 h-6 text-blue-600"}),f.jsx("h4",{className:"text-lg font-semibold text-slate-900",children:"Overall Score"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-slate-600 mb-2",children:"Leader Assessment"}),f.jsxs("div",{className:"flex items-baseline gap-2",children:[f.jsx("span",{className:"text-3xl font-bold text-blue-600",children:tt.avgLeaderScore.toFixed(1)}),f.jsx("span",{className:"text-lg text-slate-600",children:"/ 4.0"})]}),f.jsx("p",{className:"text-lg font-semibold text-blue-700 mt-1",children:tt.leaderLevel})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-slate-600 mb-2",children:"Team Member Assessment"}),f.jsxs("div",{className:"flex items-baseline gap-2",children:[f.jsx("span",{className:"text-3xl font-bold text-slate-600",children:tt.avgSelfScore.toFixed(1)}),f.jsx("span",{className:"text-lg text-slate-600",children:"/ 4.0"})]}),f.jsx("p",{className:"text-lg font-semibold text-slate-700 mt-1",children:tt.selfLevel})]})]}),f.jsx("div",{className:"mt-4 pt-4 border-t border-blue-200",children:f.jsxs("p",{className:"text-sm text-slate-600",children:["Based on ",tt.totalSkillsRated," rated skill",tt.totalSkillsRated!==1?"s":""," across all categories"]})})]}),f.jsx("div",{className:"space-y-6",children:ct.map(({category:Ae,skills:We})=>{const Ye=Uz(Ae.name);return f.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg overflow-hidden",children:[f.jsxs("div",{className:"bg-slate-50 border-b border-slate-200 p-4 flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx(Ye,{className:"w-6 h-6 text-blue-600 flex-shrink-0 mt-0.5"}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-bold text-slate-900",children:Ae.name}),f.jsx("p",{className:"text-sm text-slate-600 mt-1",children:Ae.description})]})]}),f.jsx("button",{onClick:()=>Y(Ae.id),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition text-sm font-medium",children:"Edit"})]}),f.jsx("div",{className:"p-4",children:We.length===0?f.jsx("p",{className:"text-slate-500 text-sm",children:"No skills in this category."}):f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"space-y-3",children:We.map($e=>{const At=G($e.id,"leader"),ot=G($e.id,"self"),Nt=ve($e.id),mt=Nt.find(Bt=>Bt.level_id===At),wt=Nt.find(Bt=>Bt.level_id===ot),ht=xe($e.id);return f.jsx("div",{className:`border-b border-slate-100 pb-3 last:border-b-0 last:pb-0 ${ht?"bg-amber-50 -mx-4 px-4 py-3 border-l-4 border-l-amber-400":""}`,children:f.jsxs("div",{className:"flex items-start justify-between gap-4",children:[f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{children:[f.jsx("p",{className:"font-medium text-slate-900",children:$e.name}),ht&&f.jsx("p",{className:"text-xs text-amber-700 font-medium mt-1",children:"Significant rating gap - needs discussion"})]}),f.jsx("p",{className:"text-sm text-slate-600 mt-1",children:$e.description})]}),f.jsxs("div",{className:"flex gap-4 text-sm",children:[f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Leader"}),f.jsx("p",{className:`font-medium ${mt?"text-blue-600":"text-slate-400"}`,children:(mt==null?void 0:mt.level_name)||"Not rated"})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Team Member"}),f.jsx("p",{className:`font-medium ${wt?"text-green-600":"text-slate-400"}`,children:(wt==null?void 0:wt.level_name)||"Not rated"})]})]})]})},$e.id)})}),(()=>{const $e=Oe(Ae.id);return $e?f.jsx("div",{className:"mt-4 pt-4 border-t border-slate-200 bg-slate-50 -mx-4 -mb-4 px-4 py-3",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(fx,{className:"w-5 h-5 text-blue-600"}),f.jsx("span",{className:"font-semibold text-slate-900",children:"Average Rating"})]}),f.jsxs("div",{className:"text-right",children:[f.jsxs("div",{className:"flex items-baseline gap-2",children:[f.jsx("span",{className:"text-2xl font-bold text-blue-600",children:$e.avgScore.toFixed(1)}),f.jsx("span",{className:"text-slate-600",children:"/ 4.0"})]}),f.jsx("p",{className:"text-sm font-medium text-blue-700 mt-1",children:$e.levelName}),f.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Based on ",$e.skillsRated," skill",$e.skillsRated!==1?"s":""]})]})]})}):null})()]})})]},Ae.id)})}),B&&f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full p-6",children:[f.jsxs("div",{className:"flex items-start justify-between mb-4",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:f.jsx(cb,{className:"w-6 h-6 text-green-600"})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Self-Assessment Link"}),f.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:["Share this link with ",r==null?void 0:r.full_name]})]})]}),f.jsx("button",{onClick:()=>z(!1),className:"text-slate-400 hover:text-slate-600 transition",children:f.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),f.jsx("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-4 mb-4",children:f.jsx("p",{className:"text-sm text-slate-700 font-mono break-all",children:j})}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:R,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:Q?f.jsxs(f.Fragment,{children:[f.jsx(RO,{className:"w-5 h-5"}),"Link Copied!"]}):f.jsxs(f.Fragment,{children:[f.jsx(qO,{className:"w-5 h-5"}),"Copy Link"]})}),f.jsx("button",{onClick:()=>z(!1),className:"px-6 py-3 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition",children:"Close"})]}),f.jsx("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:f.jsxs("p",{className:"text-sm text-slate-700",children:[f.jsx("strong",{children:"Note:"})," This link will expire in 30 days. The team member can use it to complete their self-assessment for all skills in the maturity model."]})})]})})]}):f.jsxs("div",{className:"max-w-6xl mx-auto",children:[f.jsxs("div",{className:"mb-6",children:[f.jsx("button",{onClick:oe,className:"text-blue-600 hover:text-blue-700 font-medium mb-4",children:" Back to Overview"}),f.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Edit Ratings"}),f.jsx("p",{className:"text-slate-600 mt-1",children:"Rate skills for each level"})]}),s.length>0&&f.jsxs("div",{className:"mb-6",children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Category"}),f.jsx("select",{value:x,onChange:Ae=>g(Ae.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:s.map(Ae=>f.jsx("option",{value:Ae.id,children:Ae.name},Ae.id))})]}),Xe&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"mb-6",children:[f.jsx("h3",{className:"text-xl font-bold text-slate-900",children:Xe.name}),f.jsx("p",{className:"text-slate-600 mt-1",children:Xe.description})]}),Be.length===0?f.jsxs("div",{className:"text-center py-12 bg-slate-50 rounded-lg",children:[f.jsx("p",{className:"text-slate-600",children:"No skills assigned to this category."}),f.jsx("p",{className:"text-sm text-slate-500 mt-2",children:"Add skills to categories in Admin settings."})]}):f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full border-collapse",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"bg-slate-50 border-b-2 border-slate-200",children:[f.jsx("th",{className:"text-left p-4 font-semibold text-slate-900 min-w-[200px]",children:"Skill"}),f.jsx("th",{className:"text-left p-2 font-semibold text-slate-900 w-20",children:"Rating By"}),Ce.map(Ae=>f.jsx("th",{className:"text-left p-4 font-semibold text-slate-900 min-w-[180px]",children:Ae},Ae))]})}),f.jsx("tbody",{children:Be.map(Ae=>{const We=G(Ae.id,"leader"),Ye=G(Ae.id,"self"),$e=ve(Ae.id);return f.jsxs(f.Fragment,{children:[f.jsxs("tr",{className:"border-b border-slate-200 hover:bg-slate-50",children:[f.jsx("td",{className:"p-4 font-medium text-slate-900 align-top",rowSpan:2,children:Ae.name}),f.jsx("td",{className:"p-2 text-sm text-slate-600 align-top",children:f.jsx("div",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs font-medium",children:"Leader"})}),Ce.map(At=>{const ot=$e.find(mt=>mt.level_name===At),Nt=We===(ot==null?void 0:ot.level_id);return f.jsx("td",{className:`p-3 align-top cursor-pointer transition-colors ${Nt?"bg-blue-100 border-2 border-blue-500":"border border-slate-200 hover:bg-slate-100"}`,onClick:()=>ot&&k(Ae.id,ot.level_id,"leader"),children:f.jsx("p",{className:"text-sm text-slate-700",children:(ot==null?void 0:ot.description)||""})},At)})]},`${Ae.id}-leader`),f.jsxs("tr",{className:"border-b-2 border-slate-300",children:[f.jsx("td",{className:"p-2 text-sm text-slate-600 align-top",children:f.jsx("div",{className:"bg-green-100 text-green-800 px-2 py-1 rounded text-xs font-medium",children:"Team Member"})}),Ce.map(At=>{const ot=$e.find(mt=>mt.level_name===At),Nt=Ye===(ot==null?void 0:ot.level_id);return f.jsx("td",{className:`p-3 align-top cursor-pointer transition-colors ${Nt?"bg-green-100 border-2 border-green-500":"border border-slate-200 hover:bg-slate-100"}`,onClick:()=>ot&&k(Ae.id,ot.level_id,"self"),children:f.jsx("p",{className:"text-sm text-slate-700",children:(ot==null?void 0:ot.description)||""})},At)})]},`${Ae.id}-self`)]})})})]})}),f.jsxs("div",{className:"mt-6 space-y-4",children:[f.jsx("h4",{className:"font-semibold text-slate-900",children:"Notes (Optional)"}),Be.map(Ae=>{const We=G(Ae.id,"leader"),Ye=G(Ae.id,"self");return!We&&!Ye?null:f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700",children:Ae.name}),f.jsx("textarea",{value:O[Ae.id]||"",onChange:$e=>I(Ae.id,$e.target.value),rows:2,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Add any additional notes or context..."})]},Ae.id)})]}),f.jsxs("div",{className:"flex items-center justify-end gap-4 mt-6",children:[F&&f.jsx("div",{className:"text-green-600 font-medium",children:"Assessment saved successfully!"}),f.jsxs("button",{onClick:M,disabled:_||y.length===0,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[f.jsx(si,{className:"w-5 h-5"}),_?"Saving...":"Save Assessment"]})]})]})]})]}):f.jsxs("div",{className:"text-center py-12 bg-slate-50 rounded-lg",children:[f.jsx("p",{className:"text-slate-600",children:"No maturity model assigned to this team member's role."}),f.jsx("p",{className:"text-sm text-slate-500 mt-2",children:"Assign a role with a maturity model in Admin settings."})]}):f.jsxs("div",{className:"text-center py-12",children:[f.jsx(Dv,{className:"w-16 h-16 text-slate-400 mx-auto mb-4"}),f.jsx("p",{className:"text-slate-600",children:"No team member selected"})]})}const qz=[{value:"W",label:"Wonder",description:"Pondering and questioning"},{value:"I",label:"Invention",description:"Creating and innovating"},{value:"D",label:"Discernment",description:"Intuiting and evaluating"},{value:"G",label:"Galvanizing",description:"Rallying and inspiring"},{value:"E",label:"Enablement",description:"Supporting and assisting"},{value:"T",label:"Tenacity",description:"Finishing and completing"}];function Gv({data:e,onChange:t,readOnly:r=!1}){const[n,i]=ye.useState("disc"),a=(u,d)=>{t({...e,[u]:d})},s=(u,d)=>{t({...e,[u]:d})},o=(u,d)=>{const p=e.working_genius||{genius:[],competency:[],frustration:[]};t({...e,working_genius:{...p,[u]:d}})},l=(u,d)=>{const h=(e.working_genius||{genius:[],competency:[],frustration:[]})[u]||[];h.includes(d)?o(u,h.filter(m=>m!==d)):h.length<2&&o(u,[...h,d])},c=u=>u===null?0:u;return f.jsxs("div",{className:"max-w-6xl mx-auto",children:[f.jsxs("div",{className:"flex gap-2 border-b border-slate-200",children:[f.jsx("button",{type:"button",onClick:()=>i("disc"),className:`px-4 py-2 text-sm font-medium transition ${n==="disc"?"text-blue-600 border-b-2 border-blue-600":"text-slate-600 hover:text-slate-900"}`,children:"DISC Profile"}),f.jsx("button",{type:"button",onClick:()=>i("enneagram"),className:`px-4 py-2 text-sm font-medium transition ${n==="enneagram"?"text-blue-600 border-b-2 border-blue-600":"text-slate-600 hover:text-slate-900"}`,children:"Enneagram"}),f.jsx("button",{type:"button",onClick:()=>i("working-genius"),className:`px-4 py-2 text-sm font-medium transition ${n==="working-genius"?"text-blue-600 border-b-2 border-blue-600":"text-slate-600 hover:text-slate-900"}`,children:"Working Genius"})]}),n==="disc"&&f.jsxs("div",{className:"space-y-6 mt-8",children:[f.jsx("div",{className:"flex items-end justify-around gap-4 h-64 bg-slate-50 rounded-lg p-6",children:[{key:"disc_d",label:"D",fullLabel:"Dominance",color:"bg-red-500"},{key:"disc_i",label:"I",fullLabel:"Influence",color:"bg-yellow-500"},{key:"disc_s",label:"S",fullLabel:"Steadiness",color:"bg-green-500"},{key:"disc_c",label:"C",fullLabel:"Conscientiousness",color:"bg-blue-500"}].map(({key:u,label:d,fullLabel:p,color:h})=>{const y=e[u],m=c(y);return f.jsxs("div",{className:"flex flex-col items-center gap-2 flex-1",children:[f.jsx("div",{className:"text-sm font-medium text-slate-600",children:y??0}),f.jsx("div",{className:"w-full flex items-end justify-center",style:{height:"180px"},children:f.jsx("div",{className:`w-full ${h} rounded-t transition-all duration-300`,style:{height:`${m}%`}})}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-lg font-bold text-slate-900",children:d}),f.jsx("div",{className:"text-xs text-slate-600",children:p})]})]},u)})}),!r&&f.jsx("div",{className:"grid grid-cols-2 gap-4",children:[{key:"disc_d",label:"Dominance (D)"},{key:"disc_i",label:"Influence (I)"},{key:"disc_s",label:"Steadiness (S)"},{key:"disc_c",label:"Conscientiousness (C)"}].map(({key:u,label:d})=>f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:d}),f.jsx("input",{type:"number",min:"0",max:"100",value:e[u]||0,onChange:p=>a(u,parseInt(p.target.value)||0),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]},u))})]}),n==="enneagram"&&f.jsxs("div",{className:"space-y-4 mt-8",children:[f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Primary Type"}),r?f.jsx("div",{className:"px-4 py-2 bg-slate-50 rounded-lg text-slate-900",children:e.enneagram_primary?`Type ${e.enneagram_primary}`:"Not set"}):f.jsxs("select",{value:e.enneagram_primary||"",onChange:u=>s("enneagram_primary",u.target.value?parseInt(u.target.value):null),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[f.jsx("option",{value:"",children:"Select type"}),[1,2,3,4,5,6,7,8,9].map(u=>f.jsxs("option",{value:u,children:["Type ",u]},u))]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Wing Type (Optional)"}),r?f.jsx("div",{className:"px-4 py-2 bg-slate-50 rounded-lg text-slate-900",children:e.enneagram_wing?`Wing ${e.enneagram_wing}`:"Not set"}):f.jsxs("select",{value:e.enneagram_wing||"",onChange:u=>s("enneagram_wing",u.target.value?parseInt(u.target.value):null),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[f.jsx("option",{value:"",children:"No wing"}),[1,2,3,4,5,6,7,8,9].map(u=>f.jsxs("option",{value:u,children:["Wing ",u]},u))]})]})]}),e.enneagram_primary&&f.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx(Au,{className:"w-5 h-5 text-blue-600 mt-0.5"}),f.jsxs("div",{className:"flex-1",children:[f.jsxs("h4",{className:"font-semibold text-blue-900 mb-1",children:["Type ",e.enneagram_primary,e.enneagram_wing&&` with Wing ${e.enneagram_wing}`]}),f.jsxs("p",{className:"text-sm text-blue-800 mb-2",children:["Enneagram Type ",e.enneagram_primary," personality profile"]}),f.jsxs("a",{href:`https://www.enneagraminstitute.com/type-${e.enneagram_primary}/`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-sm text-blue-600 hover:text-blue-700 font-medium transition",children:["Learn more about Type ",e.enneagram_primary,f.jsx(zO,{className:"w-3 h-3"})]})]})]})})]}),n==="working-genius"&&f.jsxs("div",{className:"space-y-6 mt-8",children:[f.jsx("div",{className:"text-sm text-slate-600 mb-4",children:"Select 2 items for each category. Working Genius helps identify your natural gifts and frustrations."}),["genius","competency","frustration"].map(u=>{const p=(e.working_genius||{genius:[],competency:[],frustration:[]})[u]||[],h=p.length>=2;return f.jsxs("div",{children:[f.jsxs("h4",{className:"text-sm font-semibold text-slate-900 mb-3 capitalize",children:[u==="genius"&&"Genius (Your Natural Strengths)",u==="competency"&&"Competency (You Can Do It)",u==="frustration"&&"Frustration (Drains Your Energy)",f.jsxs("span",{className:"ml-2 text-xs font-normal text-slate-500",children:["(",p.length,"/2 selected)"]})]}),f.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:qz.map(y=>{const m=p.includes(y.value),x=!m&&h;return f.jsxs("button",{type:"button",onClick:()=>{r||l(u,y.value)},disabled:r||x,className:`p-3 rounded-lg border-2 text-left transition ${m?u==="genius"?"border-green-500 bg-green-50":u==="competency"?"border-blue-500 bg-blue-50":"border-red-500 bg-red-50":x?"border-slate-200 bg-slate-50 opacity-50 cursor-not-allowed":"border-slate-300 hover:border-slate-400"}`,children:[f.jsxs("div",{className:"font-semibold text-slate-900",children:[y.value," - ",y.label]}),f.jsx("div",{className:"text-xs text-slate-600 mt-1",children:y.description})]},y.value)})})]},u)})]})]})}function dr(e){"@babel/helpers - typeof";return dr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dr(e)}var Va=Uint8Array,Xi=Uint16Array,Dx=Int32Array,Mx=new Va([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Bx=new Va([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),E5=new Va([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),z6=function(e,t){for(var r=new Xi(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var i=new Dx(r[30]),n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)i[a]=a-r[n]<<5|n;return{b:r,r:i}},H6=z6(Mx,2),$z=H6.b,Kv=H6.r;$z[28]=258,Kv[258]=28;var zz=z6(Bx,0),A5=zz.r,Yv=new Xi(32768);for(var Or=0;Or<32768;++Or){var Eo=(Or&43690)>>1|(Or&21845)<<1;Eo=(Eo&52428)>>2|(Eo&13107)<<2,Eo=(Eo&61680)>>4|(Eo&3855)<<4,Yv[Or]=((Eo&65280)>>8|(Eo&255)<<8)>>1}var ch=function(e,t,r){for(var n=e.length,i=0,a=new Xi(t);i<n;++i)e[i]&&++a[e[i]-1];var s=new Xi(t);for(i=1;i<t;++i)s[i]=s[i-1]+a[i-1]<<1;var o;if(r){o=new Xi(1<<t);var l=15-t;for(i=0;i<n;++i)if(e[i])for(var c=i<<4|e[i],u=t-e[i],d=s[e[i]-1]++<<u,p=d|(1<<u)-1;d<=p;++d)o[Yv[d]>>l]=c}else for(o=new Xi(n),i=0;i<n;++i)e[i]&&(o[i]=Yv[s[e[i]-1]++]>>15-e[i]);return o},tc=new Va(288);for(var Or=0;Or<144;++Or)tc[Or]=8;for(var Or=144;Or<256;++Or)tc[Or]=9;for(var Or=256;Or<280;++Or)tc[Or]=7;for(var Or=280;Or<288;++Or)tc[Or]=8;var Up=new Va(32);for(var Or=0;Or<32;++Or)Up[Or]=5;var Hz=ch(tc,9,0),Wz=ch(Up,5,0),W6=function(e){return(e+7)/8|0},Vz=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Va(e.subarray(t,r))},Rs=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},Ff=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},sg=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var i=r.length,a=r.slice();if(!i)return{t:G6,l:0};if(i==1){var s=new Va(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(E,F){return E.f-F.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],c=0,u=1,d=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};u!=i-1;)o=r[r[c].f<r[d].f?c++:d++],l=r[c!=u&&r[c].f<r[d].f?c++:d++],r[u++]={s:-1,f:o.f+l.f,l:o,r:l};for(var p=a[0].s,n=1;n<i;++n)a[n].s>p&&(p=a[n].s);var h=new Xi(p+1),y=Xv(r[u-1],h,0);if(y>t){var n=0,m=0,x=y-t,g=1<<x;for(a.sort(function(F,A){return h[A.s]-h[F.s]||F.f-A.f});n<i;++n){var v=a[n].s;if(h[v]>t)m+=g-(1<<y-h[v]),h[v]=t;else break}for(m>>=x;m>0;){var b=a[n].s;h[b]<t?m-=1<<t-h[b]++-1:++n}for(;n>=0&&m;--n){var _=a[n].s;h[_]==t&&(--h[_],++m)}y=t}return{t:new Va(h),l:y}},Xv=function(e,t,r){return e.s==-1?Math.max(Xv(e.l,t,r+1),Xv(e.r,t,r+1)):t[e.s]=r},T5=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Xi(++t),n=0,i=e[0],a=1,s=function(l){r[n++]=l},o=1;o<=t;++o)if(e[o]==i&&o!=t)++a;else{if(!i&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(i),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(i);a=1,i=e[o]}return{c:r.subarray(0,n),n:t}},If=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},V6=function(e,t,r){var n=r.length,i=W6(t+2);e[i]=n&255,e[i+1]=n>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var a=0;a<n;++a)e[i+a+4]=r[a];return(i+4+n)*8},j5=function(e,t,r,n,i,a,s,o,l,c,u){Rs(t,u++,r),++i[256];for(var d=sg(i,15),p=d.t,h=d.l,y=sg(a,15),m=y.t,x=y.l,g=T5(p),v=g.c,b=g.n,_=T5(m),E=_.c,F=_.n,A=new Xi(19),O=0;O<v.length;++O)++A[v[O]&31];for(var O=0;O<E.length;++O)++A[E[O]&31];for(var C=sg(A,7),L=C.t,N=C.l,j=19;j>4&&!L[E5[j-1]];--j);var T=c+5<<3,B=If(i,tc)+If(a,Up)+s,z=If(i,p)+If(a,m)+s+14+3*j+If(A,L)+2*A[16]+3*A[17]+7*A[18];if(l>=0&&T<=B&&T<=z)return V6(t,u,e.subarray(l,l+c));var Q,ne,ie,K;if(Rs(t,u,1+(z<B)),u+=2,z<B){Q=ch(p,h,0),ne=p,ie=ch(m,x,0),K=m;var W=ch(L,N,0);Rs(t,u,b-257),Rs(t,u+5,F-1),Rs(t,u+10,j-4),u+=14;for(var O=0;O<j;++O)Rs(t,u+3*O,L[E5[O]]);u+=3*j;for(var q=[v,E],k=0;k<2;++k)for(var I=q[k],O=0;O<I.length;++O){var M=I[O]&31;Rs(t,u,W[M]),u+=L[M],M>15&&(Rs(t,u,I[O]>>5&127),u+=I[O]>>12)}}else Q=Hz,ne=tc,ie=Wz,K=Up;for(var O=0;O<o;++O){var U=n[O];if(U>255){var M=U>>18&31;Ff(t,u,Q[M+257]),u+=ne[M+257],M>7&&(Rs(t,u,U>>23&31),u+=Mx[M]);var R=U&31;Ff(t,u,ie[R]),u+=K[R],R>3&&(Ff(t,u,U>>5&8191),u+=Bx[R])}else Ff(t,u,Q[U]),u+=ne[U]}return Ff(t,u,Q[256]),u+ne[256]},Gz=new Dx([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),G6=new Va(0),Kz=function(e,t,r,n,i,a){var s=a.z||e.length,o=new Va(n+s+5*(1+Math.ceil(s/7e3))+i),l=o.subarray(n,o.length-i),c=a.l,u=(a.r||0)&7;if(t){u&&(l[0]=a.r>>3);for(var d=Gz[t-1],p=d>>13,h=d&8191,y=(1<<r)-1,m=a.p||new Xi(32768),x=a.h||new Xi(y+1),g=Math.ceil(r/3),v=2*g,b=function(_e){return(e[_e]^e[_e+1]<<g^e[_e+2]<<v)&y},_=new Dx(25e3),E=new Xi(288),F=new Xi(32),A=0,O=0,C=a.i||0,L=0,N=a.w||0,j=0;C+2<s;++C){var T=b(C),B=C&32767,z=x[T];if(m[B]=z,x[T]=B,N<=C){var Q=s-C;if((A>7e3||L>24576)&&(Q>423||!c)){u=j5(e,l,0,_,E,F,O,L,j,C-j,u),L=A=O=0,j=C;for(var ne=0;ne<286;++ne)E[ne]=0;for(var ne=0;ne<30;++ne)F[ne]=0}var ie=2,K=0,W=h,q=B-z&32767;if(Q>2&&T==b(C-q))for(var k=Math.min(p,Q)-1,I=Math.min(32767,C),M=Math.min(258,Q);q<=I&&--W&&B!=z;){if(e[C+ie]==e[C+ie-q]){for(var U=0;U<M&&e[C+U]==e[C+U-q];++U);if(U>ie){if(ie=U,K=q,U>k)break;for(var R=Math.min(q,U-2),G=0,ne=0;ne<R;++ne){var te=C-q+ne&32767,V=m[te],Y=te-V&32767;Y>G&&(G=Y,z=te)}}}B=z,z=m[B],q+=B-z&32767}if(K){_[L++]=268435456|Kv[ie]<<18|A5[K];var oe=Kv[ie]&31,ve=A5[K]&31;O+=Mx[oe]+Bx[ve],++E[257+oe],++F[ve],N=C+ie,++A}else _[L++]=e[C],++E[e[C]]}}for(C=Math.max(C,N);C<s;++C)_[L++]=e[C],++E[e[C]];u=j5(e,l,c,_,E,F,O,L,j,C-j,u),c||(a.r=u&7|l[u/8|0]<<3,u-=7,a.h=x,a.p=m,a.i=C,a.w=N)}else{for(var C=a.w||0;C<s+c;C+=65535){var Ne=C+65535;Ne>=s&&(l[u/8|0]=c,Ne=s),u=V6(l,u+1,e.subarray(C,Ne))}a.i=s}return Vz(o,0,n+W6(u)+i)},K6=function(){var e=1,t=0;return{p:function(r){for(var n=e,i=t,a=r.length|0,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=n+=r[s];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}e=n,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},Yz=function(e,t,r,n,i){if(!i&&(i={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),s=new Va(a.length+e.length);s.set(a),s.set(e,a.length),e=s,i.w=a.length}return Kz(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,i)},Y6=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},Xz=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=K6();i.p(t.dictionary),Y6(e,2,i.d())}};function Zv(e,t){t||(t={});var r=K6();r.p(e);var n=Yz(e,t,t.dictionary?6:2,4);return Xz(n,t),Y6(n,n.length-4,r.d()),n}var Zz=typeof TextDecoder<"u"&&new TextDecoder,Jz=0;try{Zz.decode(G6,{stream:!0}),Jz=1}catch{}function Qz(e){if(Array.isArray(e))return e}function eH(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function O5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function tH(e,t){if(e){if(typeof e=="string")return O5(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?O5(e,t):void 0}}function rH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C5(e,t){return Qz(e)||eH(e,t)||tH(e,t)||rH()}function L5(e,t="utf8"){return new TextDecoder(t).decode(e)}const nH=new TextEncoder;function iH(e){return nH.encode(e)}const aH=1024*8,sH=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),og={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Ux{constructor(t=aH,r={}){ur(this,"buffer");ur(this,"byteLength");ur(this,"byteOffset");ur(this,"length");ur(this,"offset");ur(this,"lastWrittenByte");ur(this,"littleEndian");ur(this,"_data");ur(this,"_mark");ur(this,"_marks");let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const i=r.offset?r.offset>>>0:0,a=t.byteLength-i;let s=i;(ArrayBuffer.isView(t)||t instanceof Ux)&&(t.byteLength!==t.buffer.byteLength&&(s=t.byteOffset+i),t=t.buffer),n?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=t,this.length=a,this.byteLength=a,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,a),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const n=og[r].BYTES_PER_ELEMENT*t,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+n);if(this.littleEndian===sH&&r!=="uint8"&&r!=="int8"){const o=new Uint8Array(this.buffer.slice(i,i+n));o.reverse();const l=new og[r](o.buffer);return this.offset+=n,l.reverse(),l}const s=new og[r](a);return this.offset+=n,s}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let n=0;n<t;n++)r+=this.readChar();return r}readUtf8(t=1){return L5(this.readBytes(t))}decodeText(t=1,r="utf8"){return L5(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(iH(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const oH=4,P5=0,F5=1,lH=2;function Gu(e){let t=e.length;for(;--t>=0;)e[t]=0}const cH=0,X6=1,uH=2,fH=3,hH=258,qx=29,od=256,Uh=od+1+qx,du=30,$x=19,Z6=2*Uh+1,Ul=15,lg=16,dH=7,zx=256,J6=16,Q6=17,ek=18,Jv=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),q0=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),pH=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),tk=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),mH=512,$s=new Array((Uh+2)*2);Gu($s);const uh=new Array(du*2);Gu(uh);const qh=new Array(mH);Gu(qh);const $h=new Array(hH-fH+1);Gu($h);const Hx=new Array(qx);Gu(Hx);const qp=new Array(du);Gu(qp);function cg(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}let rk,nk,ik;function ug(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const ak=e=>e<256?qh[e]:qh[256+(e>>>7)],zh=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},Ei=(e,t,r)=>{e.bi_valid>lg-r?(e.bi_buf|=t<<e.bi_valid&65535,zh(e,e.bi_buf),e.bi_buf=t>>lg-e.bi_valid,e.bi_valid+=r-lg):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)},hs=(e,t,r)=>{Ei(e,r[t*2],r[t*2+1])},sk=(e,t)=>{let r=0;do r|=e&1,e>>>=1,r<<=1;while(--t>0);return r>>>1},gH=e=>{e.bi_valid===16?(zh(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},vH=(e,t)=>{const r=t.dyn_tree,n=t.max_code,i=t.stat_desc.static_tree,a=t.stat_desc.has_stree,s=t.stat_desc.extra_bits,o=t.stat_desc.extra_base,l=t.stat_desc.max_length;let c,u,d,p,h,y,m=0;for(p=0;p<=Ul;p++)e.bl_count[p]=0;for(r[e.heap[e.heap_max]*2+1]=0,c=e.heap_max+1;c<Z6;c++)u=e.heap[c],p=r[r[u*2+1]*2+1]+1,p>l&&(p=l,m++),r[u*2+1]=p,!(u>n)&&(e.bl_count[p]++,h=0,u>=o&&(h=s[u-o]),y=r[u*2],e.opt_len+=y*(p+h),a&&(e.static_len+=y*(i[u*2+1]+h)));if(m!==0){do{for(p=l-1;e.bl_count[p]===0;)p--;e.bl_count[p]--,e.bl_count[p+1]+=2,e.bl_count[l]--,m-=2}while(m>0);for(p=l;p!==0;p--)for(u=e.bl_count[p];u!==0;)d=e.heap[--c],!(d>n)&&(r[d*2+1]!==p&&(e.opt_len+=(p-r[d*2+1])*r[d*2],r[d*2+1]=p),u--)}},ok=(e,t,r)=>{const n=new Array(Ul+1);let i=0,a,s;for(a=1;a<=Ul;a++)i=i+r[a-1]<<1,n[a]=i;for(s=0;s<=t;s++){let o=e[s*2+1];o!==0&&(e[s*2]=sk(n[o]++,o))}},xH=()=>{let e,t,r,n,i;const a=new Array(Ul+1);for(r=0,n=0;n<qx-1;n++)for(Hx[n]=r,e=0;e<1<<Jv[n];e++)$h[r++]=n;for($h[r-1]=n,i=0,n=0;n<16;n++)for(qp[n]=i,e=0;e<1<<q0[n];e++)qh[i++]=n;for(i>>=7;n<du;n++)for(qp[n]=i<<7,e=0;e<1<<q0[n]-7;e++)qh[256+i++]=n;for(t=0;t<=Ul;t++)a[t]=0;for(e=0;e<=143;)$s[e*2+1]=8,e++,a[8]++;for(;e<=255;)$s[e*2+1]=9,e++,a[9]++;for(;e<=279;)$s[e*2+1]=7,e++,a[7]++;for(;e<=287;)$s[e*2+1]=8,e++,a[8]++;for(ok($s,Uh+1,a),e=0;e<du;e++)uh[e*2+1]=5,uh[e*2]=sk(e,5);rk=new cg($s,Jv,od+1,Uh,Ul),nk=new cg(uh,q0,0,du,Ul),ik=new cg(new Array(0),pH,0,$x,dH)},lk=e=>{let t;for(t=0;t<Uh;t++)e.dyn_ltree[t*2]=0;for(t=0;t<du;t++)e.dyn_dtree[t*2]=0;for(t=0;t<$x;t++)e.bl_tree[t*2]=0;e.dyn_ltree[zx*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},ck=e=>{e.bi_valid>8?zh(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},I5=(e,t,r,n)=>{const i=t*2,a=r*2;return e[i]<e[a]||e[i]===e[a]&&n[t]<=n[r]},fg=(e,t,r)=>{const n=e.heap[r];let i=r<<1;for(;i<=e.heap_len&&(i<e.heap_len&&I5(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!I5(t,n,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=n},R5=(e,t,r)=>{let n,i,a=0,s,o;if(e.sym_next!==0)do n=e.pending_buf[e.sym_buf+a++]&255,n+=(e.pending_buf[e.sym_buf+a++]&255)<<8,i=e.pending_buf[e.sym_buf+a++],n===0?hs(e,i,t):(s=$h[i],hs(e,s+od+1,t),o=Jv[s],o!==0&&(i-=Hx[s],Ei(e,i,o)),n--,s=ak(n),hs(e,s,r),o=q0[s],o!==0&&(n-=qp[s],Ei(e,n,o)));while(a<e.sym_next);hs(e,zx,t)},Qv=(e,t)=>{const r=t.dyn_tree,n=t.stat_desc.static_tree,i=t.stat_desc.has_stree,a=t.stat_desc.elems;let s,o,l=-1,c;for(e.heap_len=0,e.heap_max=Z6,s=0;s<a;s++)r[s*2]!==0?(e.heap[++e.heap_len]=l=s,e.depth[s]=0):r[s*2+1]=0;for(;e.heap_len<2;)c=e.heap[++e.heap_len]=l<2?++l:0,r[c*2]=1,e.depth[c]=0,e.opt_len--,i&&(e.static_len-=n[c*2+1]);for(t.max_code=l,s=e.heap_len>>1;s>=1;s--)fg(e,r,s);c=a;do s=e.heap[1],e.heap[1]=e.heap[e.heap_len--],fg(e,r,1),o=e.heap[1],e.heap[--e.heap_max]=s,e.heap[--e.heap_max]=o,r[c*2]=r[s*2]+r[o*2],e.depth[c]=(e.depth[s]>=e.depth[o]?e.depth[s]:e.depth[o])+1,r[s*2+1]=r[o*2+1]=c,e.heap[1]=c++,fg(e,r,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],vH(e,t),ok(r,l,e.bl_count)},D5=(e,t,r)=>{let n,i=-1,a,s=t[0*2+1],o=0,l=7,c=4;for(s===0&&(l=138,c=3),t[(r+1)*2+1]=65535,n=0;n<=r;n++)a=s,s=t[(n+1)*2+1],!(++o<l&&a===s)&&(o<c?e.bl_tree[a*2]+=o:a!==0?(a!==i&&e.bl_tree[a*2]++,e.bl_tree[J6*2]++):o<=10?e.bl_tree[Q6*2]++:e.bl_tree[ek*2]++,o=0,i=a,s===0?(l=138,c=3):a===s?(l=6,c=3):(l=7,c=4))},M5=(e,t,r)=>{let n,i=-1,a,s=t[0*2+1],o=0,l=7,c=4;for(s===0&&(l=138,c=3),n=0;n<=r;n++)if(a=s,s=t[(n+1)*2+1],!(++o<l&&a===s)){if(o<c)do hs(e,a,e.bl_tree);while(--o!==0);else a!==0?(a!==i&&(hs(e,a,e.bl_tree),o--),hs(e,J6,e.bl_tree),Ei(e,o-3,2)):o<=10?(hs(e,Q6,e.bl_tree),Ei(e,o-3,3)):(hs(e,ek,e.bl_tree),Ei(e,o-11,7));o=0,i=a,s===0?(l=138,c=3):a===s?(l=6,c=3):(l=7,c=4)}},yH=e=>{let t;for(D5(e,e.dyn_ltree,e.l_desc.max_code),D5(e,e.dyn_dtree,e.d_desc.max_code),Qv(e,e.bl_desc),t=$x-1;t>=3&&e.bl_tree[tk[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},_H=(e,t,r,n)=>{let i;for(Ei(e,t-257,5),Ei(e,r-1,5),Ei(e,n-4,4),i=0;i<n;i++)Ei(e,e.bl_tree[tk[i]*2+1],3);M5(e,e.dyn_ltree,t-1),M5(e,e.dyn_dtree,r-1)},bH=e=>{let t=4093624447,r;for(r=0;r<=31;r++,t>>>=1)if(t&1&&e.dyn_ltree[r*2]!==0)return P5;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return F5;for(r=32;r<od;r++)if(e.dyn_ltree[r*2]!==0)return F5;return P5};let B5=!1;const wH=e=>{B5||(xH(),B5=!0),e.l_desc=new ug(e.dyn_ltree,rk),e.d_desc=new ug(e.dyn_dtree,nk),e.bl_desc=new ug(e.bl_tree,ik),e.bi_buf=0,e.bi_valid=0,lk(e)},uk=(e,t,r,n)=>{Ei(e,(cH<<1)+(n?1:0),3),ck(e),zh(e,r),zh(e,~r),r&&e.pending_buf.set(e.window.subarray(t,t+r),e.pending),e.pending+=r},NH=e=>{Ei(e,X6<<1,3),hs(e,zx,$s),gH(e)},SH=(e,t,r,n)=>{let i,a,s=0;e.level>0?(e.strm.data_type===lH&&(e.strm.data_type=bH(e)),Qv(e,e.l_desc),Qv(e,e.d_desc),s=yH(e),i=e.opt_len+3+7>>>3,a=e.static_len+3+7>>>3,a<=i&&(i=a)):i=a=r+5,r+4<=i&&t!==-1?uk(e,t,r,n):e.strategy===oH||a===i?(Ei(e,(X6<<1)+(n?1:0),3),R5(e,$s,uh)):(Ei(e,(uH<<1)+(n?1:0),3),_H(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),R5(e,e.dyn_ltree,e.dyn_dtree)),lk(e),n&&ck(e)},kH=(e,t,r)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=r,t===0?e.dyn_ltree[r*2]++:(e.matches++,t--,e.dyn_ltree[($h[r]+od+1)*2]++,e.dyn_dtree[ak(t)*2]++),e.sym_next===e.sym_end);var EH=wH,AH=uk,TH=SH,jH=kH,OH=NH,CH={_tr_init:EH,_tr_stored_block:AH,_tr_flush_block:TH,_tr_tally:jH,_tr_align:OH};const LH=(e,t,r,n)=>{let i=e&65535|0,a=e>>>16&65535|0,s=0;for(;r!==0;){s=r>2e3?2e3:r,r-=s;do i=i+t[n++]|0,a=a+i|0;while(--s);i%=65521,a%=65521}return i|a<<16|0};var Hh=LH;const PH=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},FH=new Uint32Array(PH()),IH=(e,t,r,n)=>{const i=FH,a=n+r;e^=-1;for(let s=n;s<a;s++)e=e>>>8^i[(e^t[s])&255];return e^-1};var En=IH,ju={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},ld={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:RH,_tr_stored_block:e2,_tr_flush_block:DH,_tr_tally:Jo,_tr_align:MH}=CH,{Z_NO_FLUSH:Qo,Z_PARTIAL_FLUSH:BH,Z_FULL_FLUSH:UH,Z_FINISH:pa,Z_BLOCK:U5,Z_OK:Un,Z_STREAM_END:q5,Z_STREAM_ERROR:gs,Z_DATA_ERROR:qH,Z_BUF_ERROR:hg,Z_DEFAULT_COMPRESSION:$H,Z_FILTERED:zH,Z_HUFFMAN_ONLY:v0,Z_RLE:HH,Z_FIXED:WH,Z_DEFAULT_STRATEGY:VH,Z_UNKNOWN:GH,Z_DEFLATED:C1}=ld,KH=9,YH=15,XH=8,ZH=29,JH=256,t2=JH+1+ZH,QH=30,eW=19,tW=2*t2+1,rW=15,Zt=3,Uo=258,vs=Uo+Zt+1,nW=32,Ou=42,Wx=57,r2=69,n2=73,i2=91,a2=103,ql=113,zf=666,mi=1,Ku=2,rc=3,Yu=4,iW=3,$l=(e,t)=>(e.msg=ju[t],t),$5=e=>e*2-(e>4?9:0),Io=e=>{let t=e.length;for(;--t>=0;)e[t]=0},aW=e=>{let t,r,n,i=e.w_size;t=e.hash_size,n=t;do r=e.head[--n],e.head[n]=r>=i?r-i:0;while(--t);t=i,n=t;do r=e.prev[--n],e.prev[n]=r>=i?r-i:0;while(--t)};let sW=(e,t,r)=>(t<<e.hash_shift^r)&e.hash_mask,el=sW;const zi=e=>{const t=e.state;let r=t.pending;r>e.avail_out&&(r=e.avail_out),r!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+r),e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,t.pending===0&&(t.pending_out=0))},Zi=(e,t)=>{DH(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,zi(e.strm)},ir=(e,t)=>{e.pending_buf[e.pending++]=t},Rf=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},s2=(e,t,r,n)=>{let i=e.avail_in;return i>n&&(i=n),i===0?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),r),e.state.wrap===1?e.adler=Hh(e.adler,t,i,r):e.state.wrap===2&&(e.adler=En(e.adler,t,i,r)),e.next_in+=i,e.total_in+=i,i)},fk=(e,t)=>{let r=e.max_chain_length,n=e.strstart,i,a,s=e.prev_length,o=e.nice_match;const l=e.strstart>e.w_size-vs?e.strstart-(e.w_size-vs):0,c=e.window,u=e.w_mask,d=e.prev,p=e.strstart+Uo;let h=c[n+s-1],y=c[n+s];e.prev_length>=e.good_match&&(r>>=2),o>e.lookahead&&(o=e.lookahead);do if(i=t,!(c[i+s]!==y||c[i+s-1]!==h||c[i]!==c[n]||c[++i]!==c[n+1])){n+=2,i++;do;while(c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&n<p);if(a=Uo-(p-n),n=p-Uo,a>s){if(e.match_start=t,s=a,a>=o)break;h=c[n+s-1],y=c[n+s]}}while((t=d[t&u])>l&&--r!==0);return s<=e.lookahead?s:e.lookahead},Cu=e=>{const t=e.w_size;let r,n,i;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-vs)&&(e.window.set(e.window.subarray(t,t+t-n),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),aW(e),n+=t),e.strm.avail_in===0)break;if(r=s2(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=r,e.lookahead+e.insert>=Zt)for(i=e.strstart-e.insert,e.ins_h=e.window[i],e.ins_h=el(e,e.ins_h,e.window[i+1]);e.insert&&(e.ins_h=el(e,e.ins_h,e.window[i+Zt-1]),e.prev[i&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=i,i++,e.insert--,!(e.lookahead+e.insert<Zt)););}while(e.lookahead<vs&&e.strm.avail_in!==0)},hk=(e,t)=>{let r=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,n,i,a,s=0,o=e.strm.avail_in;do{if(n=65535,a=e.bi_valid+42>>3,e.strm.avail_out<a||(a=e.strm.avail_out-a,i=e.strstart-e.block_start,n>i+e.strm.avail_in&&(n=i+e.strm.avail_in),n>a&&(n=a),n<r&&(n===0&&t!==pa||t===Qo||n!==i+e.strm.avail_in)))break;s=t===pa&&n===i+e.strm.avail_in?1:0,e2(e,0,0,s),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,zi(e.strm),i&&(i>n&&(i=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+i),e.strm.next_out),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i,e.block_start+=i,n-=i),n&&(s2(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(s===0);return o-=e.strm.avail_in,o&&(o>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=o&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-o,e.strm.next_in),e.strstart),e.strstart+=o,e.insert+=o>e.w_size-e.insert?e.w_size-e.insert:o),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),s?Yu:t!==Qo&&t!==pa&&e.strm.avail_in===0&&e.strstart===e.block_start?Ku:(a=e.window_size-e.strstart,e.strm.avail_in>a&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,a+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),a>e.strm.avail_in&&(a=e.strm.avail_in),a&&(s2(e.strm,e.window,e.strstart,a),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.high_water<e.strstart&&(e.high_water=e.strstart),a=e.bi_valid+42>>3,a=e.pending_buf_size-a>65535?65535:e.pending_buf_size-a,r=a>e.w_size?e.w_size:a,i=e.strstart-e.block_start,(i>=r||(i||t===pa)&&t!==Qo&&e.strm.avail_in===0&&i<=a)&&(n=i>a?a:i,s=t===pa&&e.strm.avail_in===0&&n===i?1:0,e2(e,e.block_start,n,s),e.block_start+=n,zi(e.strm)),s?rc:mi)},dg=(e,t)=>{let r,n;for(;;){if(e.lookahead<vs){if(Cu(e),e.lookahead<vs&&t===Qo)return mi;if(e.lookahead===0)break}if(r=0,e.lookahead>=Zt&&(e.ins_h=el(e,e.ins_h,e.window[e.strstart+Zt-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),r!==0&&e.strstart-r<=e.w_size-vs&&(e.match_length=fk(e,r)),e.match_length>=Zt)if(n=Jo(e,e.strstart-e.match_start,e.match_length-Zt),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=Zt){e.match_length--;do e.strstart++,e.ins_h=el(e,e.ins_h,e.window[e.strstart+Zt-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=el(e,e.ins_h,e.window[e.strstart+1]);else n=Jo(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(Zi(e,!1),e.strm.avail_out===0))return mi}return e.insert=e.strstart<Zt-1?e.strstart:Zt-1,t===pa?(Zi(e,!0),e.strm.avail_out===0?rc:Yu):e.sym_next&&(Zi(e,!1),e.strm.avail_out===0)?mi:Ku},Pc=(e,t)=>{let r,n,i;for(;;){if(e.lookahead<vs){if(Cu(e),e.lookahead<vs&&t===Qo)return mi;if(e.lookahead===0)break}if(r=0,e.lookahead>=Zt&&(e.ins_h=el(e,e.ins_h,e.window[e.strstart+Zt-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=Zt-1,r!==0&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-vs&&(e.match_length=fk(e,r),e.match_length<=5&&(e.strategy===zH||e.match_length===Zt&&e.strstart-e.match_start>4096)&&(e.match_length=Zt-1)),e.prev_length>=Zt&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-Zt,n=Jo(e,e.strstart-1-e.prev_match,e.prev_length-Zt),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=el(e,e.ins_h,e.window[e.strstart+Zt-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=Zt-1,e.strstart++,n&&(Zi(e,!1),e.strm.avail_out===0))return mi}else if(e.match_available){if(n=Jo(e,0,e.window[e.strstart-1]),n&&Zi(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return mi}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=Jo(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<Zt-1?e.strstart:Zt-1,t===pa?(Zi(e,!0),e.strm.avail_out===0?rc:Yu):e.sym_next&&(Zi(e,!1),e.strm.avail_out===0)?mi:Ku},oW=(e,t)=>{let r,n,i,a;const s=e.window;for(;;){if(e.lookahead<=Uo){if(Cu(e),e.lookahead<=Uo&&t===Qo)return mi;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=Zt&&e.strstart>0&&(i=e.strstart-1,n=s[i],n===s[++i]&&n===s[++i]&&n===s[++i])){a=e.strstart+Uo;do;while(n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&i<a);e.match_length=Uo-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=Zt?(r=Jo(e,1,e.match_length-Zt),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=Jo(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(Zi(e,!1),e.strm.avail_out===0))return mi}return e.insert=0,t===pa?(Zi(e,!0),e.strm.avail_out===0?rc:Yu):e.sym_next&&(Zi(e,!1),e.strm.avail_out===0)?mi:Ku},lW=(e,t)=>{let r;for(;;){if(e.lookahead===0&&(Cu(e),e.lookahead===0)){if(t===Qo)return mi;break}if(e.match_length=0,r=Jo(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(Zi(e,!1),e.strm.avail_out===0))return mi}return e.insert=0,t===pa?(Zi(e,!0),e.strm.avail_out===0?rc:Yu):e.sym_next&&(Zi(e,!1),e.strm.avail_out===0)?mi:Ku};function as(e,t,r,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=i}const Hf=[new as(0,0,0,0,hk),new as(4,4,8,4,dg),new as(4,5,16,8,dg),new as(4,6,32,32,dg),new as(4,4,16,16,Pc),new as(8,16,32,32,Pc),new as(8,16,128,128,Pc),new as(8,32,128,256,Pc),new as(32,128,258,1024,Pc),new as(32,258,258,4096,Pc)],cW=e=>{e.window_size=2*e.w_size,Io(e.head),e.max_lazy_match=Hf[e.level].max_lazy,e.good_match=Hf[e.level].good_length,e.nice_match=Hf[e.level].nice_length,e.max_chain_length=Hf[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=Zt-1,e.match_available=0,e.ins_h=0};function uW(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=C1,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(tW*2),this.dyn_dtree=new Uint16Array((2*QH+1)*2),this.bl_tree=new Uint16Array((2*eW+1)*2),Io(this.dyn_ltree),Io(this.dyn_dtree),Io(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(rW+1),this.heap=new Uint16Array(2*t2+1),Io(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*t2+1),Io(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const cd=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==Ou&&t.status!==Wx&&t.status!==r2&&t.status!==n2&&t.status!==i2&&t.status!==a2&&t.status!==ql&&t.status!==zf?1:0},dk=e=>{if(cd(e))return $l(e,gs);e.total_in=e.total_out=0,e.data_type=GH;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?Wx:t.wrap?Ou:ql,e.adler=t.wrap===2?0:1,t.last_flush=-2,RH(t),Un},pk=e=>{const t=dk(e);return t===Un&&cW(e.state),t},fW=(e,t)=>cd(e)||e.state.wrap!==2?gs:(e.state.gzhead=t,Un),mk=(e,t,r,n,i,a)=>{if(!e)return gs;let s=1;if(t===$H&&(t=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),i<1||i>KH||r!==C1||n<8||n>15||t<0||t>9||a<0||a>WH||n===8&&s!==1)return $l(e,gs);n===8&&(n=9);const o=new uW;return e.state=o,o.strm=e,o.status=Ou,o.wrap=s,o.gzhead=null,o.w_bits=n,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=i+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+Zt-1)/Zt),o.window=new Uint8Array(o.w_size*2),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<i+6,o.pending_buf_size=o.lit_bufsize*4,o.pending_buf=new Uint8Array(o.pending_buf_size),o.sym_buf=o.lit_bufsize,o.sym_end=(o.lit_bufsize-1)*3,o.level=t,o.strategy=a,o.method=r,pk(e)},hW=(e,t)=>mk(e,t,C1,YH,XH,VH),dW=(e,t)=>{if(cd(e)||t>U5||t<0)return e?$l(e,gs):gs;const r=e.state;if(!e.output||e.avail_in!==0&&!e.input||r.status===zf&&t!==pa)return $l(e,e.avail_out===0?hg:gs);const n=r.last_flush;if(r.last_flush=t,r.pending!==0){if(zi(e),e.avail_out===0)return r.last_flush=-1,Un}else if(e.avail_in===0&&$5(t)<=$5(n)&&t!==pa)return $l(e,hg);if(r.status===zf&&e.avail_in!==0)return $l(e,hg);if(r.status===Ou&&r.wrap===0&&(r.status=ql),r.status===Ou){let i=C1+(r.w_bits-8<<4)<<8,a=-1;if(r.strategy>=v0||r.level<2?a=0:r.level<6?a=1:r.level===6?a=2:a=3,i|=a<<6,r.strstart!==0&&(i|=nW),i+=31-i%31,Rf(r,i),r.strstart!==0&&(Rf(r,e.adler>>>16),Rf(r,e.adler&65535)),e.adler=1,r.status=ql,zi(e),r.pending!==0)return r.last_flush=-1,Un}if(r.status===Wx){if(e.adler=0,ir(r,31),ir(r,139),ir(r,8),r.gzhead)ir(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),ir(r,r.gzhead.time&255),ir(r,r.gzhead.time>>8&255),ir(r,r.gzhead.time>>16&255),ir(r,r.gzhead.time>>24&255),ir(r,r.level===9?2:r.strategy>=v0||r.level<2?4:0),ir(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(ir(r,r.gzhead.extra.length&255),ir(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=En(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=r2;else if(ir(r,0),ir(r,0),ir(r,0),ir(r,0),ir(r,0),ir(r,r.level===9?2:r.strategy>=v0||r.level<2?4:0),ir(r,iW),r.status=ql,zi(e),r.pending!==0)return r.last_flush=-1,Un}if(r.status===r2){if(r.gzhead.extra){let i=r.pending,a=(r.gzhead.extra.length&65535)-r.gzindex;for(;r.pending+a>r.pending_buf_size;){let o=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+o),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>i&&(e.adler=En(e.adler,r.pending_buf,r.pending-i,i)),r.gzindex+=o,zi(e),r.pending!==0)return r.last_flush=-1,Un;i=0,a-=o}let s=new Uint8Array(r.gzhead.extra);r.pending_buf.set(s.subarray(r.gzindex,r.gzindex+a),r.pending),r.pending+=a,r.gzhead.hcrc&&r.pending>i&&(e.adler=En(e.adler,r.pending_buf,r.pending-i,i)),r.gzindex=0}r.status=n2}if(r.status===n2){if(r.gzhead.name){let i=r.pending,a;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>i&&(e.adler=En(e.adler,r.pending_buf,r.pending-i,i)),zi(e),r.pending!==0)return r.last_flush=-1,Un;i=0}r.gzindex<r.gzhead.name.length?a=r.gzhead.name.charCodeAt(r.gzindex++)&255:a=0,ir(r,a)}while(a!==0);r.gzhead.hcrc&&r.pending>i&&(e.adler=En(e.adler,r.pending_buf,r.pending-i,i)),r.gzindex=0}r.status=i2}if(r.status===i2){if(r.gzhead.comment){let i=r.pending,a;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>i&&(e.adler=En(e.adler,r.pending_buf,r.pending-i,i)),zi(e),r.pending!==0)return r.last_flush=-1,Un;i=0}r.gzindex<r.gzhead.comment.length?a=r.gzhead.comment.charCodeAt(r.gzindex++)&255:a=0,ir(r,a)}while(a!==0);r.gzhead.hcrc&&r.pending>i&&(e.adler=En(e.adler,r.pending_buf,r.pending-i,i))}r.status=a2}if(r.status===a2){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(zi(e),r.pending!==0))return r.last_flush=-1,Un;ir(r,e.adler&255),ir(r,e.adler>>8&255),e.adler=0}if(r.status=ql,zi(e),r.pending!==0)return r.last_flush=-1,Un}if(e.avail_in!==0||r.lookahead!==0||t!==Qo&&r.status!==zf){let i=r.level===0?hk(r,t):r.strategy===v0?lW(r,t):r.strategy===HH?oW(r,t):Hf[r.level].func(r,t);if((i===rc||i===Yu)&&(r.status=zf),i===mi||i===rc)return e.avail_out===0&&(r.last_flush=-1),Un;if(i===Ku&&(t===BH?MH(r):t!==U5&&(e2(r,0,0,!1),t===UH&&(Io(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),zi(e),e.avail_out===0))return r.last_flush=-1,Un}return t!==pa?Un:r.wrap<=0?q5:(r.wrap===2?(ir(r,e.adler&255),ir(r,e.adler>>8&255),ir(r,e.adler>>16&255),ir(r,e.adler>>24&255),ir(r,e.total_in&255),ir(r,e.total_in>>8&255),ir(r,e.total_in>>16&255),ir(r,e.total_in>>24&255)):(Rf(r,e.adler>>>16),Rf(r,e.adler&65535)),zi(e),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?Un:q5)},pW=e=>{if(cd(e))return gs;const t=e.state.status;return e.state=null,t===ql?$l(e,qH):Un},mW=(e,t)=>{let r=t.length;if(cd(e))return gs;const n=e.state,i=n.wrap;if(i===2||i===1&&n.status!==Ou||n.lookahead)return gs;if(i===1&&(e.adler=Hh(e.adler,t,r,0)),n.wrap=0,r>=n.w_size){i===0&&(Io(n.head),n.strstart=0,n.block_start=0,n.insert=0);let l=new Uint8Array(n.w_size);l.set(t.subarray(r-n.w_size,r),0),t=l,r=n.w_size}const a=e.avail_in,s=e.next_in,o=e.input;for(e.avail_in=r,e.next_in=0,e.input=t,Cu(n);n.lookahead>=Zt;){let l=n.strstart,c=n.lookahead-(Zt-1);do n.ins_h=el(n,n.ins_h,n.window[l+Zt-1]),n.prev[l&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=l,l++;while(--c);n.strstart=l,n.lookahead=Zt-1,Cu(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=Zt-1,n.match_available=0,e.next_in=s,e.input=o,e.avail_in=a,n.wrap=i,Un};var gW=hW,vW=mk,xW=pk,yW=dk,_W=fW,bW=dW,wW=pW,NW=mW,SW="pako deflate (from Nodeca project)",fh={deflateInit:gW,deflateInit2:vW,deflateReset:xW,deflateResetKeep:yW,deflateSetHeader:_W,deflate:bW,deflateEnd:wW,deflateSetDictionary:NW,deflateInfo:SW};const kW=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var EW=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)kW(r,n)&&(e[n]=r[n])}}return e},AW=e=>{let t=0;for(let n=0,i=e.length;n<i;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,i=0,a=e.length;n<a;n++){let s=e[n];r.set(s,i),i+=s.length}return r},L1={assign:EW,flattenChunks:AW};let gk=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{gk=!1}const Wh=new Uint8Array(256);for(let e=0;e<256;e++)Wh[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Wh[254]=Wh[254]=1;var TW=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,i,a,s=e.length,o=0;for(i=0;i<s;i++)r=e.charCodeAt(i),(r&64512)===55296&&i+1<s&&(n=e.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),o+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(o),a=0,i=0;a<o;i++)r=e.charCodeAt(i),(r&64512)===55296&&i+1<s&&(n=e.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?t[a++]=r:r<2048?(t[a++]=192|r>>>6,t[a++]=128|r&63):r<65536?(t[a++]=224|r>>>12,t[a++]=128|r>>>6&63,t[a++]=128|r&63):(t[a++]=240|r>>>18,t[a++]=128|r>>>12&63,t[a++]=128|r>>>6&63,t[a++]=128|r&63);return t};const jW=(e,t)=>{if(t<65534&&e.subarray&&gk)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var OW=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,i;const a=new Array(r*2);for(i=0,n=0;n<r;){let s=e[n++];if(s<128){a[i++]=s;continue}let o=Wh[s];if(o>4){a[i++]=65533,n+=o-1;continue}for(s&=o===2?31:o===3?15:7;o>1&&n<r;)s=s<<6|e[n++]&63,o--;if(o>1){a[i++]=65533;continue}s<65536?a[i++]=s:(s-=65536,a[i++]=55296|s>>10&1023,a[i++]=56320|s&1023)}return jW(a,i)},CW=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+Wh[e[r]]>t?r:t},Vh={string2buf:TW,buf2string:OW,utf8border:CW};function LW(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var vk=LW;const xk=Object.prototype.toString,{Z_NO_FLUSH:PW,Z_SYNC_FLUSH:FW,Z_FULL_FLUSH:IW,Z_FINISH:RW,Z_OK:$p,Z_STREAM_END:DW,Z_DEFAULT_COMPRESSION:MW,Z_DEFAULT_STRATEGY:BW,Z_DEFLATED:UW}=ld;function Vx(e){this.options=L1.assign({level:MW,method:UW,chunkSize:16384,windowBits:15,memLevel:8,strategy:BW},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new vk,this.strm.avail_out=0;let r=fh.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==$p)throw new Error(ju[r]);if(t.header&&fh.deflateSetHeader(this.strm,t.header),t.dictionary){let n;if(typeof t.dictionary=="string"?n=Vh.string2buf(t.dictionary):xk.call(t.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(t.dictionary):n=t.dictionary,r=fh.deflateSetDictionary(this.strm,n),r!==$p)throw new Error(ju[r]);this._dict_set=!0}}Vx.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize;let i,a;if(this.ended)return!1;for(t===~~t?a=t:a=t===!0?RW:PW,typeof e=="string"?r.input=Vh.string2buf(e):xk.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){if(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),(a===FW||a===IW)&&r.avail_out<=6){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(i=fh.deflate(r,a),i===DW)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),i=fh.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===$p;if(r.avail_out===0){this.onData(r.output);continue}if(a>0&&r.next_out>0){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(r.avail_in===0)break}return!0};Vx.prototype.onData=function(e){this.chunks.push(e)};Vx.prototype.onEnd=function(e){e===$p&&(this.result=L1.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};const x0=16209,qW=16191;var $W=function(t,r){let n,i,a,s,o,l,c,u,d,p,h,y,m,x,g,v,b,_,E,F,A,O,C,L;const N=t.state;n=t.next_in,C=t.input,i=n+(t.avail_in-5),a=t.next_out,L=t.output,s=a-(r-t.avail_out),o=a+(t.avail_out-257),l=N.dmax,c=N.wsize,u=N.whave,d=N.wnext,p=N.window,h=N.hold,y=N.bits,m=N.lencode,x=N.distcode,g=(1<<N.lenbits)-1,v=(1<<N.distbits)-1;e:do{y<15&&(h+=C[n++]<<y,y+=8,h+=C[n++]<<y,y+=8),b=m[h&g];t:for(;;){if(_=b>>>24,h>>>=_,y-=_,_=b>>>16&255,_===0)L[a++]=b&65535;else if(_&16){E=b&65535,_&=15,_&&(y<_&&(h+=C[n++]<<y,y+=8),E+=h&(1<<_)-1,h>>>=_,y-=_),y<15&&(h+=C[n++]<<y,y+=8,h+=C[n++]<<y,y+=8),b=x[h&v];r:for(;;){if(_=b>>>24,h>>>=_,y-=_,_=b>>>16&255,_&16){if(F=b&65535,_&=15,y<_&&(h+=C[n++]<<y,y+=8,y<_&&(h+=C[n++]<<y,y+=8)),F+=h&(1<<_)-1,F>l){t.msg="invalid distance too far back",N.mode=x0;break e}if(h>>>=_,y-=_,_=a-s,F>_){if(_=F-_,_>u&&N.sane){t.msg="invalid distance too far back",N.mode=x0;break e}if(A=0,O=p,d===0){if(A+=c-_,_<E){E-=_;do L[a++]=p[A++];while(--_);A=a-F,O=L}}else if(d<_){if(A+=c+d-_,_-=d,_<E){E-=_;do L[a++]=p[A++];while(--_);if(A=0,d<E){_=d,E-=_;do L[a++]=p[A++];while(--_);A=a-F,O=L}}}else if(A+=d-_,_<E){E-=_;do L[a++]=p[A++];while(--_);A=a-F,O=L}for(;E>2;)L[a++]=O[A++],L[a++]=O[A++],L[a++]=O[A++],E-=3;E&&(L[a++]=O[A++],E>1&&(L[a++]=O[A++]))}else{A=a-F;do L[a++]=L[A++],L[a++]=L[A++],L[a++]=L[A++],E-=3;while(E>2);E&&(L[a++]=L[A++],E>1&&(L[a++]=L[A++]))}}else if(_&64){t.msg="invalid distance code",N.mode=x0;break e}else{b=x[(b&65535)+(h&(1<<_)-1)];continue r}break}}else if(_&64)if(_&32){N.mode=qW;break e}else{t.msg="invalid literal/length code",N.mode=x0;break e}else{b=m[(b&65535)+(h&(1<<_)-1)];continue t}break}}while(n<i&&a<o);E=y>>3,n-=E,y-=E<<3,h&=(1<<y)-1,t.next_in=n,t.next_out=a,t.avail_in=n<i?5+(i-n):5-(n-i),t.avail_out=a<o?257+(o-a):257-(a-o),N.hold=h,N.bits=y};const Fc=15,z5=852,H5=592,W5=0,pg=1,V5=2,zW=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),HW=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),WW=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),VW=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),GW=(e,t,r,n,i,a,s,o)=>{const l=o.bits;let c=0,u=0,d=0,p=0,h=0,y=0,m=0,x=0,g=0,v=0,b,_,E,F,A,O=null,C;const L=new Uint16Array(Fc+1),N=new Uint16Array(Fc+1);let j=null,T,B,z;for(c=0;c<=Fc;c++)L[c]=0;for(u=0;u<n;u++)L[t[r+u]]++;for(h=l,p=Fc;p>=1&&L[p]===0;p--);if(h>p&&(h=p),p===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,o.bits=1,0;for(d=1;d<p&&L[d]===0;d++);for(h<d&&(h=d),x=1,c=1;c<=Fc;c++)if(x<<=1,x-=L[c],x<0)return-1;if(x>0&&(e===W5||p!==1))return-1;for(N[1]=0,c=1;c<Fc;c++)N[c+1]=N[c]+L[c];for(u=0;u<n;u++)t[r+u]!==0&&(s[N[t[r+u]]++]=u);if(e===W5?(O=j=s,C=20):e===pg?(O=zW,j=HW,C=257):(O=WW,j=VW,C=0),v=0,u=0,c=d,A=a,y=h,m=0,E=-1,g=1<<h,F=g-1,e===pg&&g>z5||e===V5&&g>H5)return 1;for(;;){T=c-m,s[u]+1<C?(B=0,z=s[u]):s[u]>=C?(B=j[s[u]-C],z=O[s[u]-C]):(B=96,z=0),b=1<<c-m,_=1<<y,d=_;do _-=b,i[A+(v>>m)+_]=T<<24|B<<16|z|0;while(_!==0);for(b=1<<c-1;v&b;)b>>=1;if(b!==0?(v&=b-1,v+=b):v=0,u++,--L[c]===0){if(c===p)break;c=t[r+s[u]]}if(c>h&&(v&F)!==E){for(m===0&&(m=h),A+=d,y=c-m,x=1<<y;y+m<p&&(x-=L[y+m],!(x<=0));)y++,x<<=1;if(g+=1<<y,e===pg&&g>z5||e===V5&&g>H5)return 1;E=v&F,i[E]=h<<24|y<<16|A-a|0}}return v!==0&&(i[A+v]=c-m<<24|64<<16|0),o.bits=h,0};var hh=GW;const KW=0,yk=1,_k=2,{Z_FINISH:G5,Z_BLOCK:YW,Z_TREES:y0,Z_OK:nc,Z_STREAM_END:XW,Z_NEED_DICT:ZW,Z_STREAM_ERROR:ya,Z_DATA_ERROR:bk,Z_MEM_ERROR:wk,Z_BUF_ERROR:JW,Z_DEFLATED:K5}=ld,P1=16180,Y5=16181,X5=16182,Z5=16183,J5=16184,Q5=16185,ew=16186,tw=16187,rw=16188,nw=16189,zp=16190,Ds=16191,mg=16192,iw=16193,gg=16194,aw=16195,sw=16196,ow=16197,lw=16198,_0=16199,b0=16200,cw=16201,uw=16202,fw=16203,hw=16204,dw=16205,vg=16206,pw=16207,mw=16208,Ir=16209,Nk=16210,Sk=16211,QW=852,eV=592,tV=15,rV=tV,gw=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function nV(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const hc=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<P1||t.mode>Sk?1:0},kk=e=>{if(hc(e))return ya;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=P1,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(QW),t.distcode=t.distdyn=new Int32Array(eV),t.sane=1,t.back=-1,nc},Ek=e=>{if(hc(e))return ya;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,kk(e)},Ak=(e,t)=>{let r;if(hc(e))return ya;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?ya:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,Ek(e))},Tk=(e,t)=>{if(!e)return ya;const r=new nV;e.state=r,r.strm=e,r.window=null,r.mode=P1;const n=Ak(e,t);return n!==nc&&(e.state=null),n},iV=e=>Tk(e,rV);let vw=!0,xg,yg;const aV=e=>{if(vw){xg=new Int32Array(512),yg=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(hh(yk,e.lens,0,288,xg,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;hh(_k,e.lens,0,32,yg,0,e.work,{bits:5}),vw=!1}e.lencode=xg,e.lenbits=9,e.distcode=yg,e.distbits=5},jk=(e,t,r,n)=>{let i;const a=e.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(t.subarray(r-a.wsize,r),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>n&&(i=n),a.window.set(t.subarray(r-n,r-n+i),a.wnext),n-=i,n?(a.window.set(t.subarray(r-n,r),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},sV=(e,t)=>{let r,n,i,a,s,o,l,c,u,d,p,h,y,m,x=0,g,v,b,_,E,F,A,O;const C=new Uint8Array(4);let L,N;const j=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(hc(e)||!e.output||!e.input&&e.avail_in!==0)return ya;r=e.state,r.mode===Ds&&(r.mode=mg),s=e.next_out,i=e.output,l=e.avail_out,a=e.next_in,n=e.input,o=e.avail_in,c=r.hold,u=r.bits,d=o,p=l,O=nc;e:for(;;)switch(r.mode){case P1:if(r.wrap===0){r.mode=mg;break}for(;u<16;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(r.wrap&2&&c===35615){r.wbits===0&&(r.wbits=15),r.check=0,C[0]=c&255,C[1]=c>>>8&255,r.check=En(r.check,C,2,0),c=0,u=0,r.mode=Y5;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((c&255)<<8)+(c>>8))%31){e.msg="incorrect header check",r.mode=Ir;break}if((c&15)!==K5){e.msg="unknown compression method",r.mode=Ir;break}if(c>>>=4,u-=4,A=(c&15)+8,r.wbits===0&&(r.wbits=A),A>15||A>r.wbits){e.msg="invalid window size",r.mode=Ir;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=c&512?nw:Ds,c=0,u=0;break;case Y5:for(;u<16;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(r.flags=c,(r.flags&255)!==K5){e.msg="unknown compression method",r.mode=Ir;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=Ir;break}r.head&&(r.head.text=c>>8&1),r.flags&512&&r.wrap&4&&(C[0]=c&255,C[1]=c>>>8&255,r.check=En(r.check,C,2,0)),c=0,u=0,r.mode=X5;case X5:for(;u<32;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}r.head&&(r.head.time=c),r.flags&512&&r.wrap&4&&(C[0]=c&255,C[1]=c>>>8&255,C[2]=c>>>16&255,C[3]=c>>>24&255,r.check=En(r.check,C,4,0)),c=0,u=0,r.mode=Z5;case Z5:for(;u<16;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}r.head&&(r.head.xflags=c&255,r.head.os=c>>8),r.flags&512&&r.wrap&4&&(C[0]=c&255,C[1]=c>>>8&255,r.check=En(r.check,C,2,0)),c=0,u=0,r.mode=J5;case J5:if(r.flags&1024){for(;u<16;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}r.length=c,r.head&&(r.head.extra_len=c),r.flags&512&&r.wrap&4&&(C[0]=c&255,C[1]=c>>>8&255,r.check=En(r.check,C,2,0)),c=0,u=0}else r.head&&(r.head.extra=null);r.mode=Q5;case Q5:if(r.flags&1024&&(h=r.length,h>o&&(h=o),h&&(r.head&&(A=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(a,a+h),A)),r.flags&512&&r.wrap&4&&(r.check=En(r.check,n,h,a)),o-=h,a+=h,r.length-=h),r.length))break e;r.length=0,r.mode=ew;case ew:if(r.flags&2048){if(o===0)break e;h=0;do A=n[a+h++],r.head&&A&&r.length<65536&&(r.head.name+=String.fromCharCode(A));while(A&&h<o);if(r.flags&512&&r.wrap&4&&(r.check=En(r.check,n,h,a)),o-=h,a+=h,A)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=tw;case tw:if(r.flags&4096){if(o===0)break e;h=0;do A=n[a+h++],r.head&&A&&r.length<65536&&(r.head.comment+=String.fromCharCode(A));while(A&&h<o);if(r.flags&512&&r.wrap&4&&(r.check=En(r.check,n,h,a)),o-=h,a+=h,A)break e}else r.head&&(r.head.comment=null);r.mode=rw;case rw:if(r.flags&512){for(;u<16;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(r.wrap&4&&c!==(r.check&65535)){e.msg="header crc mismatch",r.mode=Ir;break}c=0,u=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=Ds;break;case nw:for(;u<32;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}e.adler=r.check=gw(c),c=0,u=0,r.mode=zp;case zp:if(r.havedict===0)return e.next_out=s,e.avail_out=l,e.next_in=a,e.avail_in=o,r.hold=c,r.bits=u,ZW;e.adler=r.check=1,r.mode=Ds;case Ds:if(t===YW||t===y0)break e;case mg:if(r.last){c>>>=u&7,u-=u&7,r.mode=vg;break}for(;u<3;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}switch(r.last=c&1,c>>>=1,u-=1,c&3){case 0:r.mode=iw;break;case 1:if(aV(r),r.mode=_0,t===y0){c>>>=2,u-=2;break e}break;case 2:r.mode=sw;break;case 3:e.msg="invalid block type",r.mode=Ir}c>>>=2,u-=2;break;case iw:for(c>>>=u&7,u-=u&7;u<32;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if((c&65535)!==(c>>>16^65535)){e.msg="invalid stored block lengths",r.mode=Ir;break}if(r.length=c&65535,c=0,u=0,r.mode=gg,t===y0)break e;case gg:r.mode=aw;case aw:if(h=r.length,h){if(h>o&&(h=o),h>l&&(h=l),h===0)break e;i.set(n.subarray(a,a+h),s),o-=h,a+=h,l-=h,s+=h,r.length-=h;break}r.mode=Ds;break;case sw:for(;u<14;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(r.nlen=(c&31)+257,c>>>=5,u-=5,r.ndist=(c&31)+1,c>>>=5,u-=5,r.ncode=(c&15)+4,c>>>=4,u-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=Ir;break}r.have=0,r.mode=ow;case ow:for(;r.have<r.ncode;){for(;u<3;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}r.lens[j[r.have++]]=c&7,c>>>=3,u-=3}for(;r.have<19;)r.lens[j[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,L={bits:r.lenbits},O=hh(KW,r.lens,0,19,r.lencode,0,r.work,L),r.lenbits=L.bits,O){e.msg="invalid code lengths set",r.mode=Ir;break}r.have=0,r.mode=lw;case lw:for(;r.have<r.nlen+r.ndist;){for(;x=r.lencode[c&(1<<r.lenbits)-1],g=x>>>24,v=x>>>16&255,b=x&65535,!(g<=u);){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(b<16)c>>>=g,u-=g,r.lens[r.have++]=b;else{if(b===16){for(N=g+2;u<N;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(c>>>=g,u-=g,r.have===0){e.msg="invalid bit length repeat",r.mode=Ir;break}A=r.lens[r.have-1],h=3+(c&3),c>>>=2,u-=2}else if(b===17){for(N=g+3;u<N;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}c>>>=g,u-=g,A=0,h=3+(c&7),c>>>=3,u-=3}else{for(N=g+7;u<N;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}c>>>=g,u-=g,A=0,h=11+(c&127),c>>>=7,u-=7}if(r.have+h>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=Ir;break}for(;h--;)r.lens[r.have++]=A}}if(r.mode===Ir)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=Ir;break}if(r.lenbits=9,L={bits:r.lenbits},O=hh(yk,r.lens,0,r.nlen,r.lencode,0,r.work,L),r.lenbits=L.bits,O){e.msg="invalid literal/lengths set",r.mode=Ir;break}if(r.distbits=6,r.distcode=r.distdyn,L={bits:r.distbits},O=hh(_k,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,L),r.distbits=L.bits,O){e.msg="invalid distances set",r.mode=Ir;break}if(r.mode=_0,t===y0)break e;case _0:r.mode=b0;case b0:if(o>=6&&l>=258){e.next_out=s,e.avail_out=l,e.next_in=a,e.avail_in=o,r.hold=c,r.bits=u,$W(e,p),s=e.next_out,i=e.output,l=e.avail_out,a=e.next_in,n=e.input,o=e.avail_in,c=r.hold,u=r.bits,r.mode===Ds&&(r.back=-1);break}for(r.back=0;x=r.lencode[c&(1<<r.lenbits)-1],g=x>>>24,v=x>>>16&255,b=x&65535,!(g<=u);){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(v&&!(v&240)){for(_=g,E=v,F=b;x=r.lencode[F+((c&(1<<_+E)-1)>>_)],g=x>>>24,v=x>>>16&255,b=x&65535,!(_+g<=u);){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}c>>>=_,u-=_,r.back+=_}if(c>>>=g,u-=g,r.back+=g,r.length=b,v===0){r.mode=dw;break}if(v&32){r.back=-1,r.mode=Ds;break}if(v&64){e.msg="invalid literal/length code",r.mode=Ir;break}r.extra=v&15,r.mode=cw;case cw:if(r.extra){for(N=r.extra;u<N;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}r.length+=c&(1<<r.extra)-1,c>>>=r.extra,u-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=uw;case uw:for(;x=r.distcode[c&(1<<r.distbits)-1],g=x>>>24,v=x>>>16&255,b=x&65535,!(g<=u);){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(!(v&240)){for(_=g,E=v,F=b;x=r.distcode[F+((c&(1<<_+E)-1)>>_)],g=x>>>24,v=x>>>16&255,b=x&65535,!(_+g<=u);){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}c>>>=_,u-=_,r.back+=_}if(c>>>=g,u-=g,r.back+=g,v&64){e.msg="invalid distance code",r.mode=Ir;break}r.offset=b,r.extra=v&15,r.mode=fw;case fw:if(r.extra){for(N=r.extra;u<N;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}r.offset+=c&(1<<r.extra)-1,c>>>=r.extra,u-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=Ir;break}r.mode=hw;case hw:if(l===0)break e;if(h=p-l,r.offset>h){if(h=r.offset-h,h>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=Ir;break}h>r.wnext?(h-=r.wnext,y=r.wsize-h):y=r.wnext-h,h>r.length&&(h=r.length),m=r.window}else m=i,y=s-r.offset,h=r.length;h>l&&(h=l),l-=h,r.length-=h;do i[s++]=m[y++];while(--h);r.length===0&&(r.mode=b0);break;case dw:if(l===0)break e;i[s++]=r.length,l--,r.mode=b0;break;case vg:if(r.wrap){for(;u<32;){if(o===0)break e;o--,c|=n[a++]<<u,u+=8}if(p-=l,e.total_out+=p,r.total+=p,r.wrap&4&&p&&(e.adler=r.check=r.flags?En(r.check,i,p,s-p):Hh(r.check,i,p,s-p)),p=l,r.wrap&4&&(r.flags?c:gw(c))!==r.check){e.msg="incorrect data check",r.mode=Ir;break}c=0,u=0}r.mode=pw;case pw:if(r.wrap&&r.flags){for(;u<32;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(r.wrap&4&&c!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=Ir;break}c=0,u=0}r.mode=mw;case mw:O=XW;break e;case Ir:O=bk;break e;case Nk:return wk;case Sk:default:return ya}return e.next_out=s,e.avail_out=l,e.next_in=a,e.avail_in=o,r.hold=c,r.bits=u,(r.wsize||p!==e.avail_out&&r.mode<Ir&&(r.mode<vg||t!==G5))&&jk(e,e.output,e.next_out,p-e.avail_out),d-=e.avail_in,p-=e.avail_out,e.total_in+=d,e.total_out+=p,r.total+=p,r.wrap&4&&p&&(e.adler=r.check=r.flags?En(r.check,i,p,e.next_out-p):Hh(r.check,i,p,e.next_out-p)),e.data_type=r.bits+(r.last?64:0)+(r.mode===Ds?128:0)+(r.mode===_0||r.mode===gg?256:0),(d===0&&p===0||t===G5)&&O===nc&&(O=JW),O},oV=e=>{if(hc(e))return ya;let t=e.state;return t.window&&(t.window=null),e.state=null,nc},lV=(e,t)=>{if(hc(e))return ya;const r=e.state;return r.wrap&2?(r.head=t,t.done=!1,nc):ya},cV=(e,t)=>{const r=t.length;let n,i,a;return hc(e)||(n=e.state,n.wrap!==0&&n.mode!==zp)?ya:n.mode===zp&&(i=1,i=Hh(i,t,r,0),i!==n.check)?bk:(a=jk(e,t,r,r),a?(n.mode=Nk,wk):(n.havedict=1,nc))};var uV=Ek,fV=Ak,hV=kk,dV=iV,pV=Tk,mV=sV,gV=oV,vV=lV,xV=cV,yV="pako inflate (from Nodeca project)",zs={inflateReset:uV,inflateReset2:fV,inflateResetKeep:hV,inflateInit:dV,inflateInit2:pV,inflate:mV,inflateEnd:gV,inflateGetHeader:vV,inflateSetDictionary:xV,inflateInfo:yV};function _V(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var bV=_V;const Ok=Object.prototype.toString,{Z_NO_FLUSH:wV,Z_FINISH:NV,Z_OK:Gh,Z_STREAM_END:_g,Z_NEED_DICT:bg,Z_STREAM_ERROR:SV,Z_DATA_ERROR:xw,Z_MEM_ERROR:kV}=ld;function ud(e){this.options=L1.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new vk,this.strm.avail_out=0;let r=zs.inflateInit2(this.strm,t.windowBits);if(r!==Gh)throw new Error(ju[r]);if(this.header=new bV,zs.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Vh.string2buf(t.dictionary):Ok.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=zs.inflateSetDictionary(this.strm,t.dictionary),r!==Gh)))throw new Error(ju[r])}ud.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let a,s,o;if(this.ended)return!1;for(t===~~t?s=t:s=t===!0?NV:wV,Ok.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),a=zs.inflate(r,s),a===bg&&i&&(a=zs.inflateSetDictionary(r,i),a===Gh?a=zs.inflate(r,s):a===xw&&(a=bg));r.avail_in>0&&a===_g&&r.state.wrap>0&&e[r.next_in]!==0;)zs.inflateReset(r),a=zs.inflate(r,s);switch(a){case SV:case xw:case bg:case kV:return this.onEnd(a),this.ended=!0,!1}if(o=r.avail_out,r.next_out&&(r.avail_out===0||a===_g))if(this.options.to==="string"){let l=Vh.utf8border(r.output,r.next_out),c=r.next_out-l,u=Vh.buf2string(r.output,l);r.next_out=c,r.avail_out=n-c,c&&r.output.set(r.output.subarray(l,l+c),0),this.onData(u)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(a===Gh&&o===0)){if(a===_g)return a=zs.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};ud.prototype.onData=function(e){this.chunks.push(e)};ud.prototype.onEnd=function(e){e===Gh&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=L1.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Gx(e,t){const r=new ud(t);if(r.push(e),r.err)throw r.msg||ju[r.err];return r.result}function EV(e,t){return t=t||{},t.raw=!0,Gx(e,t)}var AV=ud,TV=Gx,jV=EV,OV=Gx,CV=ld,LV={Inflate:AV,inflate:TV,inflateRaw:jV,ungzip:OV,constants:CV};const{Inflate:PV,inflate:FV,inflateRaw:gK,ungzip:vK}=LV;var yw=PV,IV=FV;const Ck=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;Ck[e]=t}const _w=4294967295;function RV(e,t,r){let n=e;for(let i=0;i<r;i++)n=Ck[(n^t[i])&255]^n>>>8;return n}function DV(e,t){return(RV(_w,e,t)^_w)>>>0}function bw(e,t,r){const n=e.readUint32(),i=DV(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(i!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${i}`)}function Lk(e,t,r){for(let n=0;n<r;n++)t[n]=e[n]}function Pk(e,t,r,n){let i=0;for(;i<n;i++)t[i]=e[i];for(;i<r;i++)t[i]=e[i]+t[i-n]&255}function Fk(e,t,r,n){let i=0;if(r.length===0)for(;i<n;i++)t[i]=e[i];else for(;i<n;i++)t[i]=e[i]+r[i]&255}function Ik(e,t,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)t[a]=e[a];for(;a<n;a++)t[a]=e[a]+(t[a-i]>>1)&255}else{for(;a<i;a++)t[a]=e[a]+(r[a]>>1)&255;for(;a<n;a++)t[a]=e[a]+(t[a-i]+r[a]>>1)&255}}function Rk(e,t,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)t[a]=e[a];for(;a<n;a++)t[a]=e[a]+t[a-i]&255}else{for(;a<i;a++)t[a]=e[a]+r[a]&255;for(;a<n;a++)t[a]=e[a]+MV(t[a-i],r[a],r[a-i])&255}}function MV(e,t,r){const n=e+t-r,i=Math.abs(n-e),a=Math.abs(n-t),s=Math.abs(n-r);return i<=a&&i<=s?e:a<=s?t:r}function BV(e,t,r,n,i,a){switch(e){case 0:Lk(t,r,i);break;case 1:Pk(t,r,i,a);break;case 2:Fk(t,r,n,i);break;case 3:Ik(t,r,n,i,a);break;case 4:Rk(t,r,n,i,a);break;default:throw new Error(`Unsupported filter: ${e}`)}}const UV=new Uint16Array([255]),qV=new Uint8Array(UV.buffer),$V=qV[0]===255;function zV(e){const{data:t,width:r,height:n,channels:i,depth:a}=e,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(a/8)*i,l=new Uint8Array(n*r*o);let c=0;for(let u=0;u<7;u++){const d=s[u],p=Math.ceil((r-d.x)/d.xStep),h=Math.ceil((n-d.y)/d.yStep);if(p<=0||h<=0)continue;const y=p*o,m=new Uint8Array(y);for(let x=0;x<h;x++){const g=t[c++],v=t.subarray(c,c+y);c+=y;const b=new Uint8Array(y);BV(g,v,b,m,y,o),m.set(b);for(let _=0;_<p;_++){const E=d.x+_*d.xStep,F=d.y+x*d.yStep;if(!(E>=r||F>=n))for(let A=0;A<o;A++)l[(F*r+E)*o+A]=b[_*o+A]}}}if(a===16){const u=new Uint16Array(l.buffer);if($V)for(let d=0;d<u.length;d++)u[d]=HV(u[d]);return u}else return l}function HV(e){return(e&255)<<8|e>>8&255}const WV=new Uint16Array([255]),VV=new Uint8Array(WV.buffer),GV=VV[0]===255,KV=new Uint8Array(0);function ww(e){const{data:t,width:r,height:n,channels:i,depth:a}=e,s=Math.ceil(a/8)*i,o=Math.ceil(a/8*i*r),l=new Uint8Array(n*o);let c=KV,u=0,d,p;for(let h=0;h<n;h++){switch(d=t.subarray(u+1,u+1+o),p=l.subarray(h*o,(h+1)*o),t[u]){case 0:Lk(d,p,o);break;case 1:Pk(d,p,o,s);break;case 2:Fk(d,p,c,o);break;case 3:Ik(d,p,c,o,s);break;case 4:Rk(d,p,c,o,s);break;default:throw new Error(`Unsupported filter: ${t[u]}`)}c=p,u+=o+1}if(a===16){const h=new Uint16Array(l.buffer);if(GV)for(let y=0;y<h.length;y++)h[y]=YV(h[y]);return h}else return l}function YV(e){return(e&255)<<8|e>>8&255}const $0=Uint8Array.of(137,80,78,71,13,10,26,10);function Nw(e){if(!XV(e.readBytes($0.length)))throw new Error("wrong PNG signature")}function XV(e){if(e.length<$0.length)return!1;for(let t=0;t<$0.length;t++)if(e[t]!==$0[t])return!1;return!0}const ZV="tEXt",JV=0,Dk=new TextDecoder("latin1");function QV(e){if(tG(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const eG=/^[\u0000-\u00FF]*$/;function tG(e){if(!eG.test(e))throw new Error("invalid latin1 text")}function rG(e,t,r){const n=Mk(t);e[n]=nG(t,r-n.length-1)}function Mk(e){for(e.mark();e.readByte()!==JV;);const t=e.offset;e.reset();const r=Dk.decode(e.readBytes(t-e.offset-1));return e.skip(1),QV(r),r}function nG(e,t){return Dk.decode(e.readBytes(t))}const $i={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},wg={UNKNOWN:-1,DEFLATE:0},Sw={UNKNOWN:-1,ADAPTIVE:0},Ng={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},w0={NONE:0,BACKGROUND:1,PREVIOUS:2},Sg={SOURCE:0,OVER:1};class iG extends Ux{constructor(r,n={}){super(r);ur(this,"_checkCrc");ur(this,"_inflator");ur(this,"_png");ur(this,"_apng");ur(this,"_end");ur(this,"_hasPalette");ur(this,"_palette");ur(this,"_hasTransparency");ur(this,"_transparency");ur(this,"_compressionMethod");ur(this,"_filterMethod");ur(this,"_interlaceMethod");ur(this,"_colorType");ur(this,"_isAnimated");ur(this,"_numberOfFrames");ur(this,"_numberOfPlays");ur(this,"_frames");ur(this,"_writingDataChunks");const{checkCrc:i=!1}=n;this._checkCrc=i,this._inflator=new yw,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=wg.UNKNOWN,this._filterMethod=Sw.UNKNOWN,this._interlaceMethod=Ng.UNKNOWN,this._colorType=$i.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Nw(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(Nw(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const i=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case ZV:rG(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?bw(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const i=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=i+r;break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?bw(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=aG(this.readUint8());const n=this.readUint8();this._colorType=n;let i;switch(n){case $i.GREYSCALE:i=1;break;case $i.TRUECOLOUR:i=3;break;case $i.INDEXED_COLOUR:i=1;break;case $i.GREYSCALE_ALPHA:i=2;break;case $i.TRUECOLOUR_ALPHA:i=4;break;case $i.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==wg.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const i=[];this._palette=i;for(let a=0;a<n;a++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,i=this.offset+this.byteOffset;if(i+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case $i.GREYSCALE:case $i.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case $i.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const i=this.readByte();this._palette[n].push(i)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case $i.UNKNOWN:case $i.GREYSCALE_ALPHA:case $i.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=Mk(this),i=this.readUint8();if(i!==wg.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const a=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:IV(a)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),i=this.readByte();this._png.resolution={x:r,y:n,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(r);if(i){if(i.data=ww({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)n.data=i.data;else{const a=this._apng.frames.at(r-1);this.disposeFrame(i,a,n),this.addFrameDataToCanvas(n,i)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,i){switch(r.disposeOp){case w0.NONE:break;case w0.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let s=0;s<this._png.width;s++){const o=(a*r.width+s)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[o+l]=0}break;case w0.PREVIOUS:i.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const i=1<<this._png.depth,a=(s,o)=>{const l=((s+n.yOffset)*this._png.width+n.xOffset+o)*this._png.channels,c=(s*n.width+o)*this._png.channels;return{index:l,frameIndex:c}};switch(n.blendOp){case Sg.SOURCE:for(let s=0;s<n.height;s++)for(let o=0;o<n.width;o++){const{index:l,frameIndex:c}=a(s,o);for(let u=0;u<this._png.channels;u++)r.data[l+u]=n.data[c+u]}break;case Sg.OVER:for(let s=0;s<n.height;s++)for(let o=0;o<n.width;o++){const{index:l,frameIndex:c}=a(s,o);for(let u=0;u<this._png.channels;u++){const d=n.data[c+this._png.channels-1]/i,p=u%(this._png.channels-1)===0?1:n.data[c+u],h=Math.floor(d*p+(1-d)*r.data[l+u]);r.data[l+u]+=h}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==Sw.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Ng.NO_INTERLACE)this._png.data=ww({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Ng.ADAM7)this._png.data=zV({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:w0.NONE,blendOp:Sg.SOURCE,data:r}),this._inflator=new yw,this._writingDataChunks=!1}}function aG(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var kw;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(kw||(kw={}));function sG(e,t){return new iG(e,t).decode()}var It=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function kg(){It.console&&typeof It.console.log=="function"&&It.console.log.apply(It.console,arguments)}var br={log:kg,warn:function(e){It.console&&(typeof It.console.warn=="function"?It.console.warn.apply(It.console,arguments):kg.call(null,arguments))},error:function(e){It.console&&(typeof It.console.error=="function"?It.console.error.apply(It.console,arguments):kg(e))}};function Eg(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){Ll(n.response,t,r)},n.onerror=function(){br.error("could not download file")},n.send()}function Ew(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function N0(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Ll=It.saveAs||((typeof window>"u"?"undefined":dr(window))!=="object"||window!==It?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=It.URL||It.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?Ew(i.href)?Eg(e,t,r):N0(i,i.target="_blank"):N0(i)):(i.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){N0(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(Ew(e))Eg(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){N0(n)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:dr(a)!=="object"&&(br.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return Eg(e,t,r);var i=e.type==="application/octet-stream",a=/constructor/i.test(It.HTMLElement)||It.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&a)&&(typeof FileReader>"u"?"undefined":dr(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var u=o.result;u=s?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},o.readAsDataURL(e)}else{var l=It.URL||It.webkitURL,c=l.createObjectURL(e);n?n.location=c:location.href=c,n=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Bk(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,a=r[n].process,s=i.exec(e);s&&(t=a(s),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}var z0=It.atob.bind(It),Aw=It.btoa.bind(It);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Ag(e,t){var r=e[0],n=e[1],i=e[2],a=e[3];r=Jn(r,n,i,a,t[0],7,-680876936),a=Jn(a,r,n,i,t[1],12,-389564586),i=Jn(i,a,r,n,t[2],17,606105819),n=Jn(n,i,a,r,t[3],22,-1044525330),r=Jn(r,n,i,a,t[4],7,-176418897),a=Jn(a,r,n,i,t[5],12,1200080426),i=Jn(i,a,r,n,t[6],17,-1473231341),n=Jn(n,i,a,r,t[7],22,-45705983),r=Jn(r,n,i,a,t[8],7,1770035416),a=Jn(a,r,n,i,t[9],12,-1958414417),i=Jn(i,a,r,n,t[10],17,-42063),n=Jn(n,i,a,r,t[11],22,-1990404162),r=Jn(r,n,i,a,t[12],7,1804603682),a=Jn(a,r,n,i,t[13],12,-40341101),i=Jn(i,a,r,n,t[14],17,-1502002290),r=Qn(r,n=Jn(n,i,a,r,t[15],22,1236535329),i,a,t[1],5,-165796510),a=Qn(a,r,n,i,t[6],9,-1069501632),i=Qn(i,a,r,n,t[11],14,643717713),n=Qn(n,i,a,r,t[0],20,-373897302),r=Qn(r,n,i,a,t[5],5,-701558691),a=Qn(a,r,n,i,t[10],9,38016083),i=Qn(i,a,r,n,t[15],14,-660478335),n=Qn(n,i,a,r,t[4],20,-405537848),r=Qn(r,n,i,a,t[9],5,568446438),a=Qn(a,r,n,i,t[14],9,-1019803690),i=Qn(i,a,r,n,t[3],14,-187363961),n=Qn(n,i,a,r,t[8],20,1163531501),r=Qn(r,n,i,a,t[13],5,-1444681467),a=Qn(a,r,n,i,t[2],9,-51403784),i=Qn(i,a,r,n,t[7],14,1735328473),r=ei(r,n=Qn(n,i,a,r,t[12],20,-1926607734),i,a,t[5],4,-378558),a=ei(a,r,n,i,t[8],11,-2022574463),i=ei(i,a,r,n,t[11],16,1839030562),n=ei(n,i,a,r,t[14],23,-35309556),r=ei(r,n,i,a,t[1],4,-1530992060),a=ei(a,r,n,i,t[4],11,1272893353),i=ei(i,a,r,n,t[7],16,-155497632),n=ei(n,i,a,r,t[10],23,-1094730640),r=ei(r,n,i,a,t[13],4,681279174),a=ei(a,r,n,i,t[0],11,-358537222),i=ei(i,a,r,n,t[3],16,-722521979),n=ei(n,i,a,r,t[6],23,76029189),r=ei(r,n,i,a,t[9],4,-640364487),a=ei(a,r,n,i,t[12],11,-421815835),i=ei(i,a,r,n,t[15],16,530742520),r=ti(r,n=ei(n,i,a,r,t[2],23,-995338651),i,a,t[0],6,-198630844),a=ti(a,r,n,i,t[7],10,1126891415),i=ti(i,a,r,n,t[14],15,-1416354905),n=ti(n,i,a,r,t[5],21,-57434055),r=ti(r,n,i,a,t[12],6,1700485571),a=ti(a,r,n,i,t[3],10,-1894986606),i=ti(i,a,r,n,t[10],15,-1051523),n=ti(n,i,a,r,t[1],21,-2054922799),r=ti(r,n,i,a,t[8],6,1873313359),a=ti(a,r,n,i,t[15],10,-30611744),i=ti(i,a,r,n,t[6],15,-1560198380),n=ti(n,i,a,r,t[13],21,1309151649),r=ti(r,n,i,a,t[4],6,-145523070),a=ti(a,r,n,i,t[11],10,-1120210379),i=ti(i,a,r,n,t[2],15,718787259),n=ti(n,i,a,r,t[9],21,-343485551),e[0]=qo(r,e[0]),e[1]=qo(n,e[1]),e[2]=qo(i,e[2]),e[3]=qo(a,e[3])}function F1(e,t,r,n,i,a){return t=qo(qo(t,e),qo(n,a)),qo(t<<i|t>>>32-i,r)}function Jn(e,t,r,n,i,a,s){return F1(t&r|~t&n,e,t,i,a,s)}function Qn(e,t,r,n,i,a,s){return F1(t&n|r&~n,e,t,i,a,s)}function ei(e,t,r,n,i,a,s){return F1(t^r^n,e,t,i,a,s)}function ti(e,t,r,n,i,a,s){return F1(r^(t|~n),e,t,i,a,s)}function Uk(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Ag(n,oG(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(Ag(n,i),t=0;t<16;t++)i[t]=0;return i[14]=8*r,Ag(n,i),n}function oG(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var Tw="0123456789abcdef".split("");function lG(e){for(var t="",r=0;r<4;r++)t+=Tw[e>>8*r+4&15]+Tw[e>>8*r&15];return t}function cG(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function o2(e){return Uk(e).map(cG).join("")}var uG=function(e){for(var t=0;t<e.length;t++)e[t]=lG(e[t]);return e.join("")}(Uk("hello"))!="5d41402abc4b2a76b9719d911017c592";function qo(e,t){if(uG){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function l2(e,t){var r,n,i,a;if(e!==r){for(var s=(i=e,a=1+(256/e.length|0),new Array(a+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var u=o[l];c=(c+u+s.charCodeAt(l))%256,o[l]=o[c],o[c]=u}r=e,n=o}else o=n;var d=t.length,p=0,h=0,y="";for(l=0;l<d;l++)h=(h+(u=o[p=(p+1)%256]))%256,o[p]=o[h],o[h]=u,s=o[(o[p]+o[h])%256],y+=String.fromCharCode(t.charCodeAt(l)^s);return y}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var jw={print:4,modify:8,copy:16,"annot-forms":32};function Uc(e,t,r,n){this.v=1,this.r=2;var i=192;e.forEach(function(o){if(jw.perm!==void 0)throw new Error("Invalid permission: "+o);i+=jw[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(t+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,s),this.P=-(1+(255^i)),this.encryptionKey=o2(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=l2(this.encryptionKey,this.padding)}function qc(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var i=e.charCodeAt(n);t+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):e[n]}return t}function Ow(e){if(dr(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var a=Math.random().toString(35);return t[r][a]=[n,!!i],a},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var a in t[r]){var s=t[r][a];try{s[0].apply(e,n)}catch(o){It.console&&br.error("jsPDF PubSub Error",o.message,o)}s[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Hp(e){if(!(this instanceof Hp))return new Hp(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function qk(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Rl(e,t,r,n,i){if(!(this instanceof Rl))return new Rl(e,t,r,n,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,qk.call(this,n,i)}function tu(e,t,r,n,i){if(!(this instanceof tu))return new tu(e,t,r,n,i);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,qk.call(this,n,i)}function Ct(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],a=arguments[3],s=[],o=1,l=16,c="S",u=null;dr(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,i=e.format||i,a=e.compress||e.compressPdf||a,(u=e.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),c=e.defaultPathOperation||"S"),s=e.filters||(a===!0?["FlateEncode"]:s),n=n||"mm",r=(""+(r||"P")).toLowerCase();var d=e.putOnlyUsedFonts||!1,p={},h={internal:{},__private__:{}};h.__private__.PubSub=Ow;var y="1.3",m=h.__private__.getPdfVersion=function(){return y};h.__private__.setPdfVersion=function(P){y=P};var x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return x};var g=h.__private__.getPageFormat=function(P){return x[P]};i=i||"a4";var v="compat",b="advanced",_=v;function E(){this.saveGraphicsState(),X(new Pt(Ye,0,0,-Ye,0,gl()*Ye).toString()+" cm"),this.setFontSize(this.getFontSize()/Ye),c="n",_=b}function F(){this.restoreGraphicsState(),c="S",_=v}var A=h.__private__.combineFontStyleAndFontWeight=function(P,Z){if(P=="bold"&&Z=="normal"||P=="bold"&&Z==400||P=="normal"&&Z=="italic"||P=="bold"&&Z=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Z&&(P=Z==400||Z==="normal"?P==="italic"?"italic":"normal":Z!=700&&Z!=="bold"||P!=="normal"?(Z==700?"bold":Z)+""+P:"bold"),P};h.advancedAPI=function(P){var Z=_===v;return Z&&E.call(this),typeof P!="function"||(P(this),Z&&F.call(this)),this},h.compatAPI=function(P){var Z=_===b;return Z&&F.call(this),typeof P!="function"||(P(this),Z&&E.call(this)),this},h.isAdvancedAPI=function(){return _===b};var O,C=function(P){if(_!==b)throw new Error(P+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},L=h.roundToPrecision=h.__private__.roundToPrecision=function(P,Z){var me=t||Z;if(isNaN(P)||isNaN(me))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return P.toFixed(me).replace(/0+$/,"")};O=h.hpf=h.__private__.hpf=typeof l=="number"?function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return L(P,l)}:l==="smart"?function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return L(P,P>-1&&P<1?16:5)}:function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return L(P,16)};var N=h.f2=h.__private__.f2=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.f2");return L(P,2)},j=h.__private__.f3=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.f3");return L(P,3)},T=h.scale=h.__private__.scale=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.scale");return _===v?P*Ye:_===b?P:void 0},B=function(P){return T(function(Z){return _===v?gl()-Z:_===b?Z:void 0}(P))};h.__private__.setPrecision=h.setPrecision=function(P){typeof parseInt(P,10)=="number"&&(t=parseInt(P,10))};var z,Q="00000000000000000000000000000000",ne=h.__private__.getFileId=function(){return Q},ie=h.__private__.setFileId=function(P){return Q=P!==void 0&&/^[a-fA-F0-9]{32}$/.test(P)?P.toUpperCase():Q.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(pn=new Uc(u.userPermissions,u.userPassword,u.ownerPassword,Q)),Q};h.setFileId=function(P){return ie(P),this},h.getFileId=function(){return ne()};var K=h.__private__.convertDateToPDFDate=function(P){var Z=P.getTimezoneOffset(),me=Z<0?"+":"-",we=Math.floor(Math.abs(Z/60)),Te=Math.abs(Z%60),Ge=[me,M(we),"'",M(Te),"'"].join("");return["D:",P.getFullYear(),M(P.getMonth()+1),M(P.getDate()),M(P.getHours()),M(P.getMinutes()),M(P.getSeconds()),Ge].join("")},W=h.__private__.convertPDFDateToDate=function(P){var Z=parseInt(P.substr(2,4),10),me=parseInt(P.substr(6,2),10)-1,we=parseInt(P.substr(8,2),10),Te=parseInt(P.substr(10,2),10),Ge=parseInt(P.substr(12,2),10),Je=parseInt(P.substr(14,2),10);return new Date(Z,me,we,Te,Ge,Je,0)},q=h.__private__.setCreationDate=function(P){var Z;if(P===void 0&&(P=new Date),P instanceof Date)Z=K(P);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(P))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Z=P}return z=Z},k=h.__private__.getCreationDate=function(P){var Z=z;return P==="jsDate"&&(Z=W(z)),Z};h.setCreationDate=function(P){return q(P),this},h.getCreationDate=function(P){return k(P)};var I,M=h.__private__.padd2=function(P){return("0"+parseInt(P)).slice(-2)},U=h.__private__.padd2Hex=function(P){return("00"+(P=P.toString())).substr(P.length)},R=0,G=[],te=[],V=0,Y=[],oe=[],ve=!1,Ne=te;h.__private__.setCustomOutputDestination=function(P){ve=!0,Ne=P};var _e=function(P){ve||(Ne=P)};h.__private__.resetCustomOutputDestination=function(){ve=!1,Ne=te};var X=h.__private__.out=function(P){return P=P.toString(),V+=P.length+1,Ne.push(P),Ne},Ee=h.__private__.write=function(P){return X(arguments.length===1?P.toString():Array.prototype.join.call(arguments," "))},Oe=h.__private__.getArrayBuffer=function(P){for(var Z=P.length,me=new ArrayBuffer(Z),we=new Uint8Array(me);Z--;)we[Z]=P.charCodeAt(Z);return me},be=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return be};var xe=e.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(P){return xe=_===b?P/Ye:P,this};var De,Be=h.__private__.getFontSize=h.getFontSize=function(){return _===v?xe:xe*Ye},Ce=e.R2L||!1;h.__private__.setR2L=h.setR2L=function(P){return Ce=P,this},h.__private__.getR2L=h.getR2L=function(){return Ce};var Xe,tt=h.__private__.setZoomMode=function(P){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(P))De=P;else if(isNaN(P)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(P)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+P+'" is not recognized.');De=P}else De=parseInt(P,10)};h.__private__.getZoomMode=function(){return De};var ct,pt=h.__private__.setPageMode=function(P){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(P)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+P+'" is not recognized.');Xe=P};h.__private__.getPageMode=function(){return Xe};var bt=h.__private__.setLayoutMode=function(P){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(P)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+P+'" is not recognized.');ct=P};h.__private__.getLayoutMode=function(){return ct},h.__private__.setDisplayMode=h.setDisplayMode=function(P,Z,me){return tt(P),bt(Z),pt(me),this};var Ae={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(P){if(Object.keys(Ae).indexOf(P)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ae[P]},h.__private__.getDocumentProperties=function(){return Ae},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(P){for(var Z in Ae)Ae.hasOwnProperty(Z)&&P[Z]&&(Ae[Z]=P[Z]);return this},h.__private__.setDocumentProperty=function(P,Z){if(Object.keys(Ae).indexOf(P)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ae[P]=Z};var We,Ye,$e,At,ot,Nt={},mt={},wt=[],ht={},Bt={},gt={},Ot={},sr=null,qt=0,St=[],rr=new Ow(h),_s=e.hotfixes||[],kn={},ba={},na=[],Pt=function P(Z,me,we,Te,Ge,Je){if(!(this instanceof P))return new P(Z,me,we,Te,Ge,Je);isNaN(Z)&&(Z=1),isNaN(me)&&(me=0),isNaN(we)&&(we=0),isNaN(Te)&&(Te=1),isNaN(Ge)&&(Ge=0),isNaN(Je)&&(Je=0),this._matrix=[Z,me,we,Te,Ge,Je]};Object.defineProperty(Pt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(P){this._matrix[0]=P}}),Object.defineProperty(Pt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(P){this._matrix[1]=P}}),Object.defineProperty(Pt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(P){this._matrix[2]=P}}),Object.defineProperty(Pt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(P){this._matrix[3]=P}}),Object.defineProperty(Pt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(P){this._matrix[4]=P}}),Object.defineProperty(Pt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(P){this._matrix[5]=P}}),Object.defineProperty(Pt.prototype,"a",{get:function(){return this._matrix[0]},set:function(P){this._matrix[0]=P}}),Object.defineProperty(Pt.prototype,"b",{get:function(){return this._matrix[1]},set:function(P){this._matrix[1]=P}}),Object.defineProperty(Pt.prototype,"c",{get:function(){return this._matrix[2]},set:function(P){this._matrix[2]=P}}),Object.defineProperty(Pt.prototype,"d",{get:function(){return this._matrix[3]},set:function(P){this._matrix[3]=P}}),Object.defineProperty(Pt.prototype,"e",{get:function(){return this._matrix[4]},set:function(P){this._matrix[4]=P}}),Object.defineProperty(Pt.prototype,"f",{get:function(){return this._matrix[5]},set:function(P){this._matrix[5]=P}}),Object.defineProperty(Pt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Pt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Pt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Pt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Pt.prototype.join=function(P){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(O).join(P)},Pt.prototype.multiply=function(P){var Z=P.sx*this.sx+P.shy*this.shx,me=P.sx*this.shy+P.shy*this.sy,we=P.shx*this.sx+P.sy*this.shx,Te=P.shx*this.shy+P.sy*this.sy,Ge=P.tx*this.sx+P.ty*this.shx+this.tx,Je=P.tx*this.shy+P.ty*this.sy+this.ty;return new Pt(Z,me,we,Te,Ge,Je)},Pt.prototype.decompose=function(){var P=this.sx,Z=this.shy,me=this.shx,we=this.sy,Te=this.tx,Ge=this.ty,Je=Math.sqrt(P*P+Z*Z),_t=(P/=Je)*me+(Z/=Je)*we;me-=P*_t,we-=Z*_t;var Tt=Math.sqrt(me*me+we*we);return _t/=Tt,P*(we/=Tt)<Z*(me/=Tt)&&(P=-P,Z=-Z,_t=-_t,Je=-Je),{scale:new Pt(Je,0,0,Tt,0,0),translate:new Pt(1,0,0,1,Te,Ge),rotate:new Pt(P,Z,-Z,P,0,0),skew:new Pt(1,0,_t,1,0,0)}},Pt.prototype.toString=function(P){return this.join(" ")},Pt.prototype.inversed=function(){var P=this.sx,Z=this.shy,me=this.shx,we=this.sy,Te=this.tx,Ge=this.ty,Je=1/(P*we-Z*me),_t=we*Je,Tt=-Z*Je,Rt=-me*Je,$t=P*Je;return new Pt(_t,Tt,Rt,$t,-_t*Te-Rt*Ge,-Tt*Te-$t*Ge)},Pt.prototype.applyToPoint=function(P){var Z=P.x*this.sx+P.y*this.shx+this.tx,me=P.x*this.shy+P.y*this.sy+this.ty;return new ks(Z,me)},Pt.prototype.applyToRectangle=function(P){var Z=this.applyToPoint(P),me=this.applyToPoint(new ks(P.x+P.w,P.y+P.h));return new tf(Z.x,Z.y,me.x-Z.x,me.y-Z.y)},Pt.prototype.clone=function(){var P=this.sx,Z=this.shy,me=this.shx,we=this.sy,Te=this.tx,Ge=this.ty;return new Pt(P,Z,me,we,Te,Ge)},h.Matrix=Pt;var wa=h.matrixMult=function(P,Z){return Z.multiply(P)},Na=new Pt(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=Na;var Kn=function(P,Z){if(!Bt[P]){var me=(Z instanceof Rl?"Sh":"P")+(Object.keys(ht).length+1).toString(10);Z.id=me,Bt[P]=me,ht[me]=Z,rr.publish("addPattern",Z)}};h.ShadingPattern=Rl,h.TilingPattern=tu,h.addShadingPattern=function(P,Z){return C("addShadingPattern()"),Kn(P,Z),this},h.beginTilingPattern=function(P){C("beginTilingPattern()"),rf(P.boundingBox[0],P.boundingBox[1],P.boundingBox[2]-P.boundingBox[0],P.boundingBox[3]-P.boundingBox[1],P.matrix)},h.endTilingPattern=function(P,Z){C("endTilingPattern()"),Z.stream=oe[I].join(`
`),Kn(P,Z),rr.publish("endTilingPattern",Z),na.pop().restore()};var _i,Fr=h.__private__.newObject=function(){var P=an();return ee(P,!0),P},an=h.__private__.newObjectDeferred=function(){return R++,G[R]=function(){return V},R},ee=function(P,Z){return Z=typeof Z=="boolean"&&Z,G[P]=V,Z&&X(P+" 0 obj"),P},de=h.__private__.newAdditionalObject=function(){var P={objId:an(),content:""};return Y.push(P),P},le=an(),ue=an(),pe=h.__private__.decodeColorString=function(P){var Z=P.split(" ");if(Z.length!==2||Z[1]!=="g"&&Z[1]!=="G")Z.length!==5||Z[4]!=="k"&&Z[4]!=="K"||(Z=[(1-Z[0])*(1-Z[3]),(1-Z[1])*(1-Z[3]),(1-Z[2])*(1-Z[3]),"r"]);else{var me=parseFloat(Z[0]);Z=[me,me,me,"r"]}for(var we="#",Te=0;Te<3;Te++)we+=("0"+Math.floor(255*parseFloat(Z[Te])).toString(16)).slice(-2);return we},ge=h.__private__.encodeColorString=function(P){var Z;typeof P=="string"&&(P={ch1:P});var me=P.ch1,we=P.ch2,Te=P.ch3,Ge=P.ch4,Je=P.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof me=="string"&&me.charAt(0)!=="#"){var _t=new Bk(me);if(_t.ok)me=_t.toHex();else if(!/^\d*\.?\d*$/.test(me))throw new Error('Invalid color "'+me+'" passed to jsPDF.encodeColorString.')}if(typeof me=="string"&&/^#[0-9A-Fa-f]{3}$/.test(me)&&(me="#"+me[1]+me[1]+me[2]+me[2]+me[3]+me[3]),typeof me=="string"&&/^#[0-9A-Fa-f]{6}$/.test(me)){var Tt=parseInt(me.substr(1),16);me=Tt>>16&255,we=Tt>>8&255,Te=255&Tt}if(we===void 0||Ge===void 0&&me===we&&we===Te)Z=typeof me=="string"?me+" "+Je[0]:P.precision===2?N(me/255)+" "+Je[0]:j(me/255)+" "+Je[0];else if(Ge===void 0||dr(Ge)==="object"){if(Ge&&!isNaN(Ge.a)&&Ge.a===0)return["1.","1.","1.",Je[1]].join(" ");Z=typeof me=="string"?[me,we,Te,Je[1]].join(" "):P.precision===2?[N(me/255),N(we/255),N(Te/255),Je[1]].join(" "):[j(me/255),j(we/255),j(Te/255),Je[1]].join(" ")}else Z=typeof me=="string"?[me,we,Te,Ge,Je[2]].join(" "):P.precision===2?[N(me),N(we),N(Te),N(Ge),Je[2]].join(" "):[j(me),j(we),j(Te),j(Ge),Je[2]].join(" ");return Z},Le=h.__private__.getFilters=function(){return s},Ue=h.__private__.putStream=function(P){var Z=(P=P||{}).data||"",me=P.filters||Le(),we=P.alreadyAppliedFilters||[],Te=P.addLength1||!1,Ge=Z.length,Je=P.objectId,_t=function(mn){return mn};if(u!==null&&Je===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(_t=pn.encryptor(Je,0));var Tt={};me===!0&&(me=["FlateEncode"]);var Rt=P.additionalKeyValues||[],$t=(Tt=Ct.API.processDataByFilters!==void 0?Ct.API.processDataByFilters(Z,me):{data:Z,reverseChain:[]}).reverseChain+(Array.isArray(we)?we.join(" "):we.toString());if(Tt.data.length!==0&&(Rt.push({key:"Length",value:Tt.data.length}),Te===!0&&Rt.push({key:"Length1",value:Ge})),$t.length!=0)if($t.split("/").length-1==1)Rt.push({key:"Filter",value:$t});else{Rt.push({key:"Filter",value:"["+$t+"]"});for(var Qt=0;Qt<Rt.length;Qt+=1)if(Rt[Qt].key==="DecodeParms"){for(var Dr=[],ln=0;ln<Tt.reverseChain.split("/").length-1;ln+=1)Dr.push("null");Dr.push(Rt[Qt].value),Rt[Qt].value="["+Dr.join(" ")+"]"}}X("<<");for(var wr=0;wr<Rt.length;wr++)X("/"+Rt[wr].key+" "+Rt[wr].value);X(">>"),Tt.data.length!==0&&(X("stream"),X(_t(Tt.data)),X("endstream"))},Pe=h.__private__.putPage=function(P){var Z=P.number,me=P.data,we=P.objId,Te=P.contentsObjId;ee(we,!0),X("<</Type /Page"),X("/Parent "+P.rootDictionaryObjId+" 0 R"),X("/Resources "+P.resourceDictionaryObjId+" 0 R"),X("/MediaBox ["+parseFloat(O(P.mediaBox.bottomLeftX))+" "+parseFloat(O(P.mediaBox.bottomLeftY))+" "+O(P.mediaBox.topRightX)+" "+O(P.mediaBox.topRightY)+"]"),P.cropBox!==null&&X("/CropBox ["+O(P.cropBox.bottomLeftX)+" "+O(P.cropBox.bottomLeftY)+" "+O(P.cropBox.topRightX)+" "+O(P.cropBox.topRightY)+"]"),P.bleedBox!==null&&X("/BleedBox ["+O(P.bleedBox.bottomLeftX)+" "+O(P.bleedBox.bottomLeftY)+" "+O(P.bleedBox.topRightX)+" "+O(P.bleedBox.topRightY)+"]"),P.trimBox!==null&&X("/TrimBox ["+O(P.trimBox.bottomLeftX)+" "+O(P.trimBox.bottomLeftY)+" "+O(P.trimBox.topRightX)+" "+O(P.trimBox.topRightY)+"]"),P.artBox!==null&&X("/ArtBox ["+O(P.artBox.bottomLeftX)+" "+O(P.artBox.bottomLeftY)+" "+O(P.artBox.topRightX)+" "+O(P.artBox.topRightY)+"]"),typeof P.userUnit=="number"&&P.userUnit!==1&&X("/UserUnit "+P.userUnit),rr.publish("putPage",{objId:we,pageContext:St[Z],pageNumber:Z,page:me}),X("/Contents "+Te+" 0 R"),X(">>"),X("endobj");var Ge=me.join(`
`);return _===b&&(Ge+=`
Q`),ee(Te,!0),Ue({data:Ge,filters:Le(),objectId:Te}),X("endobj"),we},Fe=h.__private__.putPages=function(){var P,Z,me=[];for(P=1;P<=qt;P++)St[P].objId=an(),St[P].contentsObjId=an();for(P=1;P<=qt;P++)me.push(Pe({number:P,data:oe[P],objId:St[P].objId,contentsObjId:St[P].contentsObjId,mediaBox:St[P].mediaBox,cropBox:St[P].cropBox,bleedBox:St[P].bleedBox,trimBox:St[P].trimBox,artBox:St[P].artBox,userUnit:St[P].userUnit,rootDictionaryObjId:le,resourceDictionaryObjId:ue}));ee(le,!0),X("<</Type /Pages");var we="/Kids [";for(Z=0;Z<qt;Z++)we+=me[Z]+" 0 R ";X(we+"]"),X("/Count "+qt),X(">>"),X("endobj"),rr.publish("postPutPages")},Me=function(P){rr.publish("putFont",{font:P,out:X,newObject:Fr,putStream:Ue}),P.isAlreadyPutted!==!0&&(P.objectNumber=Fr(),X("<<"),X("/Type /Font"),X("/BaseFont /"+qc(P.postScriptName)),X("/Subtype /Type1"),typeof P.encoding=="string"&&X("/Encoding /"+P.encoding),X("/FirstChar 32"),X("/LastChar 255"),X(">>"),X("endobj"))},et=function(P){P.objectNumber=Fr();var Z=[];Z.push({key:"Type",value:"/XObject"}),Z.push({key:"Subtype",value:"/Form"}),Z.push({key:"BBox",value:"["+[O(P.x),O(P.y),O(P.x+P.width),O(P.y+P.height)].join(" ")+"]"}),Z.push({key:"Matrix",value:"["+P.matrix.toString()+"]"});var me=P.pages[1].join(`
`);Ue({data:me,additionalKeyValues:Z,objectId:P.objectNumber}),X("endobj")},at=function(P,Z){Z||(Z=21);var me=Fr(),we=function(Je,_t){var Tt,Rt=[],$t=1/(_t-1);for(Tt=0;Tt<1;Tt+=$t)Rt.push(Tt);if(Rt.push(1),Je[0].offset!=0){var Qt={offset:0,color:Je[0].color};Je.unshift(Qt)}if(Je[Je.length-1].offset!=1){var Dr={offset:1,color:Je[Je.length-1].color};Je.push(Dr)}for(var ln="",wr=0,mn=0;mn<Rt.length;mn++){for(Tt=Rt[mn];Tt>Je[wr+1].offset;)wr++;var cn=Je[wr].offset,Pn=(Tt-cn)/(Je[wr+1].offset-cn),Ts=Je[wr].color,Ea=Je[wr+1].color;ln+=U(Math.round((1-Pn)*Ts[0]+Pn*Ea[0]).toString(16))+U(Math.round((1-Pn)*Ts[1]+Pn*Ea[1]).toString(16))+U(Math.round((1-Pn)*Ts[2]+Pn*Ea[2]).toString(16))}return ln.trim()}(P.colors,Z),Te=[];Te.push({key:"FunctionType",value:"0"}),Te.push({key:"Domain",value:"[0.0 1.0]"}),Te.push({key:"Size",value:"["+Z+"]"}),Te.push({key:"BitsPerSample",value:"8"}),Te.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Te.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ue({data:we,additionalKeyValues:Te,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:me}),X("endobj"),P.objectNumber=Fr(),X("<< /ShadingType "+P.type),X("/ColorSpace /DeviceRGB");var Ge="/Coords ["+O(parseFloat(P.coords[0]))+" "+O(parseFloat(P.coords[1]))+" ";P.type===2?Ge+=O(parseFloat(P.coords[2]))+" "+O(parseFloat(P.coords[3])):Ge+=O(parseFloat(P.coords[2]))+" "+O(parseFloat(P.coords[3]))+" "+O(parseFloat(P.coords[4]))+" "+O(parseFloat(P.coords[5])),X(Ge+="]"),P.matrix&&X("/Matrix ["+P.matrix.toString()+"]"),X("/Function "+me+" 0 R"),X("/Extend [true true]"),X(">>"),X("endobj")},dt=function(P,Z){var me=an(),we=Fr();Z.push({resourcesOid:me,objectOid:we}),P.objectNumber=we;var Te=[];Te.push({key:"Type",value:"/Pattern"}),Te.push({key:"PatternType",value:"1"}),Te.push({key:"PaintType",value:"1"}),Te.push({key:"TilingType",value:"1"}),Te.push({key:"BBox",value:"["+P.boundingBox.map(O).join(" ")+"]"}),Te.push({key:"XStep",value:O(P.xStep)}),Te.push({key:"YStep",value:O(P.yStep)}),Te.push({key:"Resources",value:me+" 0 R"}),P.matrix&&Te.push({key:"Matrix",value:"["+P.matrix.toString()+"]"}),Ue({data:P.stream,additionalKeyValues:Te,objectId:P.objectNumber}),X("endobj")},it=function(P){for(var Z in P.objectNumber=Fr(),X("<<"),P)switch(Z){case"opacity":X("/ca "+N(P[Z]));break;case"stroke-opacity":X("/CA "+N(P[Z]))}X(">>"),X("endobj")},ft=function(P){ee(P.resourcesOid,!0),X("<<"),X("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var Z in X("/Font <<"),Nt)Nt.hasOwnProperty(Z)&&(d===!1||d===!0&&p.hasOwnProperty(Z))&&X("/"+Z+" "+Nt[Z].objectNumber+" 0 R");X(">>")}(),function(){if(Object.keys(ht).length>0){for(var Z in X("/Shading <<"),ht)ht.hasOwnProperty(Z)&&ht[Z]instanceof Rl&&ht[Z].objectNumber>=0&&X("/"+Z+" "+ht[Z].objectNumber+" 0 R");rr.publish("putShadingPatternDict"),X(">>")}}(),function(Z){if(Object.keys(ht).length>0){for(var me in X("/Pattern <<"),ht)ht.hasOwnProperty(me)&&ht[me]instanceof h.TilingPattern&&ht[me].objectNumber>=0&&ht[me].objectNumber<Z&&X("/"+me+" "+ht[me].objectNumber+" 0 R");rr.publish("putTilingPatternDict"),X(">>")}}(P.objectOid),function(){if(Object.keys(gt).length>0){var Z;for(Z in X("/ExtGState <<"),gt)gt.hasOwnProperty(Z)&&gt[Z].objectNumber>=0&&X("/"+Z+" "+gt[Z].objectNumber+" 0 R");rr.publish("putGStateDict"),X(">>")}}(),function(){for(var Z in X("/XObject <<"),kn)kn.hasOwnProperty(Z)&&kn[Z].objectNumber>=0&&X("/"+Z+" "+kn[Z].objectNumber+" 0 R");rr.publish("putXobjectDict"),X(">>")}(),X(">>"),X("endobj")},Ft=function(P){mt[P.fontName]=mt[P.fontName]||{},mt[P.fontName][P.fontStyle]=P.id},vr=function(P,Z,me,we,Te){var Ge={id:"F"+(Object.keys(Nt).length+1).toString(10),postScriptName:P,fontName:Z,fontStyle:me,encoding:we,isStandardFont:Te||!1,metadata:{}};return rr.publish("addFont",{font:Ge,instance:this}),Nt[Ge.id]=Ge,Ft(Ge),Ge.id},Yt=h.__private__.pdfEscape=h.pdfEscape=function(P,Z){return function(me,we){var Te,Ge,Je,_t,Tt,Rt,$t,Qt,Dr;if(Je=(we=we||{}).sourceEncoding||"Unicode",Tt=we.outputEncoding,(we.autoencode||Tt)&&Nt[We].metadata&&Nt[We].metadata[Je]&&Nt[We].metadata[Je].encoding&&(_t=Nt[We].metadata[Je].encoding,!Tt&&Nt[We].encoding&&(Tt=Nt[We].encoding),!Tt&&_t.codePages&&(Tt=_t.codePages[0]),typeof Tt=="string"&&(Tt=_t[Tt]),Tt)){for($t=!1,Rt=[],Te=0,Ge=me.length;Te<Ge;Te++)(Qt=Tt[me.charCodeAt(Te)])?Rt.push(String.fromCharCode(Qt)):Rt.push(me[Te]),Rt[Te].charCodeAt(0)>>8&&($t=!0);me=Rt.join("")}for(Te=me.length;$t===void 0&&Te!==0;)me.charCodeAt(Te-1)>>8&&($t=!0),Te--;if(!$t)return me;for(Rt=we.noBOM?[]:[254,255],Te=0,Ge=me.length;Te<Ge;Te++){if((Dr=(Qt=me.charCodeAt(Te))>>8)>>8)throw new Error("Character at position "+Te+" of string '"+me+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Rt.push(Dr),Rt.push(Qt-(Dr<<8))}return String.fromCharCode.apply(void 0,Rt)}(P,Z).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},qr=h.__private__.beginPage=function(P){oe[++qt]=[],St[qt]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(P[0]),topRightY:Number(P[1])}},Za(qt),_e(oe[I])},Xa=function(P,Z){var me,we,Te;switch(r=Z||r,typeof P=="string"&&(me=g(P.toLowerCase()),Array.isArray(me)&&(we=me[0],Te=me[1])),Array.isArray(P)&&(we=P[0]*Ye,Te=P[1]*Ye),isNaN(we)&&(we=i[0],Te=i[1]),(we>14400||Te>14400)&&(br.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),we=Math.min(14400,we),Te=Math.min(14400,Te)),i=[we,Te],r.substr(0,1)){case"l":Te>we&&(i=[Te,we]);break;case"p":we>Te&&(i=[Te,we])}qr(i),Dt(Zu),X(vc),Qu!==0&&X(Qu+" J"),ef!==0&&X(ef+" j"),rr.publish("addPage",{pageNumber:qt})},Sa=function(P){P>0&&P<=qt&&(oe.splice(P,1),St.splice(P,1),qt--,I>qt&&(I=qt),this.setPage(I))},Za=function(P){P>0&&P<=qt&&(I=P)},ia=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return oe.length-1},so=function(P,Z,me){var we,Te=void 0;return me=me||{},P=P!==void 0?P:Nt[We].fontName,Z=Z!==void 0?Z:Nt[We].fontStyle,we=P.toLowerCase(),mt[we]!==void 0&&mt[we][Z]!==void 0?Te=mt[we][Z]:mt[P]!==void 0&&mt[P][Z]!==void 0?Te=mt[P][Z]:me.disableWarning===!1&&br.warn("Unable to look up font label for font '"+P+"', '"+Z+"'. Refer to getFontList() for available fonts."),Te||me.noFallback||(Te=mt.times[Z])==null&&(Te=mt.times.normal),Te},sn=h.__private__.putInfo=function(){var P=Fr(),Z=function(we){return we};for(var me in u!==null&&(Z=pn.encryptor(P,0)),X("<<"),X("/Producer ("+Yt(Z("jsPDF "+Ct.version))+")"),Ae)Ae.hasOwnProperty(me)&&Ae[me]&&X("/"+me.substr(0,1).toUpperCase()+me.substr(1)+" ("+Yt(Z(Ae[me]))+")");X("/CreationDate ("+Yt(Z(z))+")"),X(">>"),X("endobj")},pc=h.__private__.putCatalog=function(P){var Z=(P=P||{}).rootDictionaryObjId||le;switch(Fr(),X("<<"),X("/Type /Catalog"),X("/Pages "+Z+" 0 R"),De||(De="fullwidth"),De){case"fullwidth":X("/OpenAction [3 0 R /FitH null]");break;case"fullheight":X("/OpenAction [3 0 R /FitV null]");break;case"fullpage":X("/OpenAction [3 0 R /Fit]");break;case"original":X("/OpenAction [3 0 R /XYZ null null 1]");break;default:var me=""+De;me.substr(me.length-1)==="%"&&(De=parseInt(De)/100),typeof De=="number"&&X("/OpenAction [3 0 R /XYZ null null "+N(De)+"]")}switch(ct||(ct="continuous"),ct){case"continuous":X("/PageLayout /OneColumn");break;case"single":X("/PageLayout /SinglePage");break;case"two":case"twoleft":X("/PageLayout /TwoColumnLeft");break;case"tworight":X("/PageLayout /TwoColumnRight")}Xe&&X("/PageMode /"+Xe),rr.publish("putCatalog"),X(">>"),X("endobj")},I1=h.__private__.putTrailer=function(){X("trailer"),X("<<"),X("/Size "+(R+1)),X("/Root "+R+" 0 R"),X("/Info "+(R-1)+" 0 R"),u!==null&&X("/Encrypt "+pn.oid+" 0 R"),X("/ID [ <"+Q+"> <"+Q+"> ]"),X(">>")},on=h.__private__.putHeader=function(){X("%PDF-"+y),X("%")},fd=h.__private__.putXRef=function(){var P="0000000000";X("xref"),X("0 "+(R+1)),X("0000000000 65535 f ");for(var Z=1;Z<=R;Z++)typeof G[Z]=="function"?X((P+G[Z]()).slice(-10)+" 00000 n "):G[Z]!==void 0?X((P+G[Z]).slice(-10)+" 00000 n "):X("0000000000 00000 n ")},Ja=h.__private__.buildDocument=function(){var P;R=0,V=0,te=[],G=[],Y=[],le=an(),ue=an(),_e(te),rr.publish("buildDocument"),on(),Fe(),function(){rr.publish("putAdditionalObjects");for(var me=0;me<Y.length;me++){var we=Y[me];ee(we.objId,!0),X(we.content),X("endobj")}rr.publish("postPutAdditionalObjects")}(),P=[],function(){for(var me in Nt)Nt.hasOwnProperty(me)&&(d===!1||d===!0&&p.hasOwnProperty(me))&&Me(Nt[me])}(),function(){var me;for(me in gt)gt.hasOwnProperty(me)&&it(gt[me])}(),function(){for(var me in kn)kn.hasOwnProperty(me)&&et(kn[me])}(),function(me){var we;for(we in ht)ht.hasOwnProperty(we)&&(ht[we]instanceof Rl?at(ht[we]):ht[we]instanceof tu&&dt(ht[we],me))}(P),rr.publish("putResources"),P.forEach(ft),ft({resourcesOid:ue,objectOid:Number.MAX_SAFE_INTEGER}),rr.publish("postPutResources"),u!==null&&(pn.oid=Fr(),X("<<"),X("/Filter /Standard"),X("/V "+pn.v),X("/R "+pn.r),X("/U <"+pn.toHexString(pn.U)+">"),X("/O <"+pn.toHexString(pn.O)+">"),X("/P "+pn.P),X(">>"),X("endobj")),sn(),pc();var Z=V;return fd(),I1(),X("startxref"),X(""+Z),X("%%EOF"),_e(oe[I]),te.join(`
`)},mc=h.__private__.getBlob=function(P){return new Blob([Oe(P)],{type:"application/pdf"})},hd=h.output=h.__private__.output=(_i=function(P,Z){switch(typeof(Z=Z||{})=="string"?Z={filename:Z}:Z.filename=Z.filename||"generated.pdf",P){case void 0:return Ja();case"save":h.save(Z.filename);break;case"arraybuffer":return Oe(Ja());case"blob":return mc(Ja());case"bloburi":case"bloburl":if(It.URL!==void 0&&typeof It.URL.createObjectURL=="function")return It.URL&&It.URL.createObjectURL(mc(Ja()))||void 0;br.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var me="",we=Ja();try{me=Aw(we)}catch{me=Aw(unescape(encodeURIComponent(we)))}return"data:application/pdf;filename="+Z.filename+";base64,"+me;case"pdfobjectnewwindow":if(Object.prototype.toString.call(It)==="[object Window]"){var Te="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ge=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Z.pdfObjectUrl&&(Te=Z.pdfObjectUrl,Ge="");var Je='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Te+'"'+Ge+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Z)+");<\/script></body></html>",_t=It.open();return _t!==null&&_t.document.write(Je),_t}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(It)==="[object Window]"){var Tt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Z.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Z.filename+'" width="500px" height="400px" /></body></html>',Rt=It.open();if(Rt!==null){Rt.document.write(Tt);var $t=this;Rt.document.documentElement.querySelector("#pdfViewer").onload=function(){Rt.document.title=Z.filename,Rt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open($t.output("bloburl"))}}return Rt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(It)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Qt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Z)+'"></iframe></body></html>',Dr=It.open();if(Dr!==null&&(Dr.document.write(Qt),Dr.document.title=Z.filename),Dr||typeof safari>"u")return Dr;break;case"datauri":case"dataurl":return It.document.location.href=this.output("datauristring",Z);default:return null}},_i.foo=function(){try{return _i.apply(this,arguments)}catch(me){var P=me.stack||"";~P.indexOf(" at ")&&(P=P.split(" at ")[1]);var Z="Error in function "+P.split(`
`)[0].split("<")[0]+": "+me.message;if(!It.console)throw new Error(Z);It.console.error(Z,me),It.alert&&alert(Z)}},_i.foo.bar=_i,_i.foo),aa=function(P){return Array.isArray(_s)===!0&&_s.indexOf(P)>-1};switch(n){case"pt":Ye=1;break;case"mm":Ye=72/25.4;break;case"cm":Ye=72/2.54;break;case"in":Ye=72;break;case"px":Ye=aa("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ye=12;break;case"ex":Ye=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Ye=n}var pn=null;q(),ie();var bs=h.__private__.getPageInfo=h.getPageInfo=function(P){if(isNaN(P)||P%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:St[P].objId,pageNumber:P,pageContext:St[P]}},dd=h.__private__.getPageInfoByObjId=function(P){if(isNaN(P)||P%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Z in St)if(St[Z].objId===P)break;return bs(Z)},R1=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:St[I].objId,pageNumber:I,pageContext:St[I]}};h.addPage=function(){return Xa.apply(this,arguments),this},h.setPage=function(){return Za.apply(this,arguments),_e.call(this,oe[I]),this},h.insertPage=function(P){return this.addPage(),this.movePage(I,P),this},h.movePage=function(P,Z){var me,we;if(P>Z){me=oe[P],we=St[P];for(var Te=P;Te>Z;Te--)oe[Te]=oe[Te-1],St[Te]=St[Te-1];oe[Z]=me,St[Z]=we,this.setPage(Z)}else if(P<Z){me=oe[P],we=St[P];for(var Ge=P;Ge<Z;Ge++)oe[Ge]=oe[Ge+1],St[Ge]=St[Ge+1];oe[Z]=me,St[Z]=we,this.setPage(Z)}return this},h.deletePage=function(){return Sa.apply(this,arguments),this},h.__private__.text=h.text=function(P,Z,me,we,Te){var Ge,Je,_t,Tt,Rt,$t,Qt,Dr,ln,wr=(we=we||{}).scope||this;if(typeof P=="number"&&typeof Z=="number"&&(typeof me=="string"||Array.isArray(me))){var mn=me;me=Z,Z=P,P=mn}if(arguments[3]instanceof Pt==0?(_t=arguments[4],Tt=arguments[5],dr(Qt=arguments[3])==="object"&&Qt!==null||(typeof _t=="string"&&(Tt=_t,_t=null),typeof Qt=="string"&&(Tt=Qt,Qt=null),typeof Qt=="number"&&(_t=Qt,Qt=null),we={flags:Qt,angle:_t,align:Tt})):(C("The transform parameter of text() with a Matrix value"),ln=Te),isNaN(Z)||isNaN(me)||P==null)throw new Error("Invalid arguments passed to jsPDF.text");if(P.length===0)return wr;var cn,Pn="",Ts=typeof we.lineHeightFactor=="number"?we.lineHeightFactor:dl,Ea=wr.internal.scaleFactor;function js(or){return or=or.split("	").join(Array(we.TabLen||9).join(" ")),Yt(or,Qt)}function af(or){for(var yr,Yr=or.concat(),gn=[],Ls=Yr.length;Ls--;)typeof(yr=Yr.shift())=="string"?gn.push(yr):Array.isArray(or)&&(yr.length===1||yr[1]===void 0&&yr[2]===void 0)?gn.push(yr[0]):gn.push([yr[0],yr[1],yr[2]]);return gn}function yc(or,yr){var Yr;if(typeof or=="string")Yr=yr(or)[0];else if(Array.isArray(or)){for(var gn,Ls,mf=or.concat(),wc=[],Sd=mf.length;Sd--;)typeof(gn=mf.shift())=="string"?wc.push(yr(gn)[0]):Array.isArray(gn)&&typeof gn[0]=="string"&&(Ls=yr(gn[0],gn[1],gn[2]),wc.push([Ls[0],Ls[1],Ls[2]]));Yr=wc}return Yr}var oo=!1,vl=!0;if(typeof P=="string")oo=!0;else if(Array.isArray(P)){var xl=P.concat();Je=[];for(var lo,Fn=xl.length;Fn--;)(typeof(lo=xl.shift())!="string"||Array.isArray(lo)&&typeof lo[0]!="string")&&(vl=!1);oo=vl}if(oo===!1)throw new Error('Type of text must be string or Array. "'+P+'" is not recognized.');typeof P=="string"&&(P=P.match(/[\r?\n]/)?P.split(/\r\n|\r|\n/g):[P]);var yl=xe/wr.internal.scaleFactor,_l=yl*(Ts-1);switch(we.baseline){case"bottom":me-=_l;break;case"top":me+=yl-_l;break;case"hanging":me+=yl-2*_l;break;case"middle":me+=yl/2-_l}if(($t=we.maxWidth||0)>0&&(typeof P=="string"?P=wr.splitTextToSize(P,$t):Object.prototype.toString.call(P)==="[object Array]"&&(P=P.reduce(function(or,yr){return or.concat(wr.splitTextToSize(yr,$t))},[]))),Ge={text:P,x:Z,y:me,options:we,mutex:{pdfEscape:Yt,activeFontKey:We,fonts:Nt,activeFontSize:xe}},rr.publish("preProcessText",Ge),P=Ge.text,_t=(we=Ge.options).angle,ln instanceof Pt==0&&_t&&typeof _t=="number"){_t*=Math.PI/180,we.rotationDirection===0&&(_t=-_t),_===b&&(_t=-_t);var sf=Math.cos(_t),of=Math.sin(_t);ln=new Pt(sf,of,-of,sf,0,0)}else _t&&_t instanceof Pt&&(ln=_t);_!==b||ln||(ln=Na),(Rt=we.charSpace||Ss)!==void 0&&(Pn+=O(T(Rt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Dr=we.horizontalScale)!==void 0&&(Pn+=O(100*Dr)+` Tz
`),we.lang;var oi=-1,Os=we.renderingMode!==void 0?we.renderingMode:we.stroke,_c=wr.internal.getCurrentPageInfo().pageContext;switch(Os){case 0:case!1:case"fill":oi=0;break;case 1:case!0:case"stroke":oi=1;break;case 2:case"fillThenStroke":oi=2;break;case 3:case"invisible":oi=3;break;case 4:case"fillAndAddForClipping":oi=4;break;case 5:case"strokeAndAddPathForClipping":oi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":oi=6;break;case 7:case"addToPathForClipping":oi=7}var wd=_c.usedRenderingMode!==void 0?_c.usedRenderingMode:-1;oi!==-1?Pn+=oi+` Tr
`:wd!==-1&&(Pn+=`0 Tr
`),oi!==-1&&(_c.usedRenderingMode=oi),Tt=we.align||"left";var sa,bl=xe*Ts,lf=wr.internal.pageSize.getWidth(),cf=Nt[We];Rt=we.charSpace||Ss,$t=we.maxWidth||0,Qt=Object.assign({autoencode:!0,noBOM:!0},we.flags);var co=[],wl=function(or){return wr.getStringUnitWidth(or,{font:cf,charSpace:Rt,fontSize:xe,doKerning:!1})*xe/Ea};if(Object.prototype.toString.call(P)==="[object Array]"){var Fi;Je=af(P),Tt!=="left"&&(sa=Je.map(wl));var Ii,uo=0;if(Tt==="right"){Z-=sa[0],P=[],Fn=Je.length;for(var Cs=0;Cs<Fn;Cs++)Cs===0?(Ii=ws(Z),Fi=Ns(me)):(Ii=T(uo-sa[Cs]),Fi=-bl),P.push([Je[Cs],Ii,Fi]),uo=sa[Cs]}else if(Tt==="center"){Z-=sa[0]/2,P=[],Fn=Je.length;for(var fo=0;fo<Fn;fo++)fo===0?(Ii=ws(Z),Fi=Ns(me)):(Ii=T((uo-sa[fo])/2),Fi=-bl),P.push([Je[fo],Ii,Fi]),uo=sa[fo]}else if(Tt==="left"){P=[],Fn=Je.length;for(var uf=0;uf<Fn;uf++)P.push(Je[uf])}else if(Tt==="justify"&&cf.encoding==="Identity-H"){P=[],Fn=Je.length,$t=$t!==0?$t:lf;for(var bc=0,Kr=0;Kr<Fn;Kr++)if(Fi=Kr===0?Ns(me):-bl,Ii=Kr===0?ws(Z):bc,Kr<Fn-1){var Nd=T(($t-sa[Kr])/(Je[Kr].split(" ").length-1)),es=Je[Kr].split(" ");P.push([es[0]+" ",Ii,Fi]),bc=0;for(var ts=1;ts<es.length;ts++){var ff=(wl(es[ts-1]+" "+es[ts])-wl(es[ts]))*Ea+Nd;ts==es.length-1?P.push([es[ts],ff,0]):P.push([es[ts]+" ",ff,0]),bc-=ff}}else P.push([Je[Kr],Ii,Fi]);P.push(["",bc,0])}else{if(Tt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(P=[],Fn=Je.length,$t=$t!==0?$t:lf,Kr=0;Kr<Fn;Kr++){Fi=Kr===0?Ns(me):-bl,Ii=Kr===0?ws(Z):0;var hf=Je[Kr].split(" ").length-1,df=hf>0?($t-sa[Kr])/hf:0;Kr<Fn-1?co.push(O(T(df))):co.push(0),P.push([Je[Kr],Ii,Fi])}}}(typeof we.R2L=="boolean"?we.R2L:Ce)===!0&&(P=yc(P,function(or,yr,Yr){return[or.split("").reverse().join(""),yr,Yr]})),Ge={text:P,x:Z,y:me,options:we,mutex:{pdfEscape:Yt,activeFontKey:We,fonts:Nt,activeFontSize:xe}},rr.publish("postProcessText",Ge),P=Ge.text,cn=Ge.mutex.isHex||!1;var pf=Nt[We].encoding;pf!=="WinAnsiEncoding"&&pf!=="StandardEncoding"||(P=yc(P,function(or,yr,Yr){return[js(or),yr,Yr]})),Je=af(P),P=[];for(var ho,po,mo,Nl=Array.isArray(Je[0])?1:0,go="",Sl=function(or,yr,Yr){var gn="";return Yr instanceof Pt?(Yr=typeof we.angle=="number"?wa(Yr,new Pt(1,0,0,1,or,yr)):wa(new Pt(1,0,0,1,or,yr),Yr),_===b&&(Yr=wa(new Pt(1,0,0,-1,0,0),Yr)),gn=Yr.join(" ")+` Tm
`):gn=O(or)+" "+O(yr)+` Td
`,gn},oa=0;oa<Je.length;oa++){switch(go="",Nl){case 1:mo=(cn?"<":"(")+Je[oa][0]+(cn?">":")"),ho=parseFloat(Je[oa][1]),po=parseFloat(Je[oa][2]);break;case 0:mo=(cn?"<":"(")+Je[oa]+(cn?">":")"),ho=ws(Z),po=Ns(me)}co!==void 0&&co[oa]!==void 0&&(go=co[oa]+` Tw
`),oa===0?P.push(go+Sl(ho,po,ln)+mo):Nl===0?P.push(go+mo):Nl===1&&P.push(go+Sl(ho,po,ln)+mo)}P=Nl===0?P.join(` Tj
T* `):P.join(` Tj
`),P+=` Tj
`;var rs=`BT
/`;return rs+=We+" "+xe+` Tf
`,rs+=O(xe*Ts)+` TL
`,rs+=pl+`
`,rs+=Pn,rs+=P,X(rs+="ET"),p[We]=!0,wr};var D1=h.__private__.clip=h.clip=function(P){return X(P==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return D1("evenodd")},h.__private__.discardPath=h.discardPath=function(){return X("n"),this};var Qa=h.__private__.isValidStyle=function(P){var Z=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(P)!==-1&&(Z=!0),Z};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(P){return Qa(P)&&(c=P),this};var pd=h.__private__.getStyle=h.getStyle=function(P){var Z=c;switch(P){case"D":case"S":Z="S";break;case"F":Z="f";break;case"FD":case"DF":Z="B";break;case"f":case"f*":case"B":case"B*":Z=P}return Z},md=h.close=function(){return X("h"),this};h.stroke=function(){return X("S"),this},h.fill=function(P){return gc("f",P),this},h.fillEvenOdd=function(P){return gc("f*",P),this},h.fillStroke=function(P){return gc("B",P),this},h.fillStrokeEvenOdd=function(P){return gc("B*",P),this};var gc=function(P,Z){dr(Z)==="object"?B1(Z,P):X(P)},hl=function(P){P===null||_===b&&P===void 0||(P=pd(P),X(P))};function M1(P,Z,me,we,Te){var Ge=new tu(Z||this.boundingBox,me||this.xStep,we||this.yStep,this.gState,Te||this.matrix);Ge.stream=this.stream;var Je=P+"$$"+this.cloneIndex+++"$$";return Kn(Je,Ge),Ge}var B1=function(P,Z){var me=Bt[P.key],we=ht[me];if(we instanceof Rl)X("q"),X(U1(Z)),we.gState&&h.setGState(we.gState),X(P.matrix.toString()+" cm"),X("/"+me+" sh"),X("Q");else if(we instanceof tu){var Te=new Pt(1,0,0,-1,0,gl());P.matrix&&(Te=Te.multiply(P.matrix||Na),me=M1.call(we,P.key,P.boundingBox,P.xStep,P.yStep,Te).id),X("q"),X("/Pattern cs"),X("/"+me+" scn"),we.gState&&h.setGState(we.gState),X(Z),X("Q")}},U1=function(P){switch(P){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Xu=h.moveTo=function(P,Z){return X(O(T(P))+" "+O(B(Z))+" m"),this},gd=h.lineTo=function(P,Z){return X(O(T(P))+" "+O(B(Z))+" l"),this},ka=h.curveTo=function(P,Z,me,we,Te,Ge){return X([O(T(P)),O(B(Z)),O(T(me)),O(B(we)),O(T(Te)),O(B(Ge)),"c"].join(" ")),this};h.__private__.line=h.line=function(P,Z,me,we,Te){if(isNaN(P)||isNaN(Z)||isNaN(me)||isNaN(we)||!Qa(Te))throw new Error("Invalid arguments passed to jsPDF.line");return _===v?this.lines([[me-P,we-Z]],P,Z,[1,1],Te||"S"):this.lines([[me-P,we-Z]],P,Z,[1,1]).stroke()},h.__private__.lines=h.lines=function(P,Z,me,we,Te,Ge){var Je,_t,Tt,Rt,$t,Qt,Dr,ln,wr,mn,cn,Pn;if(typeof P=="number"&&(Pn=me,me=Z,Z=P,P=Pn),we=we||[1,1],Ge=Ge||!1,isNaN(Z)||isNaN(me)||!Array.isArray(P)||!Array.isArray(we)||!Qa(Te)||typeof Ge!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Xu(Z,me),Je=we[0],_t=we[1],Rt=P.length,mn=Z,cn=me,Tt=0;Tt<Rt;Tt++)($t=P[Tt]).length===2?(mn=$t[0]*Je+mn,cn=$t[1]*_t+cn,gd(mn,cn)):(Qt=$t[0]*Je+mn,Dr=$t[1]*_t+cn,ln=$t[2]*Je+mn,wr=$t[3]*_t+cn,mn=$t[4]*Je+mn,cn=$t[5]*_t+cn,ka(Qt,Dr,ln,wr,mn,cn));return Ge&&md(),hl(Te),this},h.path=function(P){for(var Z=0;Z<P.length;Z++){var me=P[Z],we=me.c;switch(me.op){case"m":Xu(we[0],we[1]);break;case"l":gd(we[0],we[1]);break;case"c":ka.apply(this,we);break;case"h":md()}}return this},h.__private__.rect=h.rect=function(P,Z,me,we,Te){if(isNaN(P)||isNaN(Z)||isNaN(me)||isNaN(we)||!Qa(Te))throw new Error("Invalid arguments passed to jsPDF.rect");return _===v&&(we=-we),X([O(T(P)),O(B(Z)),O(T(me)),O(T(we)),"re"].join(" ")),hl(Te),this},h.__private__.triangle=h.triangle=function(P,Z,me,we,Te,Ge,Je){if(isNaN(P)||isNaN(Z)||isNaN(me)||isNaN(we)||isNaN(Te)||isNaN(Ge)||!Qa(Je))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[me-P,we-Z],[Te-me,Ge-we],[P-Te,Z-Ge]],P,Z,[1,1],Je,!0),this},h.__private__.roundedRect=h.roundedRect=function(P,Z,me,we,Te,Ge,Je){if(isNaN(P)||isNaN(Z)||isNaN(me)||isNaN(we)||isNaN(Te)||isNaN(Ge)||!Qa(Je))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var _t=4/3*(Math.SQRT2-1);return Te=Math.min(Te,.5*me),Ge=Math.min(Ge,.5*we),this.lines([[me-2*Te,0],[Te*_t,0,Te,Ge-Ge*_t,Te,Ge],[0,we-2*Ge],[0,Ge*_t,-Te*_t,Ge,-Te,Ge],[2*Te-me,0],[-Te*_t,0,-Te,-Ge*_t,-Te,-Ge],[0,2*Ge-we],[0,-Ge*_t,Te*_t,-Ge,Te,-Ge]],P+Te,Z,[1,1],Je,!0),this},h.__private__.ellipse=h.ellipse=function(P,Z,me,we,Te){if(isNaN(P)||isNaN(Z)||isNaN(me)||isNaN(we)||!Qa(Te))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ge=4/3*(Math.SQRT2-1)*me,Je=4/3*(Math.SQRT2-1)*we;return Xu(P+me,Z),ka(P+me,Z-Je,P+Ge,Z-we,P,Z-we),ka(P-Ge,Z-we,P-me,Z-Je,P-me,Z),ka(P-me,Z+Je,P-Ge,Z+we,P,Z+we),ka(P+Ge,Z+we,P+me,Z+Je,P+me,Z),hl(Te),this},h.__private__.circle=h.circle=function(P,Z,me,we){if(isNaN(P)||isNaN(Z)||isNaN(me)||!Qa(we))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(P,Z,me,me,we)},h.setFont=function(P,Z,me){return me&&(Z=A(Z,me)),We=so(P,Z,{disableWarning:!1}),this};var q1=h.__private__.getFont=h.getFont=function(){return Nt[so.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var P,Z,me={};for(P in mt)if(mt.hasOwnProperty(P))for(Z in me[P]=[],mt[P])mt[P].hasOwnProperty(Z)&&me[P].push(Z);return me},h.addFont=function(P,Z,me,we,Te){var Ge=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ge.indexOf(arguments[3])!==-1?Te=arguments[3]:arguments[3]&&Ge.indexOf(arguments[3])==-1&&(me=A(me,we)),vr.call(this,P,Z,me,Te=Te||"Identity-H")};var dl,Zu=e.lineWidth||.200025,$1=h.__private__.getLineWidth=h.getLineWidth=function(){return Zu},Dt=h.__private__.setLineWidth=h.setLineWidth=function(P){return Zu=P,X(O(T(P))+" w"),this};h.__private__.setLineDash=Ct.API.setLineDash=Ct.API.setLineDashPattern=function(P,Z){if(P=P||[],Z=Z||0,isNaN(Z)||!Array.isArray(P))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return P=P.map(function(me){return O(T(me))}).join(" "),Z=O(T(Z)),X("["+P+"] "+Z+" d"),this};var z1=h.__private__.getLineHeight=h.getLineHeight=function(){return xe*dl};h.__private__.getLineHeight=h.getLineHeight=function(){return xe*dl};var H1=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(P){return typeof(P=P||1.15)=="number"&&(dl=P),this},W1=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return dl};H1(e.lineHeight);var ws=h.__private__.getHorizontalCoordinate=function(P){return T(P)},Ns=h.__private__.getVerticalCoordinate=function(P){return _===b?P:St[I].mediaBox.topRightY-St[I].mediaBox.bottomLeftY-T(P)},V1=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(P){return O(ws(P))},G1=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(P){return O(Ns(P))},vc=e.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return pe(vc)},h.__private__.setStrokeColor=h.setDrawColor=function(P,Z,me,we){return vc=ge({ch1:P,ch2:Z,ch3:me,ch4:we,pdfColorType:"draw",precision:2}),X(vc),this};var Ju=e.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return pe(Ju)},h.__private__.setFillColor=h.setFillColor=function(P,Z,me,we){return Ju=ge({ch1:P,ch2:Z,ch3:me,ch4:we,pdfColorType:"fill",precision:2}),X(Ju),this};var pl=e.textColor||"0 g",K1=h.__private__.getTextColor=h.getTextColor=function(){return pe(pl)};h.__private__.setTextColor=h.setTextColor=function(P,Z,me,we){return pl=ge({ch1:P,ch2:Z,ch3:me,ch4:we,pdfColorType:"text",precision:3}),this};var Ss=e.charSpace,Y1=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(Ss||0)};h.__private__.setCharSpace=h.setCharSpace=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ss=P,this};var Qu=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(P){var Z=h.CapJoinStyles[P];if(Z===void 0)throw new Error("Line cap style of '"+P+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Qu=Z,X(Z+" J"),this};var ef=0;h.__private__.setLineJoin=h.setLineJoin=function(P){var Z=h.CapJoinStyles[P];if(Z===void 0)throw new Error("Line join style of '"+P+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ef=Z,X(Z+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(P){if(P=P||0,isNaN(P))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return X(O(T(P))+" M"),this},h.GState=Hp,h.setGState=function(P){(P=typeof P=="string"?gt[Ot[P]]:vd(null,P)).equals(sr)||(X("/"+P.id+" gs"),sr=P)};var vd=function(P,Z){if(!P||!Ot[P]){var me=!1;for(var we in gt)if(gt.hasOwnProperty(we)&&gt[we].equals(Z)){me=!0;break}if(me)Z=gt[we];else{var Te="GS"+(Object.keys(gt).length+1).toString(10);gt[Te]=Z,Z.id=Te}return P&&(Ot[P]=Z.id),rr.publish("addGState",Z),Z}};h.addGState=function(P,Z){return vd(P,Z),this},h.saveGraphicsState=function(){return X("q"),wt.push({key:We,size:xe,color:pl}),this},h.restoreGraphicsState=function(){X("Q");var P=wt.pop();return We=P.key,xe=P.size,pl=P.color,sr=null,this},h.setCurrentTransformationMatrix=function(P){return X(P.toString()+" cm"),this},h.comment=function(P){return X("#"+P),this};var ks=function(P,Z){var me=P||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return me},set:function(Ge){isNaN(Ge)||(me=parseFloat(Ge))}});var we=Z||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return we},set:function(Ge){isNaN(Ge)||(we=parseFloat(Ge))}});var Te="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Te},set:function(Ge){Te=Ge.toString()}}),this},tf=function(P,Z,me,we){ks.call(this,P,Z),this.type="rect";var Te=me||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Te},set:function(Je){isNaN(Je)||(Te=parseFloat(Je))}});var Ge=we||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ge},set:function(Je){isNaN(Je)||(Ge=parseFloat(Je))}}),this},xc=function(){this.page=qt,this.currentPage=I,this.pages=oe.slice(0),this.pagesContext=St.slice(0),this.x=$e,this.y=At,this.matrix=ot,this.width=nf(I),this.height=yd(I),this.outputDestination=Ne,this.id="",this.objectNumber=-1};xc.prototype.restore=function(){qt=this.page,I=this.currentPage,St=this.pagesContext,oe=this.pages,$e=this.x,At=this.y,ot=this.matrix,xd(I,this.width),Es(I,this.height),Ne=this.outputDestination};var rf=function(P,Z,me,we,Te){na.push(new xc),qt=I=0,oe=[],$e=P,At=Z,ot=Te,qr([me,we])};for(var ml in h.beginFormObject=function(P,Z,me,we,Te){return rf(P,Z,me,we,Te),this},h.endFormObject=function(P){return function(Z){if(ba[Z])na.pop().restore();else{var me=new xc,we="Xo"+(Object.keys(kn).length+1).toString(10);me.id=we,ba[Z]=we,kn[we]=me,rr.publish("addFormObject",me),na.pop().restore()}}(P),this},h.doFormObject=function(P,Z){var me=kn[ba[P]];return X("q"),X(Z.toString()+" cm"),X("/"+me.id+" Do"),X("Q"),this},h.getFormObject=function(P){var Z=kn[ba[P]];return{x:Z.x,y:Z.y,width:Z.width,height:Z.height,matrix:Z.matrix}},h.save=function(P,Z){return P=P||"generated.pdf",(Z=Z||{}).returnPromise=Z.returnPromise||!1,Z.returnPromise===!1?(Ll(mc(Ja()),P),typeof Ll.unload=="function"&&It.setTimeout&&setTimeout(Ll.unload,911),this):new Promise(function(me,we){try{var Te=Ll(mc(Ja()),P);typeof Ll.unload=="function"&&It.setTimeout&&setTimeout(Ll.unload,911),me(Te)}catch(Ge){we(Ge.message)}})},Ct.API)Ct.API.hasOwnProperty(ml)&&(ml==="events"&&Ct.API.events.length?function(P,Z){var me,we,Te;for(Te=Z.length-1;Te!==-1;Te--)me=Z[Te][0],we=Z[Te][1],P.subscribe.apply(P,[me].concat(typeof we=="function"?[we]:we))}(rr,Ct.API.events):h[ml]=Ct.API[ml]);function nf(P){return St[P].mediaBox.topRightX-St[P].mediaBox.bottomLeftX}function xd(P,Z){St[P].mediaBox.topRightX=Z+St[P].mediaBox.bottomLeftX}function yd(P){return St[P].mediaBox.topRightY-St[P].mediaBox.bottomLeftY}function Es(P,Z){St[P].mediaBox.topRightY=Z+St[P].mediaBox.bottomLeftY}var As=h.getPageWidth=function(P){return nf(P=P||I)/Ye},_d=h.setPageWidth=function(P,Z){xd(P,Z*Ye)},gl=h.getPageHeight=function(P){return yd(P=P||I)/Ye},bd=h.setPageHeight=function(P,Z){Es(P,Z*Ye)};return h.internal={pdfEscape:Yt,getStyle:pd,getFont:q1,getFontSize:Be,getCharSpace:Y1,getTextColor:K1,getLineHeight:z1,getLineHeightFactor:W1,getLineWidth:$1,write:Ee,getHorizontalCoordinate:ws,getVerticalCoordinate:Ns,getCoordinateString:V1,getVerticalCoordinateString:G1,collections:{},newObject:Fr,newAdditionalObject:de,newObjectDeferred:an,newObjectDeferredBegin:ee,getFilters:Le,putStream:Ue,events:rr,scaleFactor:Ye,pageSize:{getWidth:function(){return As(I)},setWidth:function(P){_d(I,P)},getHeight:function(){return gl(I)},setHeight:function(P){bd(I,P)}},encryptionOptions:u,encryption:pn,getEncryptor:function(P){return u!==null?pn.encryptor(P,0):function(Z){return Z}},output:hd,getNumberOfPages:ia,get pages(){return oe},out:X,f2:N,f3:j,getPageInfo:bs,getPageInfoByObjId:dd,getCurrentPageInfo:R1,getPDFVersion:m,Point:ks,Rectangle:tf,Matrix:Pt,hasHotfix:aa},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return As(I)},set:function(P){_d(I,P)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return gl(I)},set:function(P){bd(I,P)},enumerable:!0,configurable:!0}),(function(P){for(var Z=0,me=be.length;Z<me;Z++){var we=vr.call(this,P[Z][0],P[Z][1],P[Z][2],be[Z][3],!0);d===!1&&(p[we]=!0);var Te=P[Z][0].split("-");Ft({id:we,fontName:Te[0],fontStyle:Te[1]||""})}rr.publish("addFonts",{fonts:Nt,dictionary:mt})}).call(h,be),We="F1",Xa(i,r),rr.publish("initialized"),h}Uc.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Uc.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Uc.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},Uc.prototype.processOwnerPassword=function(e,t){return l2(o2(t).substr(0,5),e)},Uc.prototype.encryptor=function(e,t){var r=o2(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return l2(r,n)}},Hp.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||dr(e)!==dr(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},Ct.API={events:[]},Ct.version="3.0.4";var Hr=Ct.API,Kx=1,dc=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ic=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Mt=function(e){return e.toFixed(2)},Ao=function(e){return e.toFixed(5)};Hr.__acroform__={};var Pi=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},Cw=function(e){return e*Kx},ls=function(e){var t=new zk,r=yt.internal.getHeight(e)||0,n=yt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Mt(n)),Number(Mt(r))],t},fG=Hr.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},hG=Hr.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},dG=Hr.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Qr=Hr.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return dG(e,t-1)},en=Hr.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return fG(e,t-1)},tn=Hr.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return hG(e,t-1)},pG=Hr.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,i=e[0],a=e[1],s=e[2],o=e[3],l={};return l.lowerLeft_X=r(i)||0,l.lowerLeft_Y=n(a+o)||0,l.upperRight_X=r(i+s)||0,l.upperRight_Y=n(a)||0,[Number(Mt(l.lowerLeft_X)),Number(Mt(l.lowerLeft_Y)),Number(Mt(l.upperRight_X)),Number(Mt(l.upperRight_Y))]},mG=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=c2(e,r),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+Mt(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=ls(e);return a.scope=e.scope,a.stream=t.join(`
`),a}},c2=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(N){return N.split(`
`)}):i.map(function(N){return[N]});var a=r,s=yt.internal.getHeight(e)||0;s=s<0?-s:s;var o=yt.internal.getWidth(e)||0;o=o<0?-o:o;var l=function(N,j,T){if(N+1<i.length){var B=j+" "+i[N+1][0];return S0(B,e,T).width<=o-4}return!1};a++;e:for(;a>0;){t="",a--;var c,u,d=S0("3",e,a).height,p=e.multiline?s-a:(s-d)/2,h=p+=2,y=0,m=0,x=0;if(a<=0){t=`(...) Tj
`,t+="% Width of Text: "+S0(t,e,a=12).width+", FieldWidth:"+o+`
`;break}for(var g="",v=0,b=0;b<i.length;b++)if(i.hasOwnProperty(b)){var _=!1;if(i[b].length!==1&&x!==i[b].length-1){if((d+2)*(v+2)+2>s)continue e;g+=i[b][x],_=!0,m=b,b--}else{g=(g+=i[b][x]+" ").substr(g.length-1)==" "?g.substr(0,g.length-1):g;var E=parseInt(b),F=l(E,g,a),A=b>=i.length-1;if(F&&!A){g+=" ",x=0;continue}if(F||A){if(A)m=E;else if(e.multiline&&(d+2)*(v+2)+2>s)continue e}else{if(!e.multiline||(d+2)*(v+2)+2>s)continue e;m=E}}for(var O="",C=y;C<=m;C++){var L=i[C];if(e.multiline){if(C===m){O+=L[x]+" ",x=(x+1)%L.length;continue}if(C===y){O+=L[L.length-1]+" ";continue}}O+=L[0]+" "}switch(O=O.substr(O.length-1)==" "?O.substr(0,O.length-1):O,u=S0(O,e,a).width,e.textAlign){case"right":c=o-u-2;break;case"center":c=(o-u)/2;break;default:c=2}t+=Mt(c)+" "+Mt(h)+` Td
`,t+="("+dc(O)+`) Tj
`,t+=-Mt(c)+` 0 Td
`,h=-(a+2),u=0,y=_?m:m+1,v++,g=""}break}return n.text=t,n.fontSize=a,n},S0=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},gG={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},vG=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},xG=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Ka.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(gG)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Kx=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new Hk,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var a=n[i];a.objId=void 0,a.hasAnnotation&&vG(a,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,i){var a=!n;for(var s in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var o=n[s],l=[],c=o.Rect;if(o.Rect&&(o.Rect=pG(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=yt.createDefaultAppearanceStream(o),dr(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var u=mG(o);l.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(o.appearanceStreamContent){var d="";for(var p in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(p)){var h=o.appearanceStreamContent[p];if(d+="/"+p+" ",d+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var s in h)if(h.hasOwnProperty(s)){var y=h[s];typeof y=="function"&&(y=y.call(i,o)),d+="/"+s+" "+y+" ",i.internal.acroformPlugin.xForms.indexOf(y)>=0||i.internal.acroformPlugin.xForms.push(y)}}else typeof(y=h)=="function"&&(y=y.call(i,o)),d+="/"+s+" "+y,i.internal.acroformPlugin.xForms.indexOf(y)>=0||i.internal.acroformPlugin.xForms.push(y);d+=">>"}l.push({key:"AP",value:`<<
`+d+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}a&&function(m,x){for(var g in m)if(m.hasOwnProperty(g)){var v=g,b=m[g];x.internal.newObjectDeferredBegin(b.objId,!0),dr(b)==="object"&&typeof b.putStream=="function"&&b.putStream(),delete m[v]}}(i.internal.acroformPlugin.xForms,i)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},$k=Hr.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(s){return s};if(Array.isArray(e)){for(var i="[",a=0;a<e.length;a++)switch(a!==0&&(i+=" "),dr(e[a])){case"boolean":case"number":case"object":i+=e[a].toString();break;case"string":e[a].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),i+="("+dc(n(e[a].toString()))+")"):i+=e[a].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Tg=function(e,t,r){var n=function(i){return i};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+dc(n(e))+")"},ds=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ds.prototype.toString=function(){return this.objId+" 0 R"},ds.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},ds.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],i=this[n];i&&(Array.isArray(i)?e.push({key:n,value:$k(i,this.objId,this.scope)}):i instanceof ds?(i.scope=this.scope,e.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:n,value:i}))}return e};var zk=function(){ds.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Pi(zk,ds);var Hk=function(){ds.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+dc(r(e))+")"}},set:function(r){e=r}})};Pi(Hk,ds);var Ka=function e(){ds.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute F supplied.');t=g}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Qr(t,3)},set:function(g){g?this.F=en(t,3):this.F=tn(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute Ff supplied.');r=g}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(g){n=g!==void 0?g:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(g){n[0]=g}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(g){n[1]=g}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(g){n[2]=g}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(g){n[3]=g}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(g){switch(g){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=g;break;default:throw new Error('Invalid value "'+g+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof Wp)return;a="FieldObject"+e.FieldNum++}var g=function(v){return v};return this.scope&&(g=this.scope.internal.getEncryptor(this.objId)),"("+dc(g(a))+")"},set:function(g){a=g.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(g){a=g}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(g){s=g}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(g){o=g}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(g){l=g}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/Kx:c},set:function(g){c=g}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(g){u=g}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof Wp||this instanceof Vl))return Tg(d,this.objId,this.scope)},set:function(g){g=g.toString(),d=g}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Tn==0?Tg(p,this.objId,this.scope):p},set:function(g){g=g.toString(),p=this instanceof Tn==0?g.substr(0,1)==="("?Ic(g.substr(1,g.length-2)):Ic(g):g}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Tn==1?Ic(p.substr(1,p.length-1)):p},set:function(g){g=g.toString(),p=this instanceof Tn==1?"/"+g:g}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(g){this.V=g}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Tn==0?Tg(h,this.objId,this.scope):h},set:function(g){g=g.toString(),h=this instanceof Tn==0?g.substr(0,1)==="("?Ic(g.substr(1,g.length-2)):Ic(g):g}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Tn==1?Ic(h.substr(1,h.length-1)):h},set:function(g){g=g.toString(),h=this instanceof Tn==1?"/"+g:g}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m},set:function(g){g=!!g,m=g}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(g){y=g}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,1)},set:function(g){g?this.Ff=en(this.Ff,1):this.Ff=tn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,2)},set:function(g){g?this.Ff=en(this.Ff,2):this.Ff=tn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,3)},set:function(g){g?this.Ff=en(this.Ff,3):this.Ff=tn(this.Ff,3)}});var x=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(x!==null)return x},set:function(g){if([0,1,2].indexOf(g)===-1)throw new Error('Invalid value "'+g+'" for attribute Q supplied.');x=g}}),Object.defineProperty(this,"textAlign",{get:function(){var g;switch(x){case 0:default:g="left";break;case 1:g="center";break;case 2:g="right"}return g},configurable:!0,enumerable:!0,set:function(g){switch(g){case"right":case 2:x=2;break;case"center":case 1:x=1;break;default:x=0}}})};Pi(Ka,ds);var pu=function(){Ka.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return $k(t,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(a,s,o){o||(o=1);for(var l,c=[];l=s.exec(a);)c.push(l[o]);return c}(n,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,18)},set:function(r){r?this.Ff=en(this.Ff,18):this.Ff=tn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=en(this.Ff,19):this.Ff=tn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,20)},set:function(r){r?(this.Ff=en(this.Ff,20),t.sort()):this.Ff=tn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,22)},set:function(r){r?this.Ff=en(this.Ff,22):this.Ff=tn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,23)},set:function(r){r?this.Ff=en(this.Ff,23):this.Ff=tn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,27)},set:function(r){r?this.Ff=en(this.Ff,27):this.Ff=tn(this.Ff,27)}}),this.hasAppearanceStream=!1};Pi(pu,Ka);var mu=function(){pu.call(this),this.fontName="helvetica",this.combo=!1};Pi(mu,pu);var gu=function(){mu.call(this),this.combo=!0};Pi(gu,mu);var H0=function(){gu.call(this),this.edit=!0};Pi(H0,gu);var Tn=function(){Ka.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,15)},set:function(r){r?this.Ff=en(this.Ff,15):this.Ff=tn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,16)},set:function(r){r?this.Ff=en(this.Ff,16):this.Ff=tn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,17)},set:function(r){r?this.Ff=en(this.Ff,17):this.Ff=tn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,26)},set:function(r){r?this.Ff=en(this.Ff,26):this.Ff=tn(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,i=[];for(n in i.push("<<"),t)i.push("/"+n+" ("+dc(r(t[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){dr(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Pi(Tn,Ka);var W0=function(){Tn.call(this),this.pushButton=!0};Pi(W0,Tn);var vu=function(){Tn.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Pi(vu,Tn);var Wp=function(){var e,t;Ka.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,s=[];for(a in s.push("<<"),n)s.push("/"+a+" ("+dc(i(n[a]))+")");return s.push(">>"),s.join(`
`)},set:function(i){dr(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=yt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Pi(Wp,Ka),vu.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},vu.prototype.createOption=function(e){var t=new Wp;return t.Parent=this,t.optionName=e,this.Kids.push(t),yG.call(this.scope,t),t};var V0=function(){Tn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=yt.CheckBox.createAppearanceStream()};Pi(V0,Tn);var Vl=function(){Ka.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,13)},set:function(t){t?this.Ff=en(this.Ff,13):this.Ff=tn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,21)},set:function(t){t?this.Ff=en(this.Ff,21):this.Ff=tn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,23)},set:function(t){t?this.Ff=en(this.Ff,23):this.Ff=tn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,24)},set:function(t){t?this.Ff=en(this.Ff,24):this.Ff=tn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,25)},set:function(t){t?this.Ff=en(this.Ff,25):this.Ff=tn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,26)},set:function(t){t?this.Ff=en(this.Ff,26):this.Ff=tn(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Pi(Vl,Ka);var G0=function(){Vl.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,14)},set:function(e){e?this.Ff=en(this.Ff,14):this.Ff=tn(this.Ff,14)}}),this.password=!0};Pi(G0,Vl);var yt={CheckBox:{createAppearanceStream:function(){return{N:{On:yt.CheckBox.YesNormal},D:{On:yt.CheckBox.YesPushDown,Off:yt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=ls(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),a=c2(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+Mt(yt.internal.getWidth(e))+" "+Mt(yt.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Mt(a.fontSize)+" Tf "+i),r.push("BT"),r.push(a.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=ls(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),i=[],a=yt.internal.getHeight(e),s=yt.internal.getWidth(e),o=c2(e,e.caption);return i.push("1 g"),i.push("0 0 "+Mt(s)+" "+Mt(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Mt(s-1)+" "+Mt(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+Mt(o.fontSize)+" Tf "+n),i.push(o.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=ls(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Mt(yt.internal.getWidth(e))+" "+Mt(yt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:yt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=yt.RadioButton.Circle.YesNormal,t.D[e]=yt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=ls(e);t.scope=e.scope;var r=[],n=yt.internal.getWidth(e)<=yt.internal.getHeight(e)?yt.internal.getWidth(e)/4:yt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=yt.internal.Bezier_C,a=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Ao(yt.internal.getWidth(e)/2)+" "+Ao(yt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=ls(e);t.scope=e.scope;var r=[],n=yt.internal.getWidth(e)<=yt.internal.getHeight(e)?yt.internal.getWidth(e)/4:yt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*yt.internal.Bezier_C).toFixed(5)),s=Number((n*yt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Ao(yt.internal.getWidth(e)/2)+" "+Ao(yt.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Ao(yt.internal.getWidth(e)/2)+" "+Ao(yt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=ls(e);t.scope=e.scope;var r=[],n=yt.internal.getWidth(e)<=yt.internal.getHeight(e)?yt.internal.getWidth(e)/4:yt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*yt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Ao(yt.internal.getWidth(e)/2)+" "+Ao(yt.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:yt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=yt.RadioButton.Cross.YesNormal,t.D[e]=yt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=ls(e);t.scope=e.scope;var r=[],n=yt.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+Mt(yt.internal.getWidth(e)-2)+" "+Mt(yt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Mt(n.x1.x)+" "+Mt(n.x1.y)+" m"),r.push(Mt(n.x2.x)+" "+Mt(n.x2.y)+" l"),r.push(Mt(n.x4.x)+" "+Mt(n.x4.y)+" m"),r.push(Mt(n.x3.x)+" "+Mt(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=ls(e);t.scope=e.scope;var r=yt.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+Mt(yt.internal.getWidth(e))+" "+Mt(yt.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Mt(yt.internal.getWidth(e)-2)+" "+Mt(yt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Mt(r.x1.x)+" "+Mt(r.x1.y)+" m"),n.push(Mt(r.x2.x)+" "+Mt(r.x2.y)+" l"),n.push(Mt(r.x4.x)+" "+Mt(r.x4.y)+" m"),n.push(Mt(r.x3.x)+" "+Mt(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=ls(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Mt(yt.internal.getWidth(e))+" "+Mt(yt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};yt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=yt.internal.getWidth(e),r=yt.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},yt.internal.getWidth=function(e){var t=0;return dr(e)==="object"&&(t=Cw(e.Rect[2])),t},yt.internal.getHeight=function(e){var t=0;return dr(e)==="object"&&(t=Cw(e.Rect[3])),t};var yG=Hr.addField=function(e){if(xG(this,e),!(e instanceof Ka))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Hr.AcroFormChoiceField=pu,Hr.AcroFormListBox=mu,Hr.AcroFormComboBox=gu,Hr.AcroFormEditBox=H0,Hr.AcroFormButton=Tn,Hr.AcroFormPushButton=W0,Hr.AcroFormRadioButton=vu,Hr.AcroFormCheckBox=V0,Hr.AcroFormTextField=Vl,Hr.AcroFormPasswordField=G0,Hr.AcroFormAppearance=yt,Hr.AcroForm={ChoiceField:pu,ListBox:mu,ComboBox:gu,EditBox:H0,Button:Tn,PushButton:W0,RadioButton:vu,CheckBox:V0,TextField:Vl,PasswordField:G0,Appearance:yt},Ct.AcroForm={ChoiceField:pu,ListBox:mu,ComboBox:gu,EditBox:H0,Button:Tn,PushButton:W0,RadioButton:vu,CheckBox:V0,TextField:Vl,PasswordField:G0,Appearance:yt};function Wk(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=e.__addimage__.getImageFileTypeByImageData=function(N,j){var T,B,z,Q,ne,ie=r;if((j=j||r)==="RGBA"||N.data!==void 0&&N.data instanceof Uint8ClampedArray&&"height"in N&&"width"in N)return"RGBA";if(F(N))for(ne in n)for(z=n[ne],T=0;T<z.length;T+=1){for(Q=!0,B=0;B<z[T].length;B+=1)if(z[T][B]!==void 0&&z[T][B]!==N[B]){Q=!1;break}if(Q===!0){ie=ne;break}}else for(ne in n)for(z=n[ne],T=0;T<z.length;T+=1){for(Q=!0,B=0;B<z[T].length;B+=1)if(z[T][B]!==void 0&&z[T][B]!==N.charCodeAt(B)){Q=!1;break}if(Q===!0){ie=ne;break}}return ie===r&&j!==r&&(ie=j),ie},a=function N(j){for(var T=this.internal.write,B=this.internal.putStream,z=(0,this.internal.getFilters)();z.indexOf("FlateEncode")!==-1;)z.splice(z.indexOf("FlateEncode"),1);j.objectId=this.internal.newObject();var Q=[];if(Q.push({key:"Type",value:"/XObject"}),Q.push({key:"Subtype",value:"/Image"}),Q.push({key:"Width",value:j.width}),Q.push({key:"Height",value:j.height}),j.colorSpace===g.INDEXED?Q.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(j.palette.length/3-1)+" "+("sMask"in j&&j.sMask!==void 0?j.objectId+2:j.objectId+1)+" 0 R]"}):(Q.push({key:"ColorSpace",value:"/"+j.colorSpace}),j.colorSpace===g.DEVICE_CMYK&&Q.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Q.push({key:"BitsPerComponent",value:j.bitsPerComponent}),"decodeParameters"in j&&j.decodeParameters!==void 0&&Q.push({key:"DecodeParms",value:"<<"+j.decodeParameters+">>"}),"transparency"in j&&Array.isArray(j.transparency)&&j.transparency.length>0){for(var ne="",ie=0,K=j.transparency.length;ie<K;ie++)ne+=j.transparency[ie]+" "+j.transparency[ie]+" ";Q.push({key:"Mask",value:"["+ne+"]"})}j.sMask!==void 0&&Q.push({key:"SMask",value:j.objectId+1+" 0 R"});var W=j.filter!==void 0?["/"+j.filter]:void 0;if(B({data:j.data,additionalKeyValues:Q,alreadyAppliedFilters:W,objectId:j.objectId}),T("endobj"),"sMask"in j&&j.sMask!==void 0){var q,k=(q=j.sMaskBitsPerComponent)!==null&&q!==void 0?q:j.bitsPerComponent,I={width:j.width,height:j.height,colorSpace:"DeviceGray",bitsPerComponent:k,data:j.sMask};"filter"in j&&(I.decodeParameters="/Predictor ".concat(j.predictor," /Colors 1 /BitsPerComponent ").concat(k," /Columns ").concat(j.width),I.filter=j.filter),N.call(this,I)}if(j.colorSpace===g.INDEXED){var M=this.internal.newObject();B({data:O(new Uint8Array(j.palette)),objectId:M}),T("endobj")}},s=function(){var N=this.internal.collections[t+"images"];for(var j in N)a.call(this,N[j])},o=function(){var N,j=this.internal.collections[t+"images"],T=this.internal.write;for(var B in j)T("/I"+(N=j[B]).index,N.objectId,"0","R")},l=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var N=this.internal.collections[t+"images"];return l.call(this),N},u=function(){return Object.keys(this.internal.collections[t+"images"]).length},d=function(N){return typeof e["process"+N.toUpperCase()]=="function"},p=function(N){return dr(N)==="object"&&N.nodeType===1},h=function(N,j){if(N.nodeName==="IMG"&&N.hasAttribute("src")){var T=""+N.getAttribute("src");if(T.indexOf("data:image/")===0)return z0(unescape(T).split("base64,").pop());var B=e.loadFile(T,!0);if(B!==void 0)return B}if(N.nodeName==="CANVAS"){if(N.width===0||N.height===0)throw new Error("Given canvas must have data. Canvas width: "+N.width+", height: "+N.height);var z;switch(j){case"PNG":z="image/png";break;case"WEBP":z="image/webp";break;default:z="image/jpeg"}return z0(N.toDataURL(z,1).split("base64,").pop())}},y=function(N){var j=this.internal.collections[t+"images"];if(j){for(var T in j)if(N===j[T].alias)return j[T]}},m=function(N,j,T){return N||j||(N=-96,j=-96),N<0&&(N=-1*T.width*72/N/this.internal.scaleFactor),j<0&&(j=-1*T.height*72/j/this.internal.scaleFactor),N===0&&(N=j*T.width/T.height),j===0&&(j=N*T.height/T.width),[N,j]},x=function(N,j,T,B,z,Q){var ne=m.call(this,T,B,z),ie=this.internal.getCoordinateString,K=this.internal.getVerticalCoordinateString,W=c.call(this);if(T=ne[0],B=ne[1],W[z.index]=z,Q){Q*=Math.PI/180;var q=Math.cos(Q),k=Math.sin(Q),I=function(U){return U.toFixed(4)},M=[I(q),I(k),I(-1*k),I(q),0,0,"cm"]}this.internal.write("q"),Q?(this.internal.write([1,"0","0",1,ie(N),K(j+B),"cm"].join(" ")),this.internal.write(M.join(" ")),this.internal.write([ie(T),"0","0",ie(B),"0","0","cm"].join(" "))):this.internal.write([ie(T),"0","0",ie(B),ie(N),K(j+B),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+z.index+" Do"),this.internal.write("Q")},g=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var v=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=e.__addimage__.sHashCode=function(N){var j,T,B=0;if(typeof N=="string")for(T=N.length,j=0;j<T;j++)B=(B<<5)-B+N.charCodeAt(j),B|=0;else if(F(N))for(T=N.byteLength/2,j=0;j<T;j++)B=(B<<5)-B+N[j],B|=0;return B},_=e.__addimage__.validateStringAsBase64=function(N){(N=N||"").toString().trim();var j=!0;return N.length===0&&(j=!1),N.length%4!=0&&(j=!1),/^[A-Za-z0-9+/]+$/.test(N.substr(0,N.length-2))===!1&&(j=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(N.substr(-2))===!1&&(j=!1),j},E=e.__addimage__.extractImageFromDataUrl=function(N){if(N==null||!(N=N.trim()).startsWith("data:"))return null;var j=N.indexOf(",");return j<0?null:N.substring(0,j).trim().endsWith("base64")?N.substring(j+1):null};e.__addimage__.isArrayBuffer=function(N){return N instanceof ArrayBuffer};var F=e.__addimage__.isArrayBufferView=function(N){return N instanceof Int8Array||N instanceof Uint8Array||N instanceof Uint8ClampedArray||N instanceof Int16Array||N instanceof Uint16Array||N instanceof Int32Array||N instanceof Uint32Array||N instanceof Float32Array||N instanceof Float64Array},A=e.__addimage__.binaryStringToUint8Array=function(N){for(var j=N.length,T=new Uint8Array(j),B=0;B<j;B++)T[B]=N.charCodeAt(B);return T},O=e.__addimage__.arrayBufferToBinaryString=function(N){for(var j="",T=F(N)?N:new Uint8Array(N),B=0;B<T.length;B+=8192)j+=String.fromCharCode.apply(null,T.subarray(B,B+8192));return j};e.addImage=function(){var N,j,T,B,z,Q,ne,ie,K;if(typeof arguments[1]=="number"?(j=r,T=arguments[1],B=arguments[2],z=arguments[3],Q=arguments[4],ne=arguments[5],ie=arguments[6],K=arguments[7]):(j=arguments[1],T=arguments[2],B=arguments[3],z=arguments[4],Q=arguments[5],ne=arguments[6],ie=arguments[7],K=arguments[8]),dr(N=arguments[0])==="object"&&!p(N)&&"imageData"in N){var W=N;N=W.imageData,j=W.format||j||r,T=W.x||T||0,B=W.y||B||0,z=W.w||W.width||z,Q=W.h||W.height||Q,ne=W.alias||ne,ie=W.compression||ie,K=W.rotation||W.angle||K}var q=this.internal.getFilters();if(ie===void 0&&q.indexOf("FlateEncode")!==-1&&(ie="SLOW"),isNaN(T)||isNaN(B))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var k=C.call(this,N,j,ne,ie);return x.call(this,T,B,z,Q,k,K),this};var C=function(N,j,T,B){var z,Q,ne;if(typeof N=="string"&&i(N)===r){N=unescape(N);var ie=L(N,!1);(ie!==""||(ie=e.loadFile(N,!0))!==void 0)&&(N=ie)}if(p(N)&&(N=h(N,j)),j=i(N,j),!d(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if(((ne=T)==null||ne.length===0)&&(T=function(K){return typeof K=="string"||F(K)?b(K):F(K.data)?b(K.data):null}(N)),(z=y.call(this,T))||(N instanceof Uint8Array||j==="RGBA"||(Q=N,N=A(N)),z=this["process"+j.toUpperCase()](N,u.call(this),T,function(K){return K&&typeof K=="string"&&(K=K.toUpperCase()),K in e.image_compression?K:v.NONE}(B),Q)),!z)throw new Error("An unknown error occurred whilst processing the image.");return z},L=e.__addimage__.convertBase64ToBinaryString=function(N,j){j=typeof j!="boolean"||j;var T,B="";if(typeof N=="string"){var z;T=(z=E(N))!==null&&z!==void 0?z:N;try{B=z0(T)}catch(Q){if(j)throw _(T)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Q.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return B};e.getImageProperties=function(N){var j,T,B="";if(p(N)&&(N=h(N)),typeof N=="string"&&i(N)===r&&((B=L(N,!1))===""&&(B=e.loadFile(N)||""),N=B),T=i(N),!d(T))throw new Error("addImage does not support files of type '"+T+"', please ensure that a plugin for '"+T+"' support is added.");if(N instanceof Uint8Array||(N=A(N)),!(j=this["process"+T.toUpperCase()](N)))throw new Error("An unknown error occurred whilst processing the image");return j.fileType=T,j}})(Ct.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Ct.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,i,a,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,u=!1,d=0;d<c.length&&!u;d++)switch((n=c[d]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var p=0;p<c.length;p++){n=c[p];var h=this.internal.pdfEscape,y=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var m=this.internal.newAdditionalObject(),x=this.internal.newAdditionalObject(),g=this.internal.getEncryptor(m.objId),v=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+h(g(n.contents))+")",a+=" /Popup "+x.objId+" 0 R",a+=" /P "+l.objId+" 0 R",a+=" /T ("+h(g(v))+") >>",m.content=a;var b=m.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+b,n.open&&(a+=" /Open true"),a+=" >>",x.content=a,this.internal.write(m.objId,"0 R",x.objId,"0 R");break;case"freetext":i="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var _=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+h(y(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+_+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var E=this.annotations._nameMap[n.options.name];n.options.pageNumber=E.page,n.options.top=E.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+h(y(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;default:var F=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+F+" "+n.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,i,a,s){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(r),y:c(n),w:l(r+i),h:c(n+a)},options:s,type:"link"})},e.textWithLink=function(r,n,i,a){var s,o,l=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){o=a.maxWidth;var u=this.splitTextToSize(r,o).length;s=Math.ceil(c*u)}else o=l,s=c;return this.text(r,n,i,a),i+=.2*c,a.align==="center"&&(n-=l/2),a.align==="right"&&(n-=l),this.link(n,i-c,o,s,a),l},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Ct.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(m){return t[m.charCodeAt(0)]!==void 0},s=e.__arabicParser__.isArabicLetter=function(m){return typeof m=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(m)},o=e.__arabicParser__.isArabicEndLetter=function(m){return s(m)&&a(m)&&t[m.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(m){return s(m)&&i.indexOf(m.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(m){return s(m)&&a(m)&&t[m.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(m){return s(m)&&a(m)&&t[m.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(m){return s(m)&&a(m)&&t[m.charCodeAt(0)].length>=3};var u=e.__arabicParser__.arabicLetterHasMedialForm=function(m){return s(m)&&a(m)&&t[m.charCodeAt(0)].length==4},d=e.__arabicParser__.resolveLigatures=function(m){var x=0,g=r,v="",b=0;for(x=0;x<m.length;x+=1)g[m.charCodeAt(x)]!==void 0?(b++,typeof(g=g[m.charCodeAt(x)])=="number"&&(v+=String.fromCharCode(g),g=r,b=0),x===m.length-1&&(g=r,v+=m.charAt(x-(b-1)),x-=b-1,b=0)):(g=r,v+=m.charAt(x-b),x-=b,b=0);return v};e.__arabicParser__.isArabicDiacritic=function(m){return m!==void 0&&n[m.charCodeAt(0)]!==void 0};var p=e.__arabicParser__.getCorrectForm=function(m,x,g){return s(m)?a(m)===!1?-1:!c(m)||!s(x)&&!s(g)||!s(g)&&o(x)||o(m)&&!s(x)||o(m)&&l(x)||o(m)&&o(x)?0:u(m)&&s(x)&&!o(x)&&s(g)&&c(g)?3:o(m)||!s(g)?1:2:-1},h=function(m){var x=0,g=0,v=0,b="",_="",E="",F=(m=m||"").split("\\s+"),A=[];for(x=0;x<F.length;x+=1){for(A.push(""),g=0;g<F[x].length;g+=1)b=F[x][g],_=F[x][g-1],E=F[x][g+1],s(b)?(v=p(b,_,E),A[x]+=v!==-1?String.fromCharCode(t[b.charCodeAt(0)][v]):b):A[x]+=b;A[x]=d(A[x])}return A.join(" ")},y=e.__arabicParser__.processArabic=e.processArabic=function(){var m,x=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,g=[];if(Array.isArray(x)){var v=0;for(g=[],v=0;v<x.length;v+=1)Array.isArray(x[v])?g.push([h(x[v][0]),x[v][1],x[v][2]]):g.push([h(x[v])]);m=g}else m=h(x);return typeof arguments[0]=="string"?m:(arguments[0].text=m,arguments[0])};e.events.push(["preProcessText",y])}(Ct.API),Ct.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(o){a=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Ct.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(m){l=m}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(m){c=m}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(m){u=m}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(m){d=m}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(m){p=m}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(m){h=m}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(m){y=m}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,c){n.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),d=c.font||this.getFont(),p=c.scaleFactor||this.internal.scaleFactor,h=0,y=0,m=0,x=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var g=c.maxWidth;g>0?typeof l=="string"?l=this.splitTextToSize(l,g):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(b,_){return b.concat(x.splitTextToSize(_,g))},[])):l=Array.isArray(l)?l:[l];for(var v=0;v<l.length;v++)h<(m=this.getStringUnitWidth(l[v],{font:d})*u)&&(h=m);return h!==0&&(y=l.length),{w:h/=p,h:Math.max((y*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/p,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=e.cell=function(){var l;l=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,d=this.internal.__cell__.margins||t,p=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=d.top,h&&p&&(this.printHeaderRow(l.lineNumber,!0),l.y+=p[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};e.table=function(l,c,u,d,p){if(n.call(this),!u)throw new Error("No data for PDF table.");var h,y,m,x,g=[],v=[],b=[],_={},E={},F=[],A=[],O=(p=p||{}).autoSize||!1,C=p.printHeaders!==!1,L=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,N=p.margins||Object.assign({width:this.getPageWidth()},t),j=typeof p.padding=="number"?p.padding:3,T=p.headerBackgroundColor||"#c8c8c8",B=p.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=C,this.internal.__cell__.margins=N,this.internal.__cell__.table_font_size=L,this.internal.__cell__.padding=j,this.internal.__cell__.headerBackgroundColor=T,this.internal.__cell__.headerTextColor=B,this.setFontSize(L),d==null)v=g=Object.keys(u[0]),b=g.map(function(){return"left"});else if(Array.isArray(d)&&dr(d[0])==="object")for(g=d.map(function(W){return W.name}),v=d.map(function(W){return W.prompt||W.name||""}),b=d.map(function(W){return W.align||"left"}),h=0;h<d.length;h+=1)E[d[h].name]=.7499990551181103*d[h].width;else Array.isArray(d)&&typeof d[0]=="string"&&(v=g=d,b=g.map(function(){return"left"}));if(O||Array.isArray(d)&&typeof d[0]=="string")for(h=0;h<g.length;h+=1){for(_[x=g[h]]=u.map(function(W){return W[x]}),this.setFont(void 0,"bold"),F.push(this.getTextDimensions(v[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=_[x],this.setFont(void 0,"normal"),m=0;m<y.length;m+=1)F.push(this.getTextDimensions(y[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);E[x]=Math.max.apply(null,F)+j+j,F=[]}if(C){var z={};for(h=0;h<g.length;h+=1)z[g[h]]={},z[g[h]].text=v[h],z[g[h]].align=b[h];var Q=o.call(this,z,E);A=g.map(function(W){return new a(l,c,E[W],Q,z[W].text,void 0,z[W].align)}),this.setTableHeaderRow(A),this.printHeaderRow(1,!1)}var ne=d.reduce(function(W,q){return W[q.name]=q.align,W},{});for(h=0;h<u.length;h+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:h,data:u[h]},this);var ie=o.call(this,u[h],E);for(m=0;m<g.length;m+=1){var K=u[h][g[m]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:h,col:m,data:K},this),s.call(this,new a(l,c,E[g[m]],ie,K,h+2,ne[g[m]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var u=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(l).map(function(h){var y=l[h];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,c[h]-u-u)},this).map(function(h){return this.getLineHeightFactor()*h.length*d/p+u+u},this).reduce(function(h,y){return Math.max(h,y)},0)};e.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){u=this.internal.__cell__.tableHeaderRow[h].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,p.push(u)),u.lineNumber=l;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,u),this.setTextColor(y)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),r=!1}}(Ct.API);var Vk={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Gk=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],u2=Wk(Gk),Kk=[100,200,300,400,500,600,700,800,900],_G=Wk(Kk);function jg(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(a){return Vk[a=a||"normal"]?a:"normal"}(e.style),n=function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400}(e.weight),i=function(a){return typeof u2[a=a||"normal"]=="number"?a:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,r,n].join(" ")}}}function Lw(e,t,r,n){var i;for(i=r;i>=0&&i<t.length;i+=n)if(e[t[i]])return e[t[i]];for(i=r;i>=0&&i<t.length;i-=n)if(e[t[i]])return e[t[i]]}var bG={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Pw={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Fw(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function Iw(e){return e.trimLeft()}function wG(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function NG(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var k0,Rw,Dw,Rc,E0,Mw,Bw,Uw,Og=["times"];function qw(e,t,r,n,i){var a=4,s=zw;switch(i){case Ct.API.image_compression.FAST:a=1,s=$w;break;case Ct.API.image_compression.MEDIUM:a=6,s=Hw;break;case Ct.API.image_compression.SLOW:a=9,s=Ww}e=function(l,c,u,d){for(var p,h=l.length/c,y=new Uint8Array(l.length+h),m=[SG,$w,zw,Hw,Ww],x=0;x<h;x+=1){var g=x*c,v=l.subarray(g,g+c);if(d)y.set(d(v,u,p),g+x);else{for(var b=m.length,_=[],E=0;E<b;E+=1)_[E]=m[E](v,u,p);var F=EG(_.concat());y.set(_[F],g+x)}p=v}return y}(e,t,Math.ceil(r*n/8),s);var o=Zv(e,{level:a});return Ct.API.__addimage__.arrayBufferToBinaryString(o)}function SG(e){var t=Array.apply([],e);return t.unshift(0),t}function $w(e,t){var r=e.length,n=[];n[0]=1;for(var i=0;i<r;i+=1){var a=e[i-t]||0;n[i+1]=e[i]-a+256&255}return n}function zw(e,t,r){var n=e.length,i=[];i[0]=2;for(var a=0;a<n;a+=1){var s=r&&r[a]||0;i[a+1]=e[a]-s+256&255}return i}function Hw(e,t,r){var n=e.length,i=[];i[0]=3;for(var a=0;a<n;a+=1){var s=e[a-t]||0,o=r&&r[a]||0;i[a+1]=e[a]+256-(s+o>>>1)&255}return i}function Ww(e,t,r){var n=e.length,i=[];i[0]=4;for(var a=0;a<n;a+=1){var s=kG(e[a-t]||0,r&&r[a]||0,r&&r[a-t]||0);i[a+1]=e[a]-s+256&255}return i}function kG(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),i=Math.abs(e-r),a=Math.abs(e+t-r-r);return n<=i&&n<=a?e:i<=a?t:r}function EG(e){var t=e.map(function(r){return r.reduce(function(n,i){return n+Math.abs(i)},0)});return t.indexOf(Math.min.apply(null,t))}function Cg(e,t,r){var n=t*r,i=Math.floor(n/8),a=16-(n-8*i+r),s=(1<<r)-1;return Yk(e,i)>>a&s}function Vw(e,t,r,n){var i=r*n,a=Math.floor(i/8),s=16-(i-8*a+n),o=(1<<n)-1,l=(t&o)<<s;(function(c,u,d){if(u+1<c.byteLength)c.setUint16(u,d,!1);else{var p=d>>8&255;c.setUint8(u,p)}})(e,a,Yk(e,a)&~(o<<s)&65535|l)}function Yk(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function AG(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,i=e[t++],a=i>>7,s=1<<1+(7&i);e[t++],e[t++];var o=null,l=null;a&&(o=t,l=s,t+=3*s);var c=!0,u=[],d=0,p=null,h=0,y=null;for(this.width=r,this.height=n;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,y=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((N=e[t++])>=0))throw Error("Invalid block size");if(N===0)break;t+=N}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var m=e[t++];d=e[t++]|e[t++]<<8,p=e[t++],1&m||(p=null),h=m>>2&7,t++;break;case 254:for(;;){if(!((N=e[t++])>=0))throw Error("Invalid block size");if(N===0)break;t+=N}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var x=e[t++]|e[t++]<<8,g=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,_=e[t++],E=_>>6&1,F=1<<1+(7&_),A=o,O=l,C=!1;_>>7&&(C=!0,A=t,O=F,t+=3*F);var L=t;for(t++;;){var N;if(!((N=e[t++])>=0))throw Error("Invalid block size");if(N===0)break;t+=N}u.push({x,y:g,width:v,height:b,has_local_palette:C,palette_offset:A,palette_size:O,data_offset:L,data_length:t-L,transparent_index:p,interlaced:!!E,delay:d,disposal:h});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return y},this.frameInfo=function(j){if(j<0||j>=u.length)throw new Error("Frame index out of range.");return u[j]},this.decodeAndBlitFrameBGRA=function(j,T){var B=this.frameInfo(j),z=B.width*B.height,Q=new Uint8Array(z);Gw(e,B.data_offset,Q,z);var ne=B.palette_offset,ie=B.transparent_index;ie===null&&(ie=256);var K=B.width,W=r-K,q=K,k=4*(B.y*r+B.x),I=4*((B.y+B.height)*r+B.x),M=k,U=4*W;B.interlaced===!0&&(U+=4*r*7);for(var R=8,G=0,te=Q.length;G<te;++G){var V=Q[G];if(q===0&&(q=K,(M+=U)>=I&&(U=4*W+4*r*(R-1),M=k+(K+W)*(R<<1),R>>=1)),V===ie)M+=4;else{var Y=e[ne+3*V],oe=e[ne+3*V+1],ve=e[ne+3*V+2];T[M++]=ve,T[M++]=oe,T[M++]=Y,T[M++]=255}--q}},this.decodeAndBlitFrameRGBA=function(j,T){var B=this.frameInfo(j),z=B.width*B.height,Q=new Uint8Array(z);Gw(e,B.data_offset,Q,z);var ne=B.palette_offset,ie=B.transparent_index;ie===null&&(ie=256);var K=B.width,W=r-K,q=K,k=4*(B.y*r+B.x),I=4*((B.y+B.height)*r+B.x),M=k,U=4*W;B.interlaced===!0&&(U+=4*r*7);for(var R=8,G=0,te=Q.length;G<te;++G){var V=Q[G];if(q===0&&(q=K,(M+=U)>=I&&(U=4*W+4*r*(R-1),M=k+(K+W)*(R<<1),R>>=1)),V===ie)M+=4;else{var Y=e[ne+3*V],oe=e[ne+3*V+1],ve=e[ne+3*V+2];T[M++]=Y,T[M++]=oe,T[M++]=ve,T[M++]=255}--q}}}function Gw(e,t,r,n){for(var i=e[t++],a=1<<i,s=a+1,o=s+1,l=i+1,c=(1<<l)-1,u=0,d=0,p=0,h=e[t++],y=new Int32Array(4096),m=null;;){for(;u<16&&h!==0;)d|=e[t++]<<u,u+=8,h===1?h=e[t++]:--h;if(u<l)break;var x=d&c;if(d>>=l,u-=l,x!==a){if(x===s)break;for(var g=x<o?x:m,v=0,b=g;b>a;)b=y[b]>>8,++v;var _=b;if(p+v+(g!==x?1:0)>n)return void br.log("Warning, gif stream longer than expected.");r[p++]=_;var E=p+=v;for(g!==x&&(r[p++]=_),b=g;v--;)b=y[b],r[--E]=255&b,b>>=8;m!==null&&o<4096&&(y[o++]=m<<8|_,o>=c+1&&l<12&&(++l,c=c<<1|1)),m=x}else o=s+1,c=(1<<(l=i+1))-1,m=null}return p!==n&&br.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Lg(e){var t,r,n,i,a,s=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(65535),p=new Array(65535),h=new Array(64),y=new Array(64),m=[],x=0,g=7,v=new Array(64),b=new Array(64),_=new Array(64),E=new Array(256),F=new Array(2048),A=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],O=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],C=[0,1,2,3,4,5,6,7,8,9,10,11],L=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],N=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],j=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],T=[0,1,2,3,4,5,6,7,8,9,10,11],B=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],z=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Q(k,I){for(var M=0,U=0,R=new Array,G=1;G<=16;G++){for(var te=1;te<=k[G];te++)R[I[U]]=[],R[I[U]][0]=M,R[I[U]][1]=G,U++,M++;M*=2}return R}function ne(k){for(var I=k[0],M=k[1]-1;M>=0;)I&1<<M&&(x|=1<<g),M--,--g<0&&(x==255?(ie(255),ie(0)):ie(x),g=7,x=0)}function ie(k){m.push(k)}function K(k){ie(k>>8&255),ie(255&k)}function W(k,I,M,U,R){for(var G,te=R[0],V=R[240],Y=function(xe,De){var Be,Ce,Xe,tt,ct,pt,bt,Ae,We,Ye,$e=0;for(We=0;We<8;++We){Be=xe[$e],Ce=xe[$e+1],Xe=xe[$e+2],tt=xe[$e+3],ct=xe[$e+4],pt=xe[$e+5],bt=xe[$e+6];var At=Be+(Ae=xe[$e+7]),ot=Be-Ae,Nt=Ce+bt,mt=Ce-bt,wt=Xe+pt,ht=Xe-pt,Bt=tt+ct,gt=tt-ct,Ot=At+Bt,sr=At-Bt,qt=Nt+wt,St=Nt-wt;xe[$e]=Ot+qt,xe[$e+4]=Ot-qt;var rr=.707106781*(St+sr);xe[$e+2]=sr+rr,xe[$e+6]=sr-rr;var _s=.382683433*((Ot=gt+ht)-(St=mt+ot)),kn=.5411961*Ot+_s,ba=1.306562965*St+_s,na=.707106781*(qt=ht+mt),Pt=ot+na,wa=ot-na;xe[$e+5]=wa+kn,xe[$e+3]=wa-kn,xe[$e+1]=Pt+ba,xe[$e+7]=Pt-ba,$e+=8}for($e=0,We=0;We<8;++We){Be=xe[$e],Ce=xe[$e+8],Xe=xe[$e+16],tt=xe[$e+24],ct=xe[$e+32],pt=xe[$e+40],bt=xe[$e+48];var Na=Be+(Ae=xe[$e+56]),Kn=Be-Ae,_i=Ce+bt,Fr=Ce-bt,an=Xe+pt,ee=Xe-pt,de=tt+ct,le=tt-ct,ue=Na+de,pe=Na-de,ge=_i+an,Le=_i-an;xe[$e]=ue+ge,xe[$e+32]=ue-ge;var Ue=.707106781*(Le+pe);xe[$e+16]=pe+Ue,xe[$e+48]=pe-Ue;var Pe=.382683433*((ue=le+ee)-(Le=Fr+Kn)),Fe=.5411961*ue+Pe,Me=1.306562965*Le+Pe,et=.707106781*(ge=ee+Fr),at=Kn+et,dt=Kn-et;xe[$e+40]=dt+Fe,xe[$e+24]=dt-Fe,xe[$e+8]=at+Me,xe[$e+56]=at-Me,$e++}for(We=0;We<64;++We)Ye=xe[We]*De[We],h[We]=Ye>0?Ye+.5|0:Ye-.5|0;return h}(k,I),oe=0;oe<64;++oe)y[A[oe]]=Y[oe];var ve=y[0]-M;M=y[0],ve==0?ne(U[0]):(ne(U[p[G=32767+ve]]),ne(d[G]));for(var Ne=63;Ne>0&&y[Ne]==0;)Ne--;if(Ne==0)return ne(te),M;for(var _e,X=1;X<=Ne;){for(var Ee=X;y[X]==0&&X<=Ne;)++X;var Oe=X-Ee;if(Oe>=16){_e=Oe>>4;for(var be=1;be<=_e;++be)ne(V);Oe&=15}G=32767+y[X],ne(R[(Oe<<4)+p[G]]),ne(d[G]),X++}return Ne!=63&&ne(te),M}function q(k){k=Math.min(Math.max(k,1),100),a!=k&&(function(I){for(var M=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],U=0;U<64;U++){var R=s((M[U]*I+50)/100);R=Math.min(Math.max(R,1),255),o[A[U]]=R}for(var G=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],te=0;te<64;te++){var V=s((G[te]*I+50)/100);V=Math.min(Math.max(V,1),255),l[A[te]]=V}for(var Y=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],oe=0,ve=0;ve<8;ve++)for(var Ne=0;Ne<8;Ne++)c[oe]=1/(o[A[oe]]*Y[ve]*Y[Ne]*8),u[oe]=1/(l[A[oe]]*Y[ve]*Y[Ne]*8),oe++}(k<50?Math.floor(5e3/k):Math.floor(200-2*k)),a=k)}this.encode=function(k,I){I&&q(I),m=new Array,x=0,g=7,K(65496),K(65504),K(16),ie(74),ie(70),ie(73),ie(70),ie(0),ie(1),ie(1),ie(0),K(1),K(1),ie(0),ie(0),function(){K(65499),K(132),ie(0);for(var Ce=0;Ce<64;Ce++)ie(o[Ce]);ie(1);for(var Xe=0;Xe<64;Xe++)ie(l[Xe])}(),function(Ce,Xe){K(65472),K(17),ie(8),K(Xe),K(Ce),ie(3),ie(1),ie(17),ie(0),ie(2),ie(17),ie(1),ie(3),ie(17),ie(1)}(k.width,k.height),function(){K(65476),K(418),ie(0);for(var Ce=0;Ce<16;Ce++)ie(O[Ce+1]);for(var Xe=0;Xe<=11;Xe++)ie(C[Xe]);ie(16);for(var tt=0;tt<16;tt++)ie(L[tt+1]);for(var ct=0;ct<=161;ct++)ie(N[ct]);ie(1);for(var pt=0;pt<16;pt++)ie(j[pt+1]);for(var bt=0;bt<=11;bt++)ie(T[bt]);ie(17);for(var Ae=0;Ae<16;Ae++)ie(B[Ae+1]);for(var We=0;We<=161;We++)ie(z[We])}(),K(65498),K(12),ie(3),ie(1),ie(0),ie(2),ie(17),ie(3),ie(17),ie(0),ie(63),ie(0);var M=0,U=0,R=0;x=0,g=7,this.encode.displayName="_encode_";for(var G,te,V,Y,oe,ve,Ne,_e,X,Ee=k.data,Oe=k.width,be=k.height,xe=4*Oe,De=0;De<be;){for(G=0;G<xe;){for(oe=xe*De+G,Ne=-1,_e=0,X=0;X<64;X++)ve=oe+(_e=X>>3)*xe+(Ne=4*(7&X)),De+_e>=be&&(ve-=xe*(De+1+_e-be)),G+Ne>=xe&&(ve-=G+Ne-xe+4),te=Ee[ve++],V=Ee[ve++],Y=Ee[ve++],v[X]=(F[te]+F[V+256|0]+F[Y+512|0]>>16)-128,b[X]=(F[te+768|0]+F[V+1024|0]+F[Y+1280|0]>>16)-128,_[X]=(F[te+1280|0]+F[V+1536|0]+F[Y+1792|0]>>16)-128;M=W(v,c,M,t,n),U=W(b,u,U,r,i),R=W(_,u,R,r,i),G+=32}De+=8}if(g>=0){var Be=[];Be[1]=g+1,Be[0]=(1<<g+1)-1,ne(Be)}return K(65497),new Uint8Array(m)},e=e||50,function(){for(var k=String.fromCharCode,I=0;I<256;I++)E[I]=k(I)}(),t=Q(O,C),r=Q(j,T),n=Q(L,N),i=Q(B,z),function(){for(var k=1,I=2,M=1;M<=15;M++){for(var U=k;U<I;U++)p[32767+U]=M,d[32767+U]=[],d[32767+U][1]=M,d[32767+U][0]=U;for(var R=-(I-1);R<=-k;R++)p[32767+R]=M,d[32767+R]=[],d[32767+R][1]=M,d[32767+R][0]=I-1+R;k<<=1,I<<=1}}(),function(){for(var k=0;k<256;k++)F[k]=19595*k,F[k+256|0]=38470*k,F[k+512|0]=7471*k+32768,F[k+768|0]=-11059*k,F[k+1024|0]=-21709*k,F[k+1280|0]=32768*k+8421375,F[k+1536|0]=-27439*k,F[k+1792|0]=-5329*k}(),q(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Pa(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Kw(e){function t(C){if(!C)throw Error("assert :P")}function r(C,L,N){for(var j=0;4>j;j++)if(C[L+j]!=N.charCodeAt(j))return!0;return!1}function n(C,L,N,j,T){for(var B=0;B<T;B++)C[L+B]=N[j+B]}function i(C,L,N,j){for(var T=0;T<j;T++)C[L+T]=N}function a(C){return new Int32Array(C)}function s(C,L){for(var N=[],j=0;j<C;j++)N.push(new L);return N}function o(C,L){var N=[];return function j(T,B,z){for(var Q=z[B],ne=0;ne<Q&&(T.push(z.length>B+1?[]:new L),!(z.length<B+1));ne++)j(T[ne],B+1,z)}(N,0,C),N}var l=function(){var C=this;function L(w,S){for(var D=1<<S-1>>>0;w&D;)D>>>=1;return D?(w&D-1)+D:w}function N(w,S,D,H,J){t(!(H%D));do w[S+(H-=D)]=J;while(0<H)}function j(w,S,D,H,J){if(t(2328>=J),512>=J)var re=a(512);else if((re=a(J))==null)return 0;return function(ae,se,ce,fe,Se,Re){var he,ke,je=se,He=1<<ce,Ie=a(16),Ve=a(16);for(t(Se!=0),t(fe!=null),t(ae!=null),t(0<ce),ke=0;ke<Se;++ke){if(15<fe[ke])return 0;++Ie[fe[ke]]}if(Ie[0]==Se)return 0;for(Ve[1]=0,he=1;15>he;++he){if(Ie[he]>1<<he)return 0;Ve[he+1]=Ve[he]+Ie[he]}for(ke=0;ke<Se;++ke)he=fe[ke],0<fe[ke]&&(Re[Ve[he]++]=ke);if(Ve[15]==1)return(fe=new T).g=0,fe.value=Re[0],N(ae,je,1,He,fe),He;var Ke,rt=-1,Qe=He-1,jt=0,xt=1,Ht=1,kt=1<<ce;for(ke=0,he=1,Se=2;he<=ce;++he,Se<<=1){if(xt+=Ht<<=1,0>(Ht-=Ie[he]))return 0;for(;0<Ie[he];--Ie[he])(fe=new T).g=he,fe.value=Re[ke++],N(ae,je+jt,Se,kt,fe),jt=L(jt,he)}for(he=ce+1,Se=2;15>=he;++he,Se<<=1){if(xt+=Ht<<=1,0>(Ht-=Ie[he]))return 0;for(;0<Ie[he];--Ie[he]){if(fe=new T,(jt&Qe)!=rt){for(je+=kt,Ke=1<<(rt=he)-ce;15>rt&&!(0>=(Ke-=Ie[rt]));)++rt,Ke<<=1;He+=kt=1<<(Ke=rt-ce),ae[se+(rt=jt&Qe)].g=Ke+ce,ae[se+rt].value=je-se-rt}fe.g=he-ce,fe.value=Re[ke++],N(ae,je+(jt>>ce),Se,kt,fe),jt=L(jt,he)}}return xt!=2*Ve[15]-1?0:He}(w,S,D,H,J,re)}function T(){this.value=this.g=0}function B(){this.value=this.g=0}function z(){this.G=s(5,T),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(wl,B)}function Q(w,S,D,H){t(w!=null),t(S!=null),t(2147483648>H),w.Ca=254,w.I=0,w.b=-8,w.Ka=0,w.oa=S,w.pa=D,w.Jd=S,w.Yc=D+H,w.Zc=4<=H?D+H-4+1:D,te(w)}function ne(w,S){for(var D=0;0<S--;)D|=Y(w,128)<<S;return D}function ie(w,S){var D=ne(w,S);return V(w)?-D:D}function K(w,S,D,H){var J,re=0;for(t(w!=null),t(S!=null),t(4294967288>H),w.Sb=H,w.Ra=0,w.u=0,w.h=0,4<H&&(H=4),J=0;J<H;++J)re+=S[D+J]<<8*J;w.Ra=re,w.bb=H,w.oa=S,w.pa=D}function W(w){for(;8<=w.u&&w.bb<w.Sb;)w.Ra>>>=8,w.Ra+=w.oa[w.pa+w.bb]<<uo-8>>>0,++w.bb,w.u-=8;U(w)&&(w.h=1,w.u=0)}function q(w,S){if(t(0<=S),!w.h&&S<=Ii){var D=M(w)&Fi[S];return w.u+=S,W(w),D}return w.h=1,w.u=0}function k(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function I(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function M(w){return w.Ra>>>(w.u&uo-1)>>>0}function U(w){return t(w.bb<=w.Sb),w.h||w.bb==w.Sb&&w.u>uo}function R(w,S){w.u=S,w.h=U(w)}function G(w){w.u>=Cs&&(t(w.u>=Cs),W(w))}function te(w){t(w!=null&&w.oa!=null),w.pa<w.Zc?(w.I=(w.oa[w.pa++]|w.I<<8)>>>0,w.b+=8):(t(w!=null&&w.oa!=null),w.pa<w.Yc?(w.b+=8,w.I=w.oa[w.pa++]|w.I<<8):w.Ka?w.b=0:(w.I<<=8,w.b+=8,w.Ka=1))}function V(w){return ne(w,1)}function Y(w,S){var D=w.Ca;0>w.b&&te(w);var H=w.b,J=D*S>>>8,re=(w.I>>>H>J)+0;for(re?(D-=J,w.I-=J+1<<H>>>0):D=J+1,H=D,J=0;256<=H;)J+=8,H>>=8;return H=7^J+fo[H],w.b-=H,w.Ca=(D<<H)-1,re}function oe(w,S,D){w[S+0]=D>>24&255,w[S+1]=D>>16&255,w[S+2]=D>>8&255,w[S+3]=255&D}function ve(w,S){return w[S+0]|w[S+1]<<8}function Ne(w,S){return ve(w,S)|w[S+2]<<16}function _e(w,S){return ve(w,S)|ve(w,S+2)<<16}function X(w,S){var D=1<<S;return t(w!=null),t(0<S),w.X=a(D),w.X==null?0:(w.Mb=32-S,w.Xa=S,1)}function Ee(w,S){t(w!=null),t(S!=null),t(w.Xa==S.Xa),n(S.X,0,w.X,0,1<<S.Xa)}function Oe(){this.X=[],this.Xa=this.Mb=0}function be(w,S,D,H){t(D!=null),t(H!=null);var J=D[0],re=H[0];return J==0&&(J=(w*re+S/2)/S),re==0&&(re=(S*J+w/2)/w),0>=J||0>=re?0:(D[0]=J,H[0]=re,1)}function xe(w,S){return w+(1<<S)-1>>>S}function De(w,S){return((4278255360&w)+(4278255360&S)>>>0&4278255360)+((16711935&w)+(16711935&S)>>>0&16711935)>>>0}function Be(w,S){C[S]=function(D,H,J,re,ae,se,ce){var fe;for(fe=0;fe<ae;++fe){var Se=C[w](se[ce+fe-1],J,re+fe);se[ce+fe]=De(D[H+fe],Se)}}}function Ce(){this.ud=this.hd=this.jd=0}function Xe(w,S){return((4278124286&(w^S))>>>1)+(w&S)>>>0}function tt(w){return 0<=w&&256>w?w:0>w?0:255<w?255:void 0}function ct(w,S){return tt(w+(w-S+.5>>1))}function pt(w,S,D){return Math.abs(S-D)-Math.abs(w-D)}function bt(w,S,D,H,J,re,ae){for(H=re[ae-1],D=0;D<J;++D)re[ae+D]=H=De(w[S+D],H)}function Ae(w,S,D,H,J){var re;for(re=0;re<D;++re){var ae=w[S+re],se=ae>>8&255,ce=16711935&(ce=(ce=16711935&ae)+((se<<16)+se));H[J+re]=(4278255360&ae)+ce>>>0}}function We(w,S){S.jd=255&w,S.hd=w>>8&255,S.ud=w>>16&255}function Ye(w,S,D,H,J,re){var ae;for(ae=0;ae<H;++ae){var se=S[D+ae],ce=se>>>8,fe=se,Se=255&(Se=(Se=se>>>16)+((w.jd<<24>>24)*(ce<<24>>24)>>>5));fe=255&(fe=(fe+=(w.hd<<24>>24)*(ce<<24>>24)>>>5)+((w.ud<<24>>24)*(Se<<24>>24)>>>5)),J[re+ae]=(4278255360&se)+(Se<<16)+fe}}function $e(w,S,D,H,J){C[S]=function(re,ae,se,ce,fe,Se,Re,he,ke){for(ce=Re;ce<he;++ce)for(Re=0;Re<ke;++Re)fe[Se++]=J(se[H(re[ae++])])},C[w]=function(re,ae,se,ce,fe,Se,Re){var he=8>>re.b,ke=re.Ea,je=re.K[0],He=re.w;if(8>he)for(re=(1<<re.b)-1,He=(1<<he)-1;ae<se;++ae){var Ie,Ve=0;for(Ie=0;Ie<ke;++Ie)Ie&re||(Ve=H(ce[fe++])),Se[Re++]=J(je[Ve&He]),Ve>>=he}else C["VP8LMapColor"+D](ce,fe,je,He,Se,Re,ae,se,ke)}}function At(w,S,D,H,J){for(D=S+D;S<D;){var re=w[S++];H[J++]=re>>16&255,H[J++]=re>>8&255,H[J++]=255&re}}function ot(w,S,D,H,J){for(D=S+D;S<D;){var re=w[S++];H[J++]=re>>16&255,H[J++]=re>>8&255,H[J++]=255&re,H[J++]=re>>24&255}}function Nt(w,S,D,H,J){for(D=S+D;S<D;){var re=(ae=w[S++])>>16&240|ae>>12&15,ae=240&ae|ae>>28&15;H[J++]=re,H[J++]=ae}}function mt(w,S,D,H,J){for(D=S+D;S<D;){var re=(ae=w[S++])>>16&248|ae>>13&7,ae=ae>>5&224|ae>>3&31;H[J++]=re,H[J++]=ae}}function wt(w,S,D,H,J){for(D=S+D;S<D;){var re=w[S++];H[J++]=255&re,H[J++]=re>>8&255,H[J++]=re>>16&255}}function ht(w,S,D,H,J,re){if(re==0)for(D=S+D;S<D;)oe(H,((re=w[S++])[0]>>24|re[1]>>8&65280|re[2]<<8&16711680|re[3]<<24)>>>0),J+=32;else n(H,J,w,S,D)}function Bt(w,S){C[S][0]=C[w+"0"],C[S][1]=C[w+"1"],C[S][2]=C[w+"2"],C[S][3]=C[w+"3"],C[S][4]=C[w+"4"],C[S][5]=C[w+"5"],C[S][6]=C[w+"6"],C[S][7]=C[w+"7"],C[S][8]=C[w+"8"],C[S][9]=C[w+"9"],C[S][10]=C[w+"10"],C[S][11]=C[w+"11"],C[S][12]=C[w+"12"],C[S][13]=C[w+"13"],C[S][14]=C[w+"0"],C[S][15]=C[w+"0"]}function gt(w){return w==J1||w==Q1||w==Od||w==em}function Ot(){this.eb=[],this.size=this.A=this.fb=0}function sr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function qt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ot,this.f.kb=new sr,this.sd=null}function St(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function rr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function _s(w){return alert("todo:WebPSamplerProcessPlane"),w.T}function kn(w,S){var D=w.T,H=S.ba.f.RGBA,J=H.eb,re=H.fb+w.ka*H.A,ae=ca[S.ba.S],se=w.y,ce=w.O,fe=w.f,Se=w.N,Re=w.ea,he=w.W,ke=S.cc,je=S.dc,He=S.Mc,Ie=S.Nc,Ve=w.ka,Ke=w.ka+w.T,rt=w.U,Qe=rt+1>>1;for(Ve==0?ae(se,ce,null,null,fe,Se,Re,he,fe,Se,Re,he,J,re,null,null,rt):(ae(S.ec,S.fc,se,ce,ke,je,He,Ie,fe,Se,Re,he,J,re-H.A,J,re,rt),++D);Ve+2<Ke;Ve+=2)ke=fe,je=Se,He=Re,Ie=he,Se+=w.Rc,he+=w.Rc,re+=2*H.A,ae(se,(ce+=2*w.fa)-w.fa,se,ce,ke,je,He,Ie,fe,Se,Re,he,J,re-H.A,J,re,rt);return ce+=w.fa,w.j+Ke<w.o?(n(S.ec,S.fc,se,ce,rt),n(S.cc,S.dc,fe,Se,Qe),n(S.Mc,S.Nc,Re,he,Qe),D--):1&Ke||ae(se,ce,null,null,fe,Se,Re,he,fe,Se,Re,he,J,re+H.A,null,null,rt),D}function ba(w,S,D){var H=w.F,J=[w.J];if(H!=null){var re=w.U,ae=S.ba.S,se=ae==jd||ae==Od;S=S.ba.f.RGBA;var ce=[0],fe=w.ka;ce[0]=w.T,w.Kb&&(fe==0?--ce[0]:(--fe,J[0]-=w.width),w.j+w.ka+w.T==w.o&&(ce[0]=w.o-w.j-fe));var Se=S.eb;fe=S.fb+fe*S.A,w=ny(H,J[0],w.width,re,ce,Se,fe+(se?0:3),S.A),t(D==ce),w&&gt(ae)&&gf(Se,fe,se,re,ce,S.A)}return 0}function na(w){var S=w.ma,D=S.ba.S,H=11>D,J=D==Ad||D==Td||D==jd||D==Z1||D==12||gt(D);if(S.memory=null,S.Ib=null,S.Jb=null,S.Nd=null,!lf(S.Oa,w,J?11:12))return 0;if(J&&gt(D)&&af(),w.da)alert("todo:use_scaling");else{if(H){if(S.Ib=_s,w.Kb){if(D=w.U+1>>1,S.memory=a(w.U+2*D),S.memory==null)return 0;S.ec=S.memory,S.fc=0,S.cc=S.ec,S.dc=S.fc+w.U,S.Mc=S.cc,S.Nc=S.dc+D,S.Ib=kn,af()}}else alert("todo:EmitYUV");J&&(S.Jb=ba,H&&Ea())}if(H&&!_y){for(w=0;256>w;++w)vE[w]=89858*(w-128)+Ld>>Cd,_E[w]=-22014*(w-128)+Ld,yE[w]=-45773*(w-128),xE[w]=113618*(w-128)+Ld>>Cd;for(w=xf;w<nm;++w)S=76283*(w-16)+Ld>>Cd,bE[w-xf]=sn(S,255),wE[w-xf]=sn(S+8>>4,15);_y=1}return 1}function Pt(w){var S=w.ma,D=w.U,H=w.T;return t(!(1&w.ka)),0>=D||0>=H?0:(D=S.Ib(w,S),S.Jb!=null&&S.Jb(w,S,D),S.Dc+=D,1)}function wa(w){w.ma.memory=null}function Na(w,S,D,H){return q(w,8)!=47?0:(S[0]=q(w,14)+1,D[0]=q(w,14)+1,H[0]=q(w,1),q(w,3)!=0?0:!w.h)}function Kn(w,S){if(4>w)return w+1;var D=w-2>>1;return(2+(1&w)<<D)+q(S,D)+1}function _i(w,S){return 120<S?S-120:1<=(D=((D=nE[S-1])>>4)*w+(8-(15&D)))?D:1;var D}function Fr(w,S,D){var H=M(D),J=w[S+=255&H].g-8;return 0<J&&(R(D,D.u+8),H=M(D),S+=w[S].value,S+=H&(1<<J)-1),R(D,D.u+w[S].g),w[S].value}function an(w,S,D){return D.g+=w.g,D.value+=w.value<<S>>>0,t(8>=D.g),w.g}function ee(w,S,D){var H=w.xc;return t((S=H==0?0:w.vc[w.md*(D>>H)+(S>>H)])<w.Wb),w.Ya[S]}function de(w,S,D,H){var J=w.ab,re=w.c*S,ae=w.C;S=ae+S;var se=D,ce=H;for(H=w.Ta,D=w.Ua;0<J--;){var fe=w.gc[J],Se=ae,Re=S,he=se,ke=ce,je=(ce=H,se=D,fe.Ea);switch(t(Se<Re),t(Re<=fe.nc),fe.hc){case 2:Kr(he,ke,(Re-Se)*je,ce,se);break;case 0:var He=Se,Ie=Re,Ve=ce,Ke=se,rt=(kt=fe).Ea;He==0&&(uf(he,ke,null,null,1,Ve,Ke),bt(he,ke+1,0,0,rt-1,Ve,Ke+1),ke+=rt,Ke+=rt,++He);for(var Qe=1<<kt.b,jt=Qe-1,xt=xe(rt,kt.b),Ht=kt.K,kt=kt.w+(He>>kt.b)*xt;He<Ie;){var Xt=Ht,vn=kt,Wt=1;for(bc(he,ke,Ve,Ke-rt,1,Ve,Ke);Wt<rt;){var Et=(Wt&~jt)+Qe;Et>rt&&(Et=rt),(0,hf[Xt[vn++]>>8&15])(he,ke+ +Wt,Ve,Ke+Wt-rt,Et-Wt,Ve,Ke+Wt),Wt=Et}ke+=rt,Ke+=rt,++He&jt||(kt+=xt)}Re!=fe.nc&&n(ce,se-je,ce,se+(Re-Se-1)*je,je);break;case 1:for(je=he,Ie=ke,rt=(he=fe.Ea)-(Ke=he&~(Ve=(ke=1<<fe.b)-1)),He=xe(he,fe.b),Qe=fe.K,fe=fe.w+(Se>>fe.b)*He;Se<Re;){for(jt=Qe,xt=fe,Ht=new Ce,kt=Ie+Ke,Xt=Ie+he;Ie<kt;)We(jt[xt++],Ht),df(Ht,je,Ie,ke,ce,se),Ie+=ke,se+=ke;Ie<Xt&&(We(jt[xt++],Ht),df(Ht,je,Ie,rt,ce,se),Ie+=rt,se+=rt),++Se&Ve||(fe+=He)}break;case 3:if(he==ce&&ke==se&&0<fe.b){for(Ie=ce,he=je=se+(Re-Se)*je-(Ke=(Re-Se)*xe(fe.Ea,fe.b)),ke=ce,Ve=se,He=[],Ke=(rt=Ke)-1;0<=Ke;--Ke)He[Ke]=ke[Ve+Ke];for(Ke=rt-1;0<=Ke;--Ke)Ie[he+Ke]=He[Ke];Nd(fe,Se,Re,ce,je,ce,se)}else Nd(fe,Se,Re,he,ke,ce,se)}se=H,ce=D}ce!=D&&n(H,D,se,ce,re)}function le(w,S){var D=w.V,H=w.Ba+w.c*w.C,J=S-w.C;if(t(S<=w.l.o),t(16>=J),0<J){var re=w.l,ae=w.Ta,se=w.Ua,ce=re.width;if(de(w,J,D,H),J=se=[se],t((D=w.C)<(H=S)),t(re.v<re.va),H>re.o&&(H=re.o),D<re.j){var fe=re.j-D;D=re.j,J[0]+=fe*ce}if(D>=H?D=0:(J[0]+=4*re.v,re.ka=D-re.j,re.U=re.va-re.v,re.T=H-D,D=1),D){if(se=se[0],11>(D=w.ca).S){var Se=D.f.RGBA,Re=(H=D.S,J=re.U,re=re.T,fe=Se.eb,Se.A),he=re;for(Se=Se.fb+w.Ma*Se.A;0<he--;){var ke=ae,je=se,He=J,Ie=fe,Ve=Se;switch(H){case Ed:pf(ke,je,He,Ie,Ve);break;case Ad:ho(ke,je,He,Ie,Ve);break;case J1:ho(ke,je,He,Ie,Ve),gf(Ie,Ve,0,He,1,0);break;case uy:Nl(ke,je,He,Ie,Ve);break;case Td:ht(ke,je,He,Ie,Ve,1);break;case Q1:ht(ke,je,He,Ie,Ve,1),gf(Ie,Ve,0,He,1,0);break;case jd:ht(ke,je,He,Ie,Ve,0);break;case Od:ht(ke,je,He,Ie,Ve,0),gf(Ie,Ve,1,He,1,0);break;case Z1:po(ke,je,He,Ie,Ve);break;case em:po(ke,je,He,Ie,Ve),ry(Ie,Ve,He,1,0);break;case fy:mo(ke,je,He,Ie,Ve);break;default:t(0)}se+=ce,Se+=Re}w.Ma+=re}else alert("todo:EmitRescaledRowsYUVA");t(w.Ma<=D.height)}}w.C=S,t(w.C<=w.i)}function ue(w){var S;if(0<w.ua)return 0;for(S=0;S<w.Wb;++S){var D=w.Ya[S].G,H=w.Ya[S].H;if(0<D[1][H[1]+0].g||0<D[2][H[2]+0].g||0<D[3][H[3]+0].g)return 0}return 1}function pe(w,S,D,H,J,re){if(w.Z!=0){var ae=w.qd,se=w.rd;for(t(xo[w.Z]!=null);S<D;++S)xo[w.Z](ae,se,H,J,H,J,re),ae=H,se=J,J+=re;w.qd=ae,w.rd=se}}function ge(w,S){var D=w.l.ma,H=D.Z==0||D.Z==1?w.l.j:w.C;if(H=w.C<H?H:w.C,t(S<=w.l.o),S>H){var J=w.l.width,re=D.ca,ae=D.tb+J*H,se=w.V,ce=w.Ba+w.c*H,fe=w.gc;t(w.ab==1),t(fe[0].hc==3),ts(fe[0],H,S,se,ce,re,ae),pe(D,H,S,re,ae,J)}w.C=w.Ma=S}function Le(w,S,D,H,J,re,ae){var se=w.$/H,ce=w.$%H,fe=w.m,Se=w.s,Re=D+w.$,he=Re;J=D+H*J;var ke=D+H*re,je=280+Se.ua,He=w.Pb?se:16777216,Ie=0<Se.ua?Se.Wa:null,Ve=Se.wc,Ke=Re<ke?ee(Se,ce,se):null;t(w.C<re),t(ke<=J);var rt=!1;e:for(;;){for(;rt||Re<ke;){var Qe=0;if(se>=He){var jt=Re-D;t((He=w).Pb),He.wd=He.m,He.xd=jt,0<He.s.ua&&Ee(He.s.Wa,He.s.vb),He=se+aE}if(ce&Ve||(Ke=ee(Se,ce,se)),t(Ke!=null),Ke.Qb&&(S[Re]=Ke.qb,rt=!0),!rt)if(G(fe),Ke.jc){Qe=fe,jt=S;var xt=Re,Ht=Ke.pd[M(Qe)&wl-1];t(Ke.jc),256>Ht.g?(R(Qe,Qe.u+Ht.g),jt[xt]=Ht.value,Qe=0):(R(Qe,Qe.u+Ht.g-256),t(256<=Ht.value),Qe=Ht.value),Qe==0&&(rt=!0)}else Qe=Fr(Ke.G[0],Ke.H[0],fe);if(fe.h)break;if(rt||256>Qe){if(!rt)if(Ke.nd)S[Re]=(Ke.qb|Qe<<8)>>>0;else{if(G(fe),rt=Fr(Ke.G[1],Ke.H[1],fe),G(fe),jt=Fr(Ke.G[2],Ke.H[2],fe),xt=Fr(Ke.G[3],Ke.H[3],fe),fe.h)break;S[Re]=(xt<<24|rt<<16|Qe<<8|jt)>>>0}if(rt=!1,++Re,++ce>=H&&(ce=0,++se,ae!=null&&se<=re&&!(se%16)&&ae(w,se),Ie!=null))for(;he<Re;)Qe=S[he++],Ie.X[(506832829*Qe&4294967295)>>>Ie.Mb]=Qe}else if(280>Qe){if(Qe=Kn(Qe-256,fe),jt=Fr(Ke.G[4],Ke.H[4],fe),G(fe),jt=_i(H,jt=Kn(jt,fe)),fe.h)break;if(Re-D<jt||J-Re<Qe)break e;for(xt=0;xt<Qe;++xt)S[Re+xt]=S[Re+xt-jt];for(Re+=Qe,ce+=Qe;ce>=H;)ce-=H,++se,ae!=null&&se<=re&&!(se%16)&&ae(w,se);if(t(Re<=J),ce&Ve&&(Ke=ee(Se,ce,se)),Ie!=null)for(;he<Re;)Qe=S[he++],Ie.X[(506832829*Qe&4294967295)>>>Ie.Mb]=Qe}else{if(!(Qe<je))break e;for(rt=Qe-280,t(Ie!=null);he<Re;)Qe=S[he++],Ie.X[(506832829*Qe&4294967295)>>>Ie.Mb]=Qe;Qe=Re,t(!(rt>>>(jt=Ie).Xa)),S[Qe]=jt.X[rt],rt=!0}rt||t(fe.h==U(fe))}if(w.Pb&&fe.h&&Re<J)t(w.m.h),w.a=5,w.m=w.wd,w.$=w.xd,0<w.s.ua&&Ee(w.s.vb,w.s.Wa);else{if(fe.h)break e;ae!=null&&ae(w,se>re?re:se),w.a=0,w.$=Re-D}return 1}return w.a=3,0}function Ue(w){t(w!=null),w.vc=null,w.yc=null,w.Ya=null;var S=w.Wa;S!=null&&(S.X=null),w.vb=null,t(w!=null)}function Pe(){var w=new Rt;return w==null?null:(w.a=0,w.xb=py,Bt("Predictor","VP8LPredictors"),Bt("Predictor","VP8LPredictors_C"),Bt("PredictorAdd","VP8LPredictorsAdd"),Bt("PredictorAdd","VP8LPredictorsAdd_C"),Kr=Ae,df=Ye,pf=At,ho=ot,po=Nt,mo=mt,Nl=wt,C.VP8LMapColor32b=es,C.VP8LMapColor8b=ff,w)}function Fe(w,S,D,H,J){var re=1,ae=[w],se=[S],ce=H.m,fe=H.s,Se=null,Re=0;e:for(;;){if(D)for(;re&&q(ce,1);){var he=ae,ke=se,je=H,He=1,Ie=je.m,Ve=je.gc[je.ab],Ke=q(Ie,2);if(je.Oc&1<<Ke)re=0;else{switch(je.Oc|=1<<Ke,Ve.hc=Ke,Ve.Ea=he[0],Ve.nc=ke[0],Ve.K=[null],++je.ab,t(4>=je.ab),Ke){case 0:case 1:Ve.b=q(Ie,3)+2,He=Fe(xe(Ve.Ea,Ve.b),xe(Ve.nc,Ve.b),0,je,Ve.K),Ve.K=Ve.K[0];break;case 3:var rt,Qe=q(Ie,8)+1,jt=16<Qe?0:4<Qe?1:2<Qe?2:3;if(he[0]=xe(Ve.Ea,jt),Ve.b=jt,rt=He=Fe(Qe,1,0,je,Ve.K)){var xt,Ht=Qe,kt=Ve,Xt=1<<(8>>kt.b),vn=a(Xt);if(vn==null)rt=0;else{var Wt=kt.K[0],Et=kt.w;for(vn[0]=kt.K[0][0],xt=1;xt<1*Ht;++xt)vn[xt]=De(Wt[Et+xt],vn[xt-1]);for(;xt<4*Xt;++xt)vn[xt]=0;kt.K[0]=null,kt.K[0]=vn,rt=1}}He=rt;break;case 2:break;default:t(0)}re=He}}if(ae=ae[0],se=se[0],re&&q(ce,1)&&!(re=1<=(Re=q(ce,4))&&11>=Re)){H.a=3;break e}var ut;if(ut=re)t:{var Xr,Ut,Jt,Ar=H,In=ae,li=se,$r=Re,Yn=D,ci=Ar.m,xn=Ar.s,er=[null],lr=1,zr=0,cr=iE[$r];r:for(;;){if(Yn&&q(ci,1)){var Rn=q(ci,3)+2,Ta=xe(In,Rn),Zr=xe(li,Rn),bi=Ta*Zr;if(!Fe(Ta,Zr,0,Ar,er))break r;for(er=er[0],xn.xc=Rn,Xr=0;Xr<bi;++Xr){var _r=er[Xr]>>8&65535;er[Xr]=_r,_r>=lr&&(lr=_r+1)}}if(ci.h)break r;for(Ut=0;5>Ut;++Ut){var yn=hy[Ut];!Ut&&0<$r&&(yn+=1<<$r),zr<yn&&(zr=yn)}var Di=s(lr*cr,T),ui=lr,Mi=s(ui,z);if(Mi==null)var Bi=null;else t(65536>=ui),Bi=Mi;var wi=a(zr);if(Bi==null||wi==null||Di==null){Ar.a=1;break r}var Ui=Di;for(Xr=Jt=0;Xr<lr;++Xr){var Nr=Bi[Xr],qi=Nr.G,ja=Nr.H,kl=0,Fs=1,Dn=0;for(Ut=0;5>Ut;++Ut){yn=hy[Ut],qi[Ut]=Ui,ja[Ut]=Jt,!Ut&&0<$r&&(yn+=1<<$r);i:{var Fd,im=yn,Id=Ar,yf=wi,kE=Ui,EE=Jt,am=0,yo=Id.m,AE=q(yo,1);if(i(yf,0,0,im),AE){var TE=q(yo,1)+1,jE=q(yo,1),Ny=q(yo,jE==0?1:8);yf[Ny]=1,TE==2&&(yf[Ny=q(yo,8)]=1);var Rd=1}else{var Sy=a(19),ky=q(yo,4)+4;if(19<ky){Id.a=3;var Dd=0;break i}for(Fd=0;Fd<ky;++Fd)Sy[rE[Fd]]=q(yo,3);var sm=void 0,_f=void 0,Ey=Id,OE=Sy,Md=im,Ay=yf,om=0,_o=Ey.m,Ty=8,jy=s(128,T);n:for(;j(jy,0,7,OE,19);){if(q(_o,1)){var CE=2+2*q(_o,3);if((sm=2+q(_o,CE))>Md)break n}else sm=Md;for(_f=0;_f<Md&&sm--;){G(_o);var Oy=jy[0+(127&M(_o))];R(_o,_o.u+Oy.g);var Nc=Oy.value;if(16>Nc)Ay[_f++]=Nc,Nc!=0&&(Ty=Nc);else{var LE=Nc==16,Cy=Nc-16,PE=eE[Cy],Ly=q(_o,Qk[Cy])+PE;if(_f+Ly>Md)break n;for(var FE=LE?Ty:0;0<Ly--;)Ay[_f++]=FE}}om=1;break n}om||(Ey.a=3),Rd=om}(Rd=Rd&&!yo.h)&&(am=j(kE,EE,8,yf,im)),Rd&&am!=0?Dd=am:(Id.a=3,Dd=0)}if(Dd==0)break r;if(Fs&&tE[Ut]==1&&(Fs=Ui[Jt].g==0),kl+=Ui[Jt].g,Jt+=Dd,3>=Ut){var bf,lm=wi[0];for(bf=1;bf<yn;++bf)wi[bf]>lm&&(lm=wi[bf]);Dn+=lm}}if(Nr.nd=Fs,Nr.Qb=0,Fs&&(Nr.qb=(qi[3][ja[3]+0].value<<24|qi[1][ja[1]+0].value<<16|qi[2][ja[2]+0].value)>>>0,kl==0&&256>qi[0][ja[0]+0].value&&(Nr.Qb=1,Nr.qb+=qi[0][ja[0]+0].value<<8)),Nr.jc=!Nr.Qb&&6>Dn,Nr.jc){var Bd,Is=Nr;for(Bd=0;Bd<wl;++Bd){var bo=Bd,wo=Is.pd[bo],Ud=Is.G[0][Is.H[0]+bo];256<=Ud.value?(wo.g=Ud.g+256,wo.value=Ud.value):(wo.g=0,wo.value=0,bo>>=an(Ud,8,wo),bo>>=an(Is.G[1][Is.H[1]+bo],16,wo),bo>>=an(Is.G[2][Is.H[2]+bo],0,wo),an(Is.G[3][Is.H[3]+bo],24,wo))}}}xn.vc=er,xn.Wb=lr,xn.Ya=Bi,xn.yc=Di,ut=1;break t}ut=0}if(!(re=ut)){H.a=3;break e}if(0<Re){if(fe.ua=1<<Re,!X(fe.Wa,Re)){H.a=1,re=0;break e}}else fe.ua=0;var cm=H,Py=ae,IE=se,um=cm.s,fm=um.xc;if(cm.c=Py,cm.i=IE,um.md=xe(Py,fm),um.wc=fm==0?-1:(1<<fm)-1,D){H.xb=hE;break e}if((Se=a(ae*se))==null){H.a=1,re=0;break e}re=(re=Le(H,Se,0,ae,se,se,null))&&!ce.h;break e}return re?(J!=null?J[0]=Se:(t(Se==null),t(D)),H.$=0,D||Ue(fe)):Ue(fe),re}function Me(w,S){var D=w.c*w.i,H=D+S+16*S;return t(w.c<=S),w.V=a(H),w.V==null?(w.Ta=null,w.Ua=0,w.a=1,0):(w.Ta=w.V,w.Ua=w.Ba+D+S,1)}function et(w,S){var D=w.C,H=S-D,J=w.V,re=w.Ba+w.c*D;for(t(S<=w.l.o);0<H;){var ae=16<H?16:H,se=w.l.ma,ce=w.l.width,fe=ce*ae,Se=se.ca,Re=se.tb+ce*D,he=w.Ta,ke=w.Ua;de(w,ae,J,re),iy(he,ke,Se,Re,fe),pe(se,D,D+ae,Se,Re,ce),H-=ae,J+=ae*w.c,D+=ae}t(D==S),w.C=w.Ma=S}function at(){this.ub=this.yd=this.td=this.Rb=0}function dt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function it(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function ft(){this.Yb=function(){var w=[];return function S(D,H,J){for(var re=J[H],ae=0;ae<re&&(D.push(J.length>H+1?[]:0),!(J.length<H+1));ae++)S(D[ae],H+1,J)}(w,0,[3,11]),w}()}function Ft(){this.jb=a(3),this.Wc=o([4,8],ft),this.Xc=o([4,17],ft)}function vr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Yt(){this.ld=this.La=this.dd=this.tc=0}function qr(){this.Na=this.la=0}function Xa(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Sa(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Za(){this.uc=this.M=this.Nb=0,this.wa=Array(new Yt),this.Y=0,this.ya=Array(new Sa),this.aa=0,this.l=new pc}function ia(){this.y=a(16),this.f=a(8),this.ea=a(8)}function so(){this.cb=this.a=0,this.sc="",this.m=new k,this.Od=new at,this.Kc=new dt,this.ed=new vr,this.Qa=new it,this.Ic=this.$c=this.Aa=0,this.D=new Za,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,k),this.ia=0,this.pb=s(4,Xa),this.Pa=new Ft,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ia),this.Hd=0,this.rb=Array(new qr),this.sb=0,this.wa=Array(new Yt),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Sa),this.L=this.aa=0,this.gd=o([4,2],Yt),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function sn(w,S){return 0>w?0:w>S?S:w}function pc(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function I1(){var w=new so;return w!=null&&(w.a=0,w.sc="OK",w.cb=0,w.Xb=0,vf||(vf=mc)),w}function on(w,S,D){return w.a==0&&(w.a=S,w.sc=D,w.cb=0),0}function fd(w,S,D){return 3<=D&&w[S+0]==157&&w[S+1]==1&&w[S+2]==42}function Ja(w,S){if(w==null)return 0;if(w.a=0,w.sc="OK",S==null)return on(w,2,"null VP8Io passed to VP8GetHeaders()");var D=S.data,H=S.w,J=S.ha;if(4>J)return on(w,7,"Truncated header.");var re=D[H+0]|D[H+1]<<8|D[H+2]<<16,ae=w.Od;if(ae.Rb=!(1&re),ae.td=re>>1&7,ae.yd=re>>4&1,ae.ub=re>>5,3<ae.td)return on(w,3,"Incorrect keyframe parameters.");if(!ae.yd)return on(w,4,"Frame not displayable.");H+=3,J-=3;var se=w.Kc;if(ae.Rb){if(7>J)return on(w,7,"cannot parse picture header");if(!fd(D,H,J))return on(w,3,"Bad code word");se.c=16383&(D[H+4]<<8|D[H+3]),se.Td=D[H+4]>>6,se.i=16383&(D[H+6]<<8|D[H+5]),se.Ud=D[H+6]>>6,H+=7,J-=7,w.za=se.c+15>>4,w.Ub=se.i+15>>4,S.width=se.c,S.height=se.i,S.Da=0,S.j=0,S.v=0,S.va=S.width,S.o=S.height,S.da=0,S.ib=S.width,S.hb=S.height,S.U=S.width,S.T=S.height,i((re=w.Pa).jb,0,255,re.jb.length),t((re=w.Qa)!=null),re.Cb=0,re.Bb=0,re.Fb=1,i(re.Zb,0,0,re.Zb.length),i(re.Lb,0,0,re.Lb)}if(ae.ub>J)return on(w,7,"bad partition length");Q(re=w.m,D,H,ae.ub),H+=ae.ub,J-=ae.ub,ae.Rb&&(se.Ld=V(re),se.Kd=V(re)),se=w.Qa;var ce,fe=w.Pa;if(t(re!=null),t(se!=null),se.Cb=V(re),se.Cb){if(se.Bb=V(re),V(re)){for(se.Fb=V(re),ce=0;4>ce;++ce)se.Zb[ce]=V(re)?ie(re,7):0;for(ce=0;4>ce;++ce)se.Lb[ce]=V(re)?ie(re,6):0}if(se.Bb)for(ce=0;3>ce;++ce)fe.jb[ce]=V(re)?ne(re,8):255}else se.Bb=0;if(re.Ka)return on(w,3,"cannot parse segment header");if((se=w.ed).zd=V(re),se.Tb=ne(re,6),se.wb=ne(re,3),se.Pc=V(re),se.Pc&&V(re)){for(fe=0;4>fe;++fe)V(re)&&(se.vd[fe]=ie(re,6));for(fe=0;4>fe;++fe)V(re)&&(se.od[fe]=ie(re,6))}if(w.L=se.Tb==0?0:se.zd?1:2,re.Ka)return on(w,3,"cannot parse filter header");var Se=J;if(J=ce=H,H=ce+Se,se=Se,w.Xb=(1<<ne(w.m,2))-1,Se<3*(fe=w.Xb))D=7;else{for(ce+=3*fe,se-=3*fe,Se=0;Se<fe;++Se){var Re=D[J+0]|D[J+1]<<8|D[J+2]<<16;Re>se&&(Re=se),Q(w.Jc[+Se],D,ce,Re),ce+=Re,se-=Re,J+=3}Q(w.Jc[+fe],D,ce,se),D=ce<H?0:5}if(D!=0)return on(w,D,"cannot parse partitions");for(D=ne(ce=w.m,7),J=V(ce)?ie(ce,4):0,H=V(ce)?ie(ce,4):0,se=V(ce)?ie(ce,4):0,fe=V(ce)?ie(ce,4):0,ce=V(ce)?ie(ce,4):0,Se=w.Qa,Re=0;4>Re;++Re){if(Se.Cb){var he=Se.Zb[Re];Se.Fb||(he+=D)}else{if(0<Re){w.pb[Re]=w.pb[0];continue}he=D}var ke=w.pb[Re];ke.Sc[0]=tm[sn(he+J,127)],ke.Sc[1]=rm[sn(he+0,127)],ke.Eb[0]=2*tm[sn(he+H,127)],ke.Eb[1]=101581*rm[sn(he+se,127)]>>16,8>ke.Eb[1]&&(ke.Eb[1]=8),ke.Qc[0]=tm[sn(he+fe,117)],ke.Qc[1]=rm[sn(he+ce,127)],ke.lc=he+ce}if(!ae.Rb)return on(w,4,"Not a key frame.");for(V(re),ae=w.Pa,D=0;4>D;++D){for(J=0;8>J;++J)for(H=0;3>H;++H)for(se=0;11>se;++se)fe=Y(re,uE[D][J][H][se])?ne(re,8):lE[D][J][H][se],ae.Wc[D][J].Yb[H][se]=fe;for(J=0;17>J;++J)ae.Xc[D][J]=ae.Wc[D][fE[J]]}return w.kc=V(re),w.kc&&(w.Bd=ne(re,8)),w.cb=1}function mc(w,S,D,H,J,re,ae){var se=S[J].Yb[D];for(D=0;16>J;++J){if(!Y(w,se[D+0]))return J;for(;!Y(w,se[D+1]);)if(se=S[++J].Yb[0],D=0,J==16)return 16;var ce=S[J+1].Yb;if(Y(w,se[D+2])){var fe=w,Se=0;if(Y(fe,(he=se)[(Re=D)+3]))if(Y(fe,he[Re+6])){for(se=0,Re=2*(Se=Y(fe,he[Re+8]))+(he=Y(fe,he[Re+9+Se])),Se=0,he=sE[Re];he[se];++se)Se+=Se+Y(fe,he[se]);Se+=3+(8<<Re)}else Y(fe,he[Re+7])?(Se=7+2*Y(fe,165),Se+=Y(fe,145)):Se=5+Y(fe,159);else Se=Y(fe,he[Re+4])?3+Y(fe,he[Re+5]):2;se=ce[2]}else Se=1,se=ce[1];ce=ae+oE[J],0>(fe=w).b&&te(fe);var Re,he=fe.b,ke=(Re=fe.Ca>>1)-(fe.I>>he)>>31;--fe.b,fe.Ca+=ke,fe.Ca|=1,fe.I-=(Re+1&ke)<<he,re[ce]=((Se^ke)-ke)*H[(0<J)+0]}return 16}function hd(w){var S=w.rb[w.sb-1];S.la=0,S.Na=0,i(w.zc,0,0,w.zc.length),w.ja=0}function aa(w,S,D,H,J){J=w[S+D+32*H]+(J>>3),w[S+D+32*H]=-256&J?0>J?0:255:J}function pn(w,S,D,H,J,re){aa(w,S,0,D,H+J),aa(w,S,1,D,H+re),aa(w,S,2,D,H-re),aa(w,S,3,D,H-J)}function bs(w){return(20091*w>>16)+w}function dd(w,S,D,H){var J,re=0,ae=a(16);for(J=0;4>J;++J){var se=w[S+0]+w[S+8],ce=w[S+0]-w[S+8],fe=(35468*w[S+4]>>16)-bs(w[S+12]),Se=bs(w[S+4])+(35468*w[S+12]>>16);ae[re+0]=se+Se,ae[re+1]=ce+fe,ae[re+2]=ce-fe,ae[re+3]=se-Se,re+=4,S++}for(J=re=0;4>J;++J)se=(w=ae[re+0]+4)+ae[re+8],ce=w-ae[re+8],fe=(35468*ae[re+4]>>16)-bs(ae[re+12]),aa(D,H,0,0,se+(Se=bs(ae[re+4])+(35468*ae[re+12]>>16))),aa(D,H,1,0,ce+fe),aa(D,H,2,0,ce-fe),aa(D,H,3,0,se-Se),re++,H+=32}function R1(w,S,D,H){var J=w[S+0]+4,re=35468*w[S+4]>>16,ae=bs(w[S+4]),se=35468*w[S+1]>>16;pn(D,H,0,J+ae,w=bs(w[S+1]),se),pn(D,H,1,J+re,w,se),pn(D,H,2,J-re,w,se),pn(D,H,3,J-ae,w,se)}function D1(w,S,D,H,J){dd(w,S,D,H),J&&dd(w,S+16,D,H+4)}function Qa(w,S,D,H){Sl(w,S+0,D,H,1),Sl(w,S+32,D,H+128,1)}function pd(w,S,D,H){var J;for(w=w[S+0]+4,J=0;4>J;++J)for(S=0;4>S;++S)aa(D,H,S,J,w)}function md(w,S,D,H){w[S+0]&&or(w,S+0,D,H),w[S+16]&&or(w,S+16,D,H+4),w[S+32]&&or(w,S+32,D,H+128),w[S+48]&&or(w,S+48,D,H+128+4)}function gc(w,S,D,H){var J,re=a(16);for(J=0;4>J;++J){var ae=w[S+0+J]+w[S+12+J],se=w[S+4+J]+w[S+8+J],ce=w[S+4+J]-w[S+8+J],fe=w[S+0+J]-w[S+12+J];re[0+J]=ae+se,re[8+J]=ae-se,re[4+J]=fe+ce,re[12+J]=fe-ce}for(J=0;4>J;++J)ae=(w=re[0+4*J]+3)+re[3+4*J],se=re[1+4*J]+re[2+4*J],ce=re[1+4*J]-re[2+4*J],fe=w-re[3+4*J],D[H+0]=ae+se>>3,D[H+16]=fe+ce>>3,D[H+32]=ae-se>>3,D[H+48]=fe-ce>>3,H+=64}function hl(w,S,D){var H,J=S-32,re=Ri,ae=255-w[J-1];for(H=0;H<D;++H){var se,ce=re,fe=ae+w[S-1];for(se=0;se<D;++se)w[S+se]=ce[fe+w[J+se]];S+=32}}function M1(w,S){hl(w,S,4)}function B1(w,S){hl(w,S,8)}function U1(w,S){hl(w,S,16)}function Xu(w,S){var D;for(D=0;16>D;++D)n(w,S+32*D,w,S-32,16)}function gd(w,S){var D;for(D=16;0<D;--D)i(w,S,w[S-1],16),S+=32}function ka(w,S,D){var H;for(H=0;16>H;++H)i(S,D+32*H,w,16)}function q1(w,S){var D,H=16;for(D=0;16>D;++D)H+=w[S-1+32*D]+w[S+D-32];ka(H>>5,w,S)}function dl(w,S){var D,H=8;for(D=0;16>D;++D)H+=w[S-1+32*D];ka(H>>4,w,S)}function Zu(w,S){var D,H=8;for(D=0;16>D;++D)H+=w[S+D-32];ka(H>>4,w,S)}function $1(w,S){ka(128,w,S)}function Dt(w,S,D){return w+2*S+D+2>>2}function z1(w,S){var D,H=S-32;for(H=new Uint8Array([Dt(w[H-1],w[H+0],w[H+1]),Dt(w[H+0],w[H+1],w[H+2]),Dt(w[H+1],w[H+2],w[H+3]),Dt(w[H+2],w[H+3],w[H+4])]),D=0;4>D;++D)n(w,S+32*D,H,0,H.length)}function H1(w,S){var D=w[S-1],H=w[S-1+32],J=w[S-1+64],re=w[S-1+96];oe(w,S+0,16843009*Dt(w[S-1-32],D,H)),oe(w,S+32,16843009*Dt(D,H,J)),oe(w,S+64,16843009*Dt(H,J,re)),oe(w,S+96,16843009*Dt(J,re,re))}function W1(w,S){var D,H=4;for(D=0;4>D;++D)H+=w[S+D-32]+w[S-1+32*D];for(H>>=3,D=0;4>D;++D)i(w,S+32*D,H,4)}function ws(w,S){var D=w[S-1+0],H=w[S-1+32],J=w[S-1+64],re=w[S-1-32],ae=w[S+0-32],se=w[S+1-32],ce=w[S+2-32],fe=w[S+3-32];w[S+0+96]=Dt(H,J,w[S-1+96]),w[S+1+96]=w[S+0+64]=Dt(D,H,J),w[S+2+96]=w[S+1+64]=w[S+0+32]=Dt(re,D,H),w[S+3+96]=w[S+2+64]=w[S+1+32]=w[S+0+0]=Dt(ae,re,D),w[S+3+64]=w[S+2+32]=w[S+1+0]=Dt(se,ae,re),w[S+3+32]=w[S+2+0]=Dt(ce,se,ae),w[S+3+0]=Dt(fe,ce,se)}function Ns(w,S){var D=w[S+1-32],H=w[S+2-32],J=w[S+3-32],re=w[S+4-32],ae=w[S+5-32],se=w[S+6-32],ce=w[S+7-32];w[S+0+0]=Dt(w[S+0-32],D,H),w[S+1+0]=w[S+0+32]=Dt(D,H,J),w[S+2+0]=w[S+1+32]=w[S+0+64]=Dt(H,J,re),w[S+3+0]=w[S+2+32]=w[S+1+64]=w[S+0+96]=Dt(J,re,ae),w[S+3+32]=w[S+2+64]=w[S+1+96]=Dt(re,ae,se),w[S+3+64]=w[S+2+96]=Dt(ae,se,ce),w[S+3+96]=Dt(se,ce,ce)}function V1(w,S){var D=w[S-1+0],H=w[S-1+32],J=w[S-1+64],re=w[S-1-32],ae=w[S+0-32],se=w[S+1-32],ce=w[S+2-32],fe=w[S+3-32];w[S+0+0]=w[S+1+64]=re+ae+1>>1,w[S+1+0]=w[S+2+64]=ae+se+1>>1,w[S+2+0]=w[S+3+64]=se+ce+1>>1,w[S+3+0]=ce+fe+1>>1,w[S+0+96]=Dt(J,H,D),w[S+0+64]=Dt(H,D,re),w[S+0+32]=w[S+1+96]=Dt(D,re,ae),w[S+1+32]=w[S+2+96]=Dt(re,ae,se),w[S+2+32]=w[S+3+96]=Dt(ae,se,ce),w[S+3+32]=Dt(se,ce,fe)}function G1(w,S){var D=w[S+0-32],H=w[S+1-32],J=w[S+2-32],re=w[S+3-32],ae=w[S+4-32],se=w[S+5-32],ce=w[S+6-32],fe=w[S+7-32];w[S+0+0]=D+H+1>>1,w[S+1+0]=w[S+0+64]=H+J+1>>1,w[S+2+0]=w[S+1+64]=J+re+1>>1,w[S+3+0]=w[S+2+64]=re+ae+1>>1,w[S+0+32]=Dt(D,H,J),w[S+1+32]=w[S+0+96]=Dt(H,J,re),w[S+2+32]=w[S+1+96]=Dt(J,re,ae),w[S+3+32]=w[S+2+96]=Dt(re,ae,se),w[S+3+64]=Dt(ae,se,ce),w[S+3+96]=Dt(se,ce,fe)}function vc(w,S){var D=w[S-1+0],H=w[S-1+32],J=w[S-1+64],re=w[S-1+96];w[S+0+0]=D+H+1>>1,w[S+2+0]=w[S+0+32]=H+J+1>>1,w[S+2+32]=w[S+0+64]=J+re+1>>1,w[S+1+0]=Dt(D,H,J),w[S+3+0]=w[S+1+32]=Dt(H,J,re),w[S+3+32]=w[S+1+64]=Dt(J,re,re),w[S+3+64]=w[S+2+64]=w[S+0+96]=w[S+1+96]=w[S+2+96]=w[S+3+96]=re}function Ju(w,S){var D=w[S-1+0],H=w[S-1+32],J=w[S-1+64],re=w[S-1+96],ae=w[S-1-32],se=w[S+0-32],ce=w[S+1-32],fe=w[S+2-32];w[S+0+0]=w[S+2+32]=D+ae+1>>1,w[S+0+32]=w[S+2+64]=H+D+1>>1,w[S+0+64]=w[S+2+96]=J+H+1>>1,w[S+0+96]=re+J+1>>1,w[S+3+0]=Dt(se,ce,fe),w[S+2+0]=Dt(ae,se,ce),w[S+1+0]=w[S+3+32]=Dt(D,ae,se),w[S+1+32]=w[S+3+64]=Dt(H,D,ae),w[S+1+64]=w[S+3+96]=Dt(J,H,D),w[S+1+96]=Dt(re,J,H)}function pl(w,S){var D;for(D=0;8>D;++D)n(w,S+32*D,w,S-32,8)}function K1(w,S){var D;for(D=0;8>D;++D)i(w,S,w[S-1],8),S+=32}function Ss(w,S,D){var H;for(H=0;8>H;++H)i(S,D+32*H,w,8)}function Y1(w,S){var D,H=8;for(D=0;8>D;++D)H+=w[S+D-32]+w[S-1+32*D];Ss(H>>4,w,S)}function Qu(w,S){var D,H=4;for(D=0;8>D;++D)H+=w[S+D-32];Ss(H>>3,w,S)}function ef(w,S){var D,H=4;for(D=0;8>D;++D)H+=w[S-1+32*D];Ss(H>>3,w,S)}function vd(w,S){Ss(128,w,S)}function ks(w,S,D){var H=w[S-D],J=w[S+0],re=3*(J-H)+X1[1020+w[S-2*D]-w[S+D]],ae=kd[112+(re+4>>3)];w[S-D]=Ri[255+H+kd[112+(re+3>>3)]],w[S+0]=Ri[255+J-ae]}function tf(w,S,D,H){var J=w[S+0],re=w[S+D];return la[255+w[S-2*D]-w[S-D]]>H||la[255+re-J]>H}function xc(w,S,D,H){return 4*la[255+w[S-D]-w[S+0]]+la[255+w[S-2*D]-w[S+D]]<=H}function rf(w,S,D,H,J){var re=w[S-3*D],ae=w[S-2*D],se=w[S-D],ce=w[S+0],fe=w[S+D],Se=w[S+2*D],Re=w[S+3*D];return 4*la[255+se-ce]+la[255+ae-fe]>H?0:la[255+w[S-4*D]-re]<=J&&la[255+re-ae]<=J&&la[255+ae-se]<=J&&la[255+Re-Se]<=J&&la[255+Se-fe]<=J&&la[255+fe-ce]<=J}function ml(w,S,D,H){var J=2*H+1;for(H=0;16>H;++H)xc(w,S+H,D,J)&&ks(w,S+H,D)}function nf(w,S,D,H){var J=2*H+1;for(H=0;16>H;++H)xc(w,S+H*D,1,J)&&ks(w,S+H*D,1)}function xd(w,S,D,H){var J;for(J=3;0<J;--J)ml(w,S+=4*D,D,H)}function yd(w,S,D,H){var J;for(J=3;0<J;--J)nf(w,S+=4,D,H)}function Es(w,S,D,H,J,re,ae,se){for(re=2*re+1;0<J--;){if(rf(w,S,D,re,ae))if(tf(w,S,D,se))ks(w,S,D);else{var ce=w,fe=S,Se=D,Re=ce[fe-2*Se],he=ce[fe-Se],ke=ce[fe+0],je=ce[fe+Se],He=ce[fe+2*Se],Ie=27*(Ke=X1[1020+3*(ke-he)+X1[1020+Re-je]])+63>>7,Ve=18*Ke+63>>7,Ke=9*Ke+63>>7;ce[fe-3*Se]=Ri[255+ce[fe-3*Se]+Ke],ce[fe-2*Se]=Ri[255+Re+Ve],ce[fe-Se]=Ri[255+he+Ie],ce[fe+0]=Ri[255+ke-Ie],ce[fe+Se]=Ri[255+je-Ve],ce[fe+2*Se]=Ri[255+He-Ke]}S+=H}}function As(w,S,D,H,J,re,ae,se){for(re=2*re+1;0<J--;){if(rf(w,S,D,re,ae))if(tf(w,S,D,se))ks(w,S,D);else{var ce=w,fe=S,Se=D,Re=ce[fe-Se],he=ce[fe+0],ke=ce[fe+Se],je=kd[112+(4+(He=3*(he-Re))>>3)],He=kd[112+(He+3>>3)],Ie=je+1>>1;ce[fe-2*Se]=Ri[255+ce[fe-2*Se]+Ie],ce[fe-Se]=Ri[255+Re+He],ce[fe+0]=Ri[255+he-je],ce[fe+Se]=Ri[255+ke-Ie]}S+=H}}function _d(w,S,D,H,J,re){Es(w,S,D,1,16,H,J,re)}function gl(w,S,D,H,J,re){Es(w,S,1,D,16,H,J,re)}function bd(w,S,D,H,J,re){var ae;for(ae=3;0<ae;--ae)As(w,S+=4*D,D,1,16,H,J,re)}function P(w,S,D,H,J,re){var ae;for(ae=3;0<ae;--ae)As(w,S+=4,1,D,16,H,J,re)}function Z(w,S,D,H,J,re,ae,se){Es(w,S,J,1,8,re,ae,se),Es(D,H,J,1,8,re,ae,se)}function me(w,S,D,H,J,re,ae,se){Es(w,S,1,J,8,re,ae,se),Es(D,H,1,J,8,re,ae,se)}function we(w,S,D,H,J,re,ae,se){As(w,S+4*J,J,1,8,re,ae,se),As(D,H+4*J,J,1,8,re,ae,se)}function Te(w,S,D,H,J,re,ae,se){As(w,S+4,1,J,8,re,ae,se),As(D,H+4,1,J,8,re,ae,se)}function Ge(){this.ba=new qt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new rr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Je(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function _t(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Tt(){this.ua=0,this.Wa=new Oe,this.vb=new Oe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new z,this.yc=new T}function Rt(){this.xb=this.a=0,this.l=new pc,this.ca=new qt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new I,this.Pb=0,this.wd=new I,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Tt,this.ab=0,this.gc=s(4,_t),this.Oc=0}function $t(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new pc,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Qt(w,S,D,H,J,re,ae){for(w=w==null?0:w[S+0],S=0;S<ae;++S)J[re+S]=w+D[H+S]&255,w=J[re+S]}function Dr(w,S,D,H,J,re,ae){var se;if(w==null)Qt(null,null,D,H,J,re,ae);else for(se=0;se<ae;++se)J[re+se]=w[S+se]+D[H+se]&255}function ln(w,S,D,H,J,re,ae){if(w==null)Qt(null,null,D,H,J,re,ae);else{var se,ce=w[S+0],fe=ce,Se=ce;for(se=0;se<ae;++se)fe=Se+(ce=w[S+se])-fe,Se=D[H+se]+(-256&fe?0>fe?0:255:fe)&255,fe=ce,J[re+se]=Se}}function wr(w,S,D,H){var J=S.width,re=S.o;if(t(w!=null&&S!=null),0>D||0>=H||D+H>re)return null;if(!w.Cc){if(w.ga==null){var ae;if(w.ga=new $t,(ae=w.ga==null)||(ae=S.width*S.o,t(w.Gb.length==0),w.Gb=a(ae),w.Uc=0,w.Gb==null?ae=0:(w.mb=w.Gb,w.nb=w.Uc,w.rc=null,ae=1),ae=!ae),!ae){ae=w.ga;var se=w.Fa,ce=w.P,fe=w.qc,Se=w.mb,Re=w.nb,he=ce+1,ke=fe-1,je=ae.l;if(t(se!=null&&Se!=null&&S!=null),xo[0]=null,xo[1]=Qt,xo[2]=Dr,xo[3]=ln,ae.ca=Se,ae.tb=Re,ae.c=S.width,ae.i=S.height,t(0<ae.c&&0<ae.i),1>=fe)S=0;else if(ae.$a=3&se[ce+0],ae.Z=se[ce+0]>>2&3,ae.Lc=se[ce+0]>>4&3,ce=se[ce+0]>>6&3,0>ae.$a||1<ae.$a||4<=ae.Z||1<ae.Lc||ce)S=0;else if(je.put=Pt,je.ac=na,je.bc=wa,je.ma=ae,je.width=S.width,je.height=S.height,je.Da=S.Da,je.v=S.v,je.va=S.va,je.j=S.j,je.o=S.o,ae.$a)e:{t(ae.$a==1),S=Pe();t:for(;;){if(S==null){S=0;break e}if(t(ae!=null),ae.mc=S,S.c=ae.c,S.i=ae.i,S.l=ae.l,S.l.ma=ae,S.l.width=ae.c,S.l.height=ae.i,S.a=0,K(S.m,se,he,ke),!Fe(ae.c,ae.i,1,S,null)||(S.ab==1&&S.gc[0].hc==3&&ue(S.s)?(ae.ic=1,se=S.c*S.i,S.Ta=null,S.Ua=0,S.V=a(se),S.Ba=0,S.V==null?(S.a=1,S=0):S=1):(ae.ic=0,S=Me(S,ae.c)),!S))break t;S=1;break e}ae.mc=null,S=0}else S=ke>=ae.c*ae.i;ae=!S}if(ae)return null;w.ga.Lc!=1?w.Ga=0:H=re-D}t(w.ga!=null),t(D+H<=re);e:{if(S=(se=w.ga).c,re=se.l.o,se.$a==0){if(he=w.rc,ke=w.Vc,je=w.Fa,ce=w.P+1+D*S,fe=w.mb,Se=w.nb+D*S,t(ce<=w.P+w.qc),se.Z!=0)for(t(xo[se.Z]!=null),ae=0;ae<H;++ae)xo[se.Z](he,ke,je,ce,fe,Se,S),he=fe,ke=Se,Se+=S,ce+=S;else for(ae=0;ae<H;++ae)n(fe,Se,je,ce,S),he=fe,ke=Se,Se+=S,ce+=S;w.rc=he,w.Vc=ke}else{if(t(se.mc!=null),S=D+H,t((ae=se.mc)!=null),t(S<=ae.i),ae.C>=S)S=1;else if(se.ic||Ea(),se.ic){se=ae.V,he=ae.Ba,ke=ae.c;var He=ae.i,Ie=(je=1,ce=ae.$/ke,fe=ae.$%ke,Se=ae.m,Re=ae.s,ae.$),Ve=ke*He,Ke=ke*S,rt=Re.wc,Qe=Ie<Ke?ee(Re,fe,ce):null;t(Ie<=Ve),t(S<=He),t(ue(Re));t:for(;;){for(;!Se.h&&Ie<Ke;){if(fe&rt||(Qe=ee(Re,fe,ce)),t(Qe!=null),G(Se),256>(He=Fr(Qe.G[0],Qe.H[0],Se)))se[he+Ie]=He,++Ie,++fe>=ke&&(fe=0,++ce<=S&&!(ce%16)&&ge(ae,ce));else{if(!(280>He)){je=0;break t}He=Kn(He-256,Se);var jt,xt=Fr(Qe.G[4],Qe.H[4],Se);if(G(Se),!(Ie>=(xt=_i(ke,xt=Kn(xt,Se)))&&Ve-Ie>=He)){je=0;break t}for(jt=0;jt<He;++jt)se[he+Ie+jt]=se[he+Ie+jt-xt];for(Ie+=He,fe+=He;fe>=ke;)fe-=ke,++ce<=S&&!(ce%16)&&ge(ae,ce);Ie<Ke&&fe&rt&&(Qe=ee(Re,fe,ce))}t(Se.h==U(Se))}ge(ae,ce>S?S:ce);break t}!je||Se.h&&Ie<Ve?(je=0,ae.a=Se.h?5:3):ae.$=Ie,S=je}else S=Le(ae,ae.V,ae.Ba,ae.c,ae.i,S,et);if(!S){H=0;break e}}D+H>=re&&(w.Cc=1),H=1}if(!H)return null;if(w.Cc&&((H=w.ga)!=null&&(H.mc=null),w.ga=null,0<w.Ga))return alert("todo:WebPDequantizeLevels"),null}return w.nb+D*J}function mn(w,S,D,H,J,re){for(;0<J--;){var ae,se=w,ce=S+(D?1:0),fe=w,Se=S+(D?0:3);for(ae=0;ae<H;++ae){var Re=fe[Se+4*ae];Re!=255&&(Re*=32897,se[ce+4*ae+0]=se[ce+4*ae+0]*Re>>23,se[ce+4*ae+1]=se[ce+4*ae+1]*Re>>23,se[ce+4*ae+2]=se[ce+4*ae+2]*Re>>23)}S+=re}}function cn(w,S,D,H,J){for(;0<H--;){var re;for(re=0;re<D;++re){var ae=w[S+2*re+0],se=15&(fe=w[S+2*re+1]),ce=4369*se,fe=(240&fe|fe>>4)*ce>>16;w[S+2*re+0]=(240&ae|ae>>4)*ce>>16&240|(15&ae|ae<<4)*ce>>16>>4&15,w[S+2*re+1]=240&fe|se}S+=J}}function Pn(w,S,D,H,J,re,ae,se){var ce,fe,Se=255;for(fe=0;fe<J;++fe){for(ce=0;ce<H;++ce){var Re=w[S+ce];re[ae+4*ce]=Re,Se&=Re}S+=D,ae+=se}return Se!=255}function Ts(w,S,D,H,J){var re;for(re=0;re<J;++re)D[H+re]=w[S+re]>>8}function Ea(){gf=mn,ry=cn,ny=Pn,iy=Ts}function js(w,S,D){C[w]=function(H,J,re,ae,se,ce,fe,Se,Re,he,ke,je,He,Ie,Ve,Ke,rt){var Qe,jt=rt-1>>1,xt=se[ce+0]|fe[Se+0]<<16,Ht=Re[he+0]|ke[je+0]<<16;t(H!=null);var kt=3*xt+Ht+131074>>2;for(S(H[J+0],255&kt,kt>>16,He,Ie),re!=null&&(kt=3*Ht+xt+131074>>2,S(re[ae+0],255&kt,kt>>16,Ve,Ke)),Qe=1;Qe<=jt;++Qe){var Xt=se[ce+Qe]|fe[Se+Qe]<<16,vn=Re[he+Qe]|ke[je+Qe]<<16,Wt=xt+Xt+Ht+vn+524296,Et=Wt+2*(Xt+Ht)>>3;kt=Et+xt>>1,xt=(Wt=Wt+2*(xt+vn)>>3)+Xt>>1,S(H[J+2*Qe-1],255&kt,kt>>16,He,Ie+(2*Qe-1)*D),S(H[J+2*Qe-0],255&xt,xt>>16,He,Ie+(2*Qe-0)*D),re!=null&&(kt=Wt+Ht>>1,xt=Et+vn>>1,S(re[ae+2*Qe-1],255&kt,kt>>16,Ve,Ke+(2*Qe-1)*D),S(re[ae+2*Qe+0],255&xt,xt>>16,Ve,Ke+(2*Qe+0)*D)),xt=Xt,Ht=vn}1&rt||(kt=3*xt+Ht+131074>>2,S(H[J+rt-1],255&kt,kt>>16,He,Ie+(rt-1)*D),re!=null&&(kt=3*Ht+xt+131074>>2,S(re[ae+rt-1],255&kt,kt>>16,Ve,Ke+(rt-1)*D)))}}function af(){ca[Ed]=dE,ca[Ad]=my,ca[uy]=pE,ca[Td]=gy,ca[jd]=vy,ca[Z1]=xy,ca[fy]=mE,ca[J1]=my,ca[Q1]=gy,ca[Od]=vy,ca[em]=xy}function yc(w){return w&~gE?0>w?0:255:w>>yy}function oo(w,S){return yc((19077*w>>8)+(26149*S>>8)-14234)}function vl(w,S,D){return yc((19077*w>>8)-(6419*S>>8)-(13320*D>>8)+8708)}function xl(w,S){return yc((19077*w>>8)+(33050*S>>8)-17685)}function lo(w,S,D,H,J){H[J+0]=oo(w,D),H[J+1]=vl(w,S,D),H[J+2]=xl(w,S)}function Fn(w,S,D,H,J){H[J+0]=xl(w,S),H[J+1]=vl(w,S,D),H[J+2]=oo(w,D)}function yl(w,S,D,H,J){var re=vl(w,S,D);S=re<<3&224|xl(w,S)>>3,H[J+0]=248&oo(w,D)|re>>5,H[J+1]=S}function _l(w,S,D,H,J){var re=240&xl(w,S)|15;H[J+0]=240&oo(w,D)|vl(w,S,D)>>4,H[J+1]=re}function sf(w,S,D,H,J){H[J+0]=255,lo(w,S,D,H,J+1)}function of(w,S,D,H,J){Fn(w,S,D,H,J),H[J+3]=255}function oi(w,S,D,H,J){lo(w,S,D,H,J),H[J+3]=255}function Os(w,S,D){C[w]=function(H,J,re,ae,se,ce,fe,Se,Re){for(var he=Se+(-2&Re)*D;Se!=he;)S(H[J+0],re[ae+0],se[ce+0],fe,Se),S(H[J+1],re[ae+0],se[ce+0],fe,Se+D),J+=2,++ae,++ce,Se+=2*D;1&Re&&S(H[J+0],re[ae+0],se[ce+0],fe,Se)}}function _c(w,S,D){return D==0?w==0?S==0?6:5:S==0?4:0:D}function wd(w,S,D,H,J){switch(w>>>30){case 3:Sl(S,D,H,J,0);break;case 2:oa(S,D,H,J);break;case 1:or(S,D,H,J)}}function sa(w,S){var D,H,J=S.M,re=S.Nb,ae=w.oc,se=w.pc+40,ce=w.oc,fe=w.pc+584,Se=w.oc,Re=w.pc+600;for(D=0;16>D;++D)ae[se+32*D-1]=129;for(D=0;8>D;++D)ce[fe+32*D-1]=129,Se[Re+32*D-1]=129;for(0<J?ae[se-1-32]=ce[fe-1-32]=Se[Re-1-32]=129:(i(ae,se-32-1,127,21),i(ce,fe-32-1,127,9),i(Se,Re-32-1,127,9)),H=0;H<w.za;++H){var he=S.ya[S.aa+H];if(0<H){for(D=-1;16>D;++D)n(ae,se+32*D-4,ae,se+32*D+12,4);for(D=-1;8>D;++D)n(ce,fe+32*D-4,ce,fe+32*D+4,4),n(Se,Re+32*D-4,Se,Re+32*D+4,4)}var ke=w.Gd,je=w.Hd+H,He=he.ad,Ie=he.Hc;if(0<J&&(n(ae,se-32,ke[je].y,0,16),n(ce,fe-32,ke[je].f,0,8),n(Se,Re-32,ke[je].ea,0,8)),he.Za){var Ve=ae,Ke=se-32+16;for(0<J&&(H>=w.za-1?i(Ve,Ke,ke[je].y[15],4):n(Ve,Ke,ke[je+1].y,0,4)),D=0;4>D;D++)Ve[Ke+128+D]=Ve[Ke+256+D]=Ve[Ke+384+D]=Ve[Ke+0+D];for(D=0;16>D;++D,Ie<<=2)Ve=ae,Ke=se+by[D],Aa[he.Ob[D]](Ve,Ke),wd(Ie,He,16*+D,Ve,Ke)}else if(Ve=_c(H,J,he.Ob[0]),vo[Ve](ae,se),Ie!=0)for(D=0;16>D;++D,Ie<<=2)wd(Ie,He,16*+D,ae,se+by[D]);for(D=he.Gc,Ve=_c(H,J,he.Dd),Ps[Ve](ce,fe),Ps[Ve](Se,Re),Ie=He,Ve=ce,Ke=fe,255&(he=0|D)&&(170&he?rs(Ie,256,Ve,Ke):yr(Ie,256,Ve,Ke)),he=Se,Ie=Re,255&(D>>=8)&&(170&D?rs(He,320,he,Ie):yr(He,320,he,Ie)),J<w.Ub-1&&(n(ke[je].y,0,ae,se+480,16),n(ke[je].f,0,ce,fe+224,8),n(ke[je].ea,0,Se,Re+224,8)),D=8*re*w.B,ke=w.sa,je=w.ta+16*H+16*re*w.R,He=w.qa,he=w.ra+8*H+D,Ie=w.Ha,Ve=w.Ia+8*H+D,D=0;16>D;++D)n(ke,je+D*w.R,ae,se+32*D,16);for(D=0;8>D;++D)n(He,he+D*w.B,ce,fe+32*D,8),n(Ie,Ve+D*w.B,Se,Re+32*D,8)}}function bl(w,S,D,H,J,re,ae,se,ce){var fe=[0],Se=[0],Re=0,he=ce!=null?ce.kd:0,ke=ce??new Je;if(w==null||12>D)return 7;ke.data=w,ke.w=S,ke.ha=D,S=[S],D=[D],ke.gb=[ke.gb];e:{var je=S,He=D,Ie=ke.gb;if(t(w!=null),t(He!=null),t(Ie!=null),Ie[0]=0,12<=He[0]&&!r(w,je[0],"RIFF")){if(r(w,je[0]+8,"WEBP")){Ie=3;break e}var Ve=_e(w,je[0]+4);if(12>Ve||4294967286<Ve){Ie=3;break e}if(he&&Ve>He[0]-8){Ie=7;break e}Ie[0]=Ve,je[0]+=12,He[0]-=12}Ie=0}if(Ie!=0)return Ie;for(Ve=0<ke.gb[0],D=D[0];;){e:{var Ke=w;He=S,Ie=D;var rt=fe,Qe=Se,jt=je=[0];if((kt=Re=[Re])[0]=0,8>Ie[0])Ie=7;else{if(!r(Ke,He[0],"VP8X")){if(_e(Ke,He[0]+4)!=10){Ie=3;break e}if(18>Ie[0]){Ie=7;break e}var xt=_e(Ke,He[0]+8),Ht=1+Ne(Ke,He[0]+12);if(2147483648<=Ht*(Ke=1+Ne(Ke,He[0]+15))){Ie=3;break e}jt!=null&&(jt[0]=xt),rt!=null&&(rt[0]=Ht),Qe!=null&&(Qe[0]=Ke),He[0]+=18,Ie[0]-=18,kt[0]=1}Ie=0}}if(Re=Re[0],je=je[0],Ie!=0)return Ie;if(He=!!(2&je),!Ve&&Re)return 3;if(re!=null&&(re[0]=!!(16&je)),ae!=null&&(ae[0]=He),se!=null&&(se[0]=0),ae=fe[0],je=Se[0],Re&&He&&ce==null){Ie=0;break}if(4>D){Ie=7;break}if(Ve&&Re||!Ve&&!Re&&!r(w,S[0],"ALPH")){D=[D],ke.na=[ke.na],ke.P=[ke.P],ke.Sa=[ke.Sa];e:{xt=w,Ie=S,Ve=D;var kt=ke.gb;rt=ke.na,Qe=ke.P,jt=ke.Sa,Ht=22,t(xt!=null),t(Ve!=null),Ke=Ie[0];var Xt=Ve[0];for(t(rt!=null),t(jt!=null),rt[0]=null,Qe[0]=null,jt[0]=0;;){if(Ie[0]=Ke,Ve[0]=Xt,8>Xt){Ie=7;break e}var vn=_e(xt,Ke+4);if(4294967286<vn){Ie=3;break e}var Wt=8+vn+1&-2;if(Ht+=Wt,0<kt&&Ht>kt){Ie=3;break e}if(!r(xt,Ke,"VP8 ")||!r(xt,Ke,"VP8L")){Ie=0;break e}if(Xt[0]<Wt){Ie=7;break e}r(xt,Ke,"ALPH")||(rt[0]=xt,Qe[0]=Ke+8,jt[0]=vn),Ke+=Wt,Xt-=Wt}}if(D=D[0],ke.na=ke.na[0],ke.P=ke.P[0],ke.Sa=ke.Sa[0],Ie!=0)break}D=[D],ke.Ja=[ke.Ja],ke.xa=[ke.xa];e:if(kt=w,Ie=S,Ve=D,rt=ke.gb[0],Qe=ke.Ja,jt=ke.xa,xt=Ie[0],Ke=!r(kt,xt,"VP8 "),Ht=!r(kt,xt,"VP8L"),t(kt!=null),t(Ve!=null),t(Qe!=null),t(jt!=null),8>Ve[0])Ie=7;else{if(Ke||Ht){if(kt=_e(kt,xt+4),12<=rt&&kt>rt-12){Ie=3;break e}if(he&&kt>Ve[0]-8){Ie=7;break e}Qe[0]=kt,Ie[0]+=8,Ve[0]-=8,jt[0]=Ht}else jt[0]=5<=Ve[0]&&kt[xt+0]==47&&!(kt[xt+4]>>5),Qe[0]=Ve[0];Ie=0}if(D=D[0],ke.Ja=ke.Ja[0],ke.xa=ke.xa[0],S=S[0],Ie!=0)break;if(4294967286<ke.Ja)return 3;if(se==null||He||(se[0]=ke.xa?2:1),ae=[ae],je=[je],ke.xa){if(5>D){Ie=7;break}se=ae,he=je,He=re,w==null||5>D?w=0:5<=D&&w[S+0]==47&&!(w[S+4]>>5)?(Ve=[0],kt=[0],rt=[0],K(Qe=new I,w,S,D),Na(Qe,Ve,kt,rt)?(se!=null&&(se[0]=Ve[0]),he!=null&&(he[0]=kt[0]),He!=null&&(He[0]=rt[0]),w=1):w=0):w=0}else{if(10>D){Ie=7;break}se=je,w==null||10>D||!fd(w,S+3,D-3)?w=0:(he=w[S+0]|w[S+1]<<8|w[S+2]<<16,He=16383&(w[S+7]<<8|w[S+6]),w=16383&(w[S+9]<<8|w[S+8]),1&he||3<(he>>1&7)||!(he>>4&1)||he>>5>=ke.Ja||!He||!w?w=0:(ae&&(ae[0]=He),se&&(se[0]=w),w=1))}if(!w||(ae=ae[0],je=je[0],Re&&(fe[0]!=ae||Se[0]!=je)))return 3;ce!=null&&(ce[0]=ke,ce.offset=S-ce.w,t(4294967286>S-ce.w),t(ce.offset==ce.ha-D));break}return Ie==0||Ie==7&&Re&&ce==null?(re!=null&&(re[0]|=ke.na!=null&&0<ke.na.length),H!=null&&(H[0]=ae),J!=null&&(J[0]=je),0):Ie}function lf(w,S,D){var H=S.width,J=S.height,re=0,ae=0,se=H,ce=J;if(S.Da=w!=null&&0<w.Da,S.Da&&(se=w.cd,ce=w.bd,re=w.v,ae=w.j,11>D||(re&=-2,ae&=-2),0>re||0>ae||0>=se||0>=ce||re+se>H||ae+ce>J))return 0;if(S.v=re,S.j=ae,S.va=re+se,S.o=ae+ce,S.U=se,S.T=ce,S.da=w!=null&&0<w.da,S.da){if(!be(se,ce,D=[w.ib],re=[w.hb]))return 0;S.ib=D[0],S.hb=re[0]}return S.ob=w!=null&&w.ob,S.Kb=w==null||!w.Sd,S.da&&(S.ob=S.ib<3*H/4&&S.hb<3*J/4,S.Kb=0),1}function cf(w){if(w==null)return 2;if(11>w.S){var S=w.f.RGBA;S.fb+=(w.height-1)*S.A,S.A=-S.A}else S=w.f.kb,w=w.height,S.O+=(w-1)*S.fa,S.fa=-S.fa,S.N+=(w-1>>1)*S.Ab,S.Ab=-S.Ab,S.W+=(w-1>>1)*S.Db,S.Db=-S.Db,S.F!=null&&(S.J+=(w-1)*S.lb,S.lb=-S.lb);return 0}function co(w,S,D,H){if(H==null||0>=w||0>=S)return 2;if(D!=null){if(D.Da){var J=D.cd,re=D.bd,ae=-2&D.v,se=-2&D.j;if(0>ae||0>se||0>=J||0>=re||ae+J>w||se+re>S)return 2;w=J,S=re}if(D.da){if(!be(w,S,J=[D.ib],re=[D.hb]))return 2;w=J[0],S=re[0]}}H.width=w,H.height=S;e:{var ce=H.width,fe=H.height;if(w=H.S,0>=ce||0>=fe||!(w>=Ed&&13>w))w=2;else{if(0>=H.Rd&&H.sd==null){ae=re=J=S=0;var Se=(se=ce*wy[w])*fe;if(11>w||(re=(fe+1)/2*(S=(ce+1)/2),w==12&&(ae=(J=ce)*fe)),(fe=a(Se+2*re+ae))==null){w=1;break e}H.sd=fe,11>w?((ce=H.f.RGBA).eb=fe,ce.fb=0,ce.A=se,ce.size=Se):((ce=H.f.kb).y=fe,ce.O=0,ce.fa=se,ce.Fd=Se,ce.f=fe,ce.N=0+Se,ce.Ab=S,ce.Cd=re,ce.ea=fe,ce.W=0+Se+re,ce.Db=S,ce.Ed=re,w==12&&(ce.F=fe,ce.J=0+Se+2*re),ce.Tc=ae,ce.lb=J)}if(S=1,J=H.S,re=H.width,ae=H.height,J>=Ed&&13>J)if(11>J)w=H.f.RGBA,S&=(se=Math.abs(w.A))*(ae-1)+re<=w.size,S&=se>=re*wy[J],S&=w.eb!=null;else{w=H.f.kb,se=(re+1)/2,Se=(ae+1)/2,ce=Math.abs(w.fa),fe=Math.abs(w.Ab);var Re=Math.abs(w.Db),he=Math.abs(w.lb),ke=he*(ae-1)+re;S&=ce*(ae-1)+re<=w.Fd,S&=fe*(Se-1)+se<=w.Cd,S=(S&=Re*(Se-1)+se<=w.Ed)&ce>=re&fe>=se&Re>=se,S&=w.y!=null,S&=w.f!=null,S&=w.ea!=null,J==12&&(S&=he>=re,S&=ke<=w.Tc,S&=w.F!=null)}else S=0;w=S?0:2}}return w!=0||D!=null&&D.fd&&(w=cf(H)),w}var wl=64,Fi=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ii=24,uo=32,Cs=8,fo=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Be("Predictor0","PredictorAdd0"),C.Predictor0=function(){return 4278190080},C.Predictor1=function(w){return w},C.Predictor2=function(w,S,D){return S[D+0]},C.Predictor3=function(w,S,D){return S[D+1]},C.Predictor4=function(w,S,D){return S[D-1]},C.Predictor5=function(w,S,D){return Xe(Xe(w,S[D+1]),S[D+0])},C.Predictor6=function(w,S,D){return Xe(w,S[D-1])},C.Predictor7=function(w,S,D){return Xe(w,S[D+0])},C.Predictor8=function(w,S,D){return Xe(S[D-1],S[D+0])},C.Predictor9=function(w,S,D){return Xe(S[D+0],S[D+1])},C.Predictor10=function(w,S,D){return Xe(Xe(w,S[D-1]),Xe(S[D+0],S[D+1]))},C.Predictor11=function(w,S,D){var H=S[D+0];return 0>=pt(H>>24&255,w>>24&255,(S=S[D-1])>>24&255)+pt(H>>16&255,w>>16&255,S>>16&255)+pt(H>>8&255,w>>8&255,S>>8&255)+pt(255&H,255&w,255&S)?H:w},C.Predictor12=function(w,S,D){var H=S[D+0];return(tt((w>>24&255)+(H>>24&255)-((S=S[D-1])>>24&255))<<24|tt((w>>16&255)+(H>>16&255)-(S>>16&255))<<16|tt((w>>8&255)+(H>>8&255)-(S>>8&255))<<8|tt((255&w)+(255&H)-(255&S)))>>>0},C.Predictor13=function(w,S,D){var H=S[D-1];return(ct((w=Xe(w,S[D+0]))>>24&255,H>>24&255)<<24|ct(w>>16&255,H>>16&255)<<16|ct(w>>8&255,H>>8&255)<<8|ct(255&w,255&H))>>>0};var uf=C.PredictorAdd0;C.PredictorAdd1=bt,Be("Predictor2","PredictorAdd2"),Be("Predictor3","PredictorAdd3"),Be("Predictor4","PredictorAdd4"),Be("Predictor5","PredictorAdd5"),Be("Predictor6","PredictorAdd6"),Be("Predictor7","PredictorAdd7"),Be("Predictor8","PredictorAdd8"),Be("Predictor9","PredictorAdd9"),Be("Predictor10","PredictorAdd10"),Be("Predictor11","PredictorAdd11"),Be("Predictor12","PredictorAdd12"),Be("Predictor13","PredictorAdd13");var bc=C.PredictorAdd2;$e("ColorIndexInverseTransform","MapARGB","32b",function(w){return w>>8&255},function(w){return w}),$e("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(w){return w},function(w){return w>>8&255});var Kr,Nd=C.ColorIndexInverseTransform,es=C.MapARGB,ts=C.VP8LColorIndexInverseTransformAlpha,ff=C.MapAlpha,hf=C.VP8LPredictorsAdd=[];hf.length=16,(C.VP8LPredictors=[]).length=16,(C.VP8LPredictorsAdd_C=[]).length=16,(C.VP8LPredictors_C=[]).length=16;var df,pf,ho,po,mo,Nl,go,Sl,oa,rs,or,yr,Yr,gn,Ls,mf,wc,Sd,Xx,Zx,Jx,Qx,ey,ty,gf,ry,ny,iy,ay=a(511),sy=a(2041),oy=a(225),ly=a(767),cy=0,X1=sy,kd=oy,Ri=ly,la=ay,Ed=0,Ad=1,uy=2,Td=3,jd=4,Z1=5,fy=6,J1=7,Q1=8,Od=9,em=10,Qk=[2,3,7],eE=[3,3,11],hy=[280,256,256,256,40],tE=[0,1,1,1,0],rE=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],nE=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],iE=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],aE=8,tm=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],rm=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],vf=null,sE=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],oE=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],dy=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],lE=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],cE=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],uE=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],fE=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],vo=[],Aa=[],Ps=[],hE=1,py=2,xo=[],ca=[];js("UpsampleRgbLinePair",lo,3),js("UpsampleBgrLinePair",Fn,3),js("UpsampleRgbaLinePair",oi,4),js("UpsampleBgraLinePair",of,4),js("UpsampleArgbLinePair",sf,4),js("UpsampleRgba4444LinePair",_l,2),js("UpsampleRgb565LinePair",yl,2);var dE=C.UpsampleRgbLinePair,pE=C.UpsampleBgrLinePair,my=C.UpsampleRgbaLinePair,gy=C.UpsampleBgraLinePair,vy=C.UpsampleArgbLinePair,xy=C.UpsampleRgba4444LinePair,mE=C.UpsampleRgb565LinePair,Cd=16,Ld=1<<Cd-1,xf=-227,nm=482,yy=6,gE=(256<<yy)-1,_y=0,vE=a(256),xE=a(256),yE=a(256),_E=a(256),bE=a(nm-xf),wE=a(nm-xf);Os("YuvToRgbRow",lo,3),Os("YuvToBgrRow",Fn,3),Os("YuvToRgbaRow",oi,4),Os("YuvToBgraRow",of,4),Os("YuvToArgbRow",sf,4),Os("YuvToRgba4444Row",_l,2),Os("YuvToRgb565Row",yl,2);var by=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Pd=[0,2,8],NE=[8,7,6,4,4,2,2,2,1,1,1,1],SE=1;this.WebPDecodeRGBA=function(w,S,D,H,J){var re=Ad,ae=new Ge,se=new qt;ae.ba=se,se.S=re,se.width=[se.width],se.height=[se.height];var ce=se.width,fe=se.height,Se=new St;if(Se==null||w==null)var Re=2;else t(Se!=null),Re=bl(w,S,D,Se.width,Se.height,Se.Pd,Se.Qd,Se.format,null);if(Re!=0?ce=0:(ce!=null&&(ce[0]=Se.width[0]),fe!=null&&(fe[0]=Se.height[0]),ce=1),ce){se.width=se.width[0],se.height=se.height[0],H!=null&&(H[0]=se.width),J!=null&&(J[0]=se.height);e:{if(H=new pc,(J=new Je).data=w,J.w=S,J.ha=D,J.kd=1,S=[0],t(J!=null),((w=bl(J.data,J.w,J.ha,null,null,null,S,null,J))==0||w==7)&&S[0]&&(w=4),(S=w)==0){if(t(ae!=null),H.data=J.data,H.w=J.w+J.offset,H.ha=J.ha-J.offset,H.put=Pt,H.ac=na,H.bc=wa,H.ma=ae,J.xa){if((w=Pe())==null){ae=1;break e}if(function(he,ke){var je=[0],He=[0],Ie=[0];t:for(;;){if(he==null)return 0;if(ke==null)return he.a=2,0;if(he.l=ke,he.a=0,K(he.m,ke.data,ke.w,ke.ha),!Na(he.m,je,He,Ie)){he.a=3;break t}if(he.xb=py,ke.width=je[0],ke.height=He[0],!Fe(je[0],He[0],1,he,null))break t;return 1}return t(he.a!=0),0}(w,H)){if(H=(S=co(H.width,H.height,ae.Oa,ae.ba))==0){t:{H=w;r:for(;;){if(H==null){H=0;break t}if(t(H.s.yc!=null),t(H.s.Ya!=null),t(0<H.s.Wb),t((D=H.l)!=null),t((J=D.ma)!=null),H.xb!=0){if(H.ca=J.ba,H.tb=J.tb,t(H.ca!=null),!lf(J.Oa,D,Td)){H.a=2;break r}if(!Me(H,D.width)||D.da)break r;if((D.da||gt(H.ca.S))&&Ea(),11>H.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),H.ca.f.kb.F!=null&&Ea()),H.Pb&&0<H.s.ua&&H.s.vb.X==null&&!X(H.s.vb,H.s.Wa.Xa)){H.a=1;break r}H.xb=0}if(!Le(H,H.V,H.Ba,H.c,H.i,D.o,le))break r;J.Dc=H.Ma,H=1;break t}t(H.a!=0),H=0}H=!H}H&&(S=w.a)}else S=w.a}else{if((w=new I1)==null){ae=1;break e}if(w.Fa=J.na,w.P=J.P,w.qc=J.Sa,Ja(w,H)){if((S=co(H.width,H.height,ae.Oa,ae.ba))==0){if(w.Aa=0,D=ae.Oa,t((J=w)!=null),D!=null){if(0<(ce=0>(ce=D.Md)?0:100<ce?255:255*ce/100)){for(fe=Se=0;4>fe;++fe)12>(Re=J.pb[fe]).lc&&(Re.ia=ce*NE[0>Re.lc?0:Re.lc]>>3),Se|=Re.ia;Se&&(alert("todo:VP8InitRandom"),J.ia=1)}J.Ga=D.Id,100<J.Ga?J.Ga=100:0>J.Ga&&(J.Ga=0)}(function(he,ke){if(he==null)return 0;if(ke==null)return on(he,2,"NULL VP8Io parameter in VP8Decode().");if(!he.cb&&!Ja(he,ke))return 0;if(t(he.cb),ke.ac==null||ke.ac(ke)){ke.ob&&(he.L=0);var je=Pd[he.L];if(he.L==2?(he.yb=0,he.zb=0):(he.yb=ke.v-je>>4,he.zb=ke.j-je>>4,0>he.yb&&(he.yb=0),0>he.zb&&(he.zb=0)),he.Va=ke.o+15+je>>4,he.Hb=ke.va+15+je>>4,he.Hb>he.za&&(he.Hb=he.za),he.Va>he.Ub&&(he.Va=he.Ub),0<he.L){var He=he.ed;for(je=0;4>je;++je){var Ie;if(he.Qa.Cb){var Ve=he.Qa.Lb[je];he.Qa.Fb||(Ve+=He.Tb)}else Ve=He.Tb;for(Ie=0;1>=Ie;++Ie){var Ke=he.gd[je][Ie],rt=Ve;if(He.Pc&&(rt+=He.vd[0],Ie&&(rt+=He.od[0])),0<(rt=0>rt?0:63<rt?63:rt)){var Qe=rt;0<He.wb&&(Qe=4<He.wb?Qe>>2:Qe>>1)>9-He.wb&&(Qe=9-He.wb),1>Qe&&(Qe=1),Ke.dd=Qe,Ke.tc=2*rt+Qe,Ke.ld=40<=rt?2:15<=rt?1:0}else Ke.tc=0;Ke.La=Ie}}}je=0}else on(he,6,"Frame setup failed"),je=he.a;if(je=je==0){if(je){he.$c=0,0<he.Aa||(he.Ic=SE);t:{je=he.Ic,He=4*(Qe=he.za);var jt=32*Qe,xt=Qe+1,Ht=0<he.L?Qe*(0<he.Aa?2:1):0,kt=(he.Aa==2?2:1)*Qe;if((Ke=He+832+(Ie=3*(16*je+Pd[he.L])/2*jt)+(Ve=he.Fa!=null&&0<he.Fa.length?he.Kc.c*he.Kc.i:0))!=Ke)je=0;else{if(Ke>he.Vb){if(he.Vb=0,he.Ec=a(Ke),he.Fc=0,he.Ec==null){je=on(he,1,"no memory during frame initialization.");break t}he.Vb=Ke}Ke=he.Ec,rt=he.Fc,he.Ac=Ke,he.Bc=rt,rt+=He,he.Gd=s(jt,ia),he.Hd=0,he.rb=s(xt+1,qr),he.sb=1,he.wa=Ht?s(Ht,Yt):null,he.Y=0,he.D.Nb=0,he.D.wa=he.wa,he.D.Y=he.Y,0<he.Aa&&(he.D.Y+=Qe),t(!0),he.oc=Ke,he.pc=rt,rt+=832,he.ya=s(kt,Sa),he.aa=0,he.D.ya=he.ya,he.D.aa=he.aa,he.Aa==2&&(he.D.aa+=Qe),he.R=16*Qe,he.B=8*Qe,Qe=(jt=Pd[he.L])*he.R,jt=jt/2*he.B,he.sa=Ke,he.ta=rt+Qe,he.qa=he.sa,he.ra=he.ta+16*je*he.R+jt,he.Ha=he.qa,he.Ia=he.ra+8*je*he.B+jt,he.$c=0,rt+=Ie,he.mb=Ve?Ke:null,he.nb=Ve?rt:null,t(rt+Ve<=he.Fc+he.Vb),hd(he),i(he.Ac,he.Bc,0,He),je=1}}if(je){if(ke.ka=0,ke.y=he.sa,ke.O=he.ta,ke.f=he.qa,ke.N=he.ra,ke.ea=he.Ha,ke.Vd=he.Ia,ke.fa=he.R,ke.Rc=he.B,ke.F=null,ke.J=0,!cy){for(je=-255;255>=je;++je)ay[255+je]=0>je?-je:je;for(je=-1020;1020>=je;++je)sy[1020+je]=-128>je?-128:127<je?127:je;for(je=-112;112>=je;++je)oy[112+je]=-16>je?-16:15<je?15:je;for(je=-255;510>=je;++je)ly[255+je]=0>je?0:255<je?255:je;cy=1}go=gc,Sl=D1,rs=Qa,or=pd,yr=md,oa=R1,Yr=_d,gn=gl,Ls=Z,mf=me,wc=bd,Sd=P,Xx=we,Zx=Te,Jx=ml,Qx=nf,ey=xd,ty=yd,Aa[0]=W1,Aa[1]=M1,Aa[2]=z1,Aa[3]=H1,Aa[4]=ws,Aa[5]=V1,Aa[6]=Ns,Aa[7]=G1,Aa[8]=Ju,Aa[9]=vc,vo[0]=q1,vo[1]=U1,vo[2]=Xu,vo[3]=gd,vo[4]=dl,vo[5]=Zu,vo[6]=$1,Ps[0]=Y1,Ps[1]=B1,Ps[2]=pl,Ps[3]=K1,Ps[4]=ef,Ps[5]=Qu,Ps[6]=vd,je=1}else je=0}je&&(je=function(Xt,vn){for(Xt.M=0;Xt.M<Xt.Va;++Xt.M){var Wt,Et=Xt.Jc[Xt.M&Xt.Xb],ut=Xt.m,Xr=Xt;for(Wt=0;Wt<Xr.za;++Wt){var Ut=ut,Jt=Xr,Ar=Jt.Ac,In=Jt.Bc+4*Wt,li=Jt.zc,$r=Jt.ya[Jt.aa+Wt];if(Jt.Qa.Bb?$r.$b=Y(Ut,Jt.Pa.jb[0])?2+Y(Ut,Jt.Pa.jb[2]):Y(Ut,Jt.Pa.jb[1]):$r.$b=0,Jt.kc&&($r.Ad=Y(Ut,Jt.Bd)),$r.Za=!Y(Ut,145)+0,$r.Za){var Yn=$r.Ob,ci=0;for(Jt=0;4>Jt;++Jt){var xn,er=li[0+Jt];for(xn=0;4>xn;++xn){er=cE[Ar[In+xn]][er];for(var lr=dy[Y(Ut,er[0])];0<lr;)lr=dy[2*lr+Y(Ut,er[lr])];er=-lr,Ar[In+xn]=er}n(Yn,ci,Ar,In,4),ci+=4,li[0+Jt]=er}}else er=Y(Ut,156)?Y(Ut,128)?1:3:Y(Ut,163)?2:0,$r.Ob[0]=er,i(Ar,In,er,4),i(li,0,er,4);$r.Dd=Y(Ut,142)?Y(Ut,114)?Y(Ut,183)?1:3:2:0}if(Xr.m.Ka)return on(Xt,7,"Premature end-of-partition0 encountered.");for(;Xt.ja<Xt.za;++Xt.ja){if(Xr=Et,Ut=(ut=Xt).rb[ut.sb-1],Ar=ut.rb[ut.sb+ut.ja],Wt=ut.ya[ut.aa+ut.ja],In=ut.kc?Wt.Ad:0)Ut.la=Ar.la=0,Wt.Za||(Ut.Na=Ar.Na=0),Wt.Hc=0,Wt.Gc=0,Wt.ia=0;else{var zr,cr;if(Ut=Ar,Ar=Xr,In=ut.Pa.Xc,li=ut.ya[ut.aa+ut.ja],$r=ut.pb[li.$b],Jt=li.ad,Yn=0,ci=ut.rb[ut.sb-1],er=xn=0,i(Jt,Yn,0,384),li.Za)var Rn=0,Ta=In[3];else{lr=a(16);var Zr=Ut.Na+ci.Na;if(Zr=vf(Ar,In[1],Zr,$r.Eb,0,lr,0),Ut.Na=ci.Na=(0<Zr)+0,1<Zr)go(lr,0,Jt,Yn);else{var bi=lr[0]+3>>3;for(lr=0;256>lr;lr+=16)Jt[Yn+lr]=bi}Rn=1,Ta=In[0]}var _r=15&Ut.la,yn=15&ci.la;for(lr=0;4>lr;++lr){var Di=1&yn;for(bi=cr=0;4>bi;++bi)_r=_r>>1|(Di=(Zr=vf(Ar,Ta,Zr=Di+(1&_r),$r.Sc,Rn,Jt,Yn))>Rn)<<7,cr=cr<<2|(3<Zr?3:1<Zr?2:Jt[Yn+0]!=0),Yn+=16;_r>>=4,yn=yn>>1|Di<<7,xn=(xn<<8|cr)>>>0}for(Ta=_r,Rn=yn>>4,zr=0;4>zr;zr+=2){for(cr=0,_r=Ut.la>>4+zr,yn=ci.la>>4+zr,lr=0;2>lr;++lr){for(Di=1&yn,bi=0;2>bi;++bi)Zr=Di+(1&_r),_r=_r>>1|(Di=0<(Zr=vf(Ar,In[2],Zr,$r.Qc,0,Jt,Yn)))<<3,cr=cr<<2|(3<Zr?3:1<Zr?2:Jt[Yn+0]!=0),Yn+=16;_r>>=2,yn=yn>>1|Di<<5}er|=cr<<4*zr,Ta|=_r<<4<<zr,Rn|=(240&yn)<<zr}Ut.la=Ta,ci.la=Rn,li.Hc=xn,li.Gc=er,li.ia=43690&er?0:$r.ia,In=!(xn|er)}if(0<ut.L&&(ut.wa[ut.Y+ut.ja]=ut.gd[Wt.$b][Wt.Za],ut.wa[ut.Y+ut.ja].La|=!In),Xr.Ka)return on(Xt,7,"Premature end-of-file encountered.")}if(hd(Xt),ut=vn,Xr=1,Wt=(Et=Xt).D,Ut=0<Et.L&&Et.M>=Et.zb&&Et.M<=Et.Va,Et.Aa==0)t:{if(Wt.M=Et.M,Wt.uc=Ut,sa(Et,Wt),Xr=1,Wt=(cr=Et.D).Nb,Ut=(er=Pd[Et.L])*Et.R,Ar=er/2*Et.B,lr=16*Wt*Et.R,bi=8*Wt*Et.B,In=Et.sa,li=Et.ta-Ut+lr,$r=Et.qa,Jt=Et.ra-Ar+bi,Yn=Et.Ha,ci=Et.Ia-Ar+bi,yn=(_r=cr.M)==0,xn=_r>=Et.Va-1,Et.Aa==2&&sa(Et,cr),cr.uc)for(Di=(Zr=Et).D.M,t(Zr.D.uc),cr=Zr.yb;cr<Zr.Hb;++cr){Rn=cr,Ta=Di;var ui=(Mi=(Dn=Zr).D).Nb;zr=Dn.R;var Mi=Mi.wa[Mi.Y+Rn],Bi=Dn.sa,wi=Dn.ta+16*ui*zr+16*Rn,Ui=Mi.dd,Nr=Mi.tc;if(Nr!=0)if(t(3<=Nr),Dn.L==1)0<Rn&&Qx(Bi,wi,zr,Nr+4),Mi.La&&ty(Bi,wi,zr,Nr),0<Ta&&Jx(Bi,wi,zr,Nr+4),Mi.La&&ey(Bi,wi,zr,Nr);else{var qi=Dn.B,ja=Dn.qa,kl=Dn.ra+8*ui*qi+8*Rn,Fs=Dn.Ha,Dn=Dn.Ia+8*ui*qi+8*Rn;ui=Mi.ld,0<Rn&&(gn(Bi,wi,zr,Nr+4,Ui,ui),mf(ja,kl,Fs,Dn,qi,Nr+4,Ui,ui)),Mi.La&&(Sd(Bi,wi,zr,Nr,Ui,ui),Zx(ja,kl,Fs,Dn,qi,Nr,Ui,ui)),0<Ta&&(Yr(Bi,wi,zr,Nr+4,Ui,ui),Ls(ja,kl,Fs,Dn,qi,Nr+4,Ui,ui)),Mi.La&&(wc(Bi,wi,zr,Nr,Ui,ui),Xx(ja,kl,Fs,Dn,qi,Nr,Ui,ui))}}if(Et.ia&&alert("todo:DitherRow"),ut.put!=null){if(cr=16*_r,_r=16*(_r+1),yn?(ut.y=Et.sa,ut.O=Et.ta+lr,ut.f=Et.qa,ut.N=Et.ra+bi,ut.ea=Et.Ha,ut.W=Et.Ia+bi):(cr-=er,ut.y=In,ut.O=li,ut.f=$r,ut.N=Jt,ut.ea=Yn,ut.W=ci),xn||(_r-=er),_r>ut.o&&(_r=ut.o),ut.F=null,ut.J=null,Et.Fa!=null&&0<Et.Fa.length&&cr<_r&&(ut.J=wr(Et,ut,cr,_r-cr),ut.F=Et.mb,ut.F==null&&ut.F.length==0)){Xr=on(Et,3,"Could not decode alpha data.");break t}cr<ut.j&&(er=ut.j-cr,cr=ut.j,t(!(1&er)),ut.O+=Et.R*er,ut.N+=Et.B*(er>>1),ut.W+=Et.B*(er>>1),ut.F!=null&&(ut.J+=ut.width*er)),cr<_r&&(ut.O+=ut.v,ut.N+=ut.v>>1,ut.W+=ut.v>>1,ut.F!=null&&(ut.J+=ut.v),ut.ka=cr-ut.j,ut.U=ut.va-ut.v,ut.T=_r-cr,Xr=ut.put(ut))}Wt+1!=Et.Ic||xn||(n(Et.sa,Et.ta-Ut,In,li+16*Et.R,Ut),n(Et.qa,Et.ra-Ar,$r,Jt+8*Et.B,Ar),n(Et.Ha,Et.Ia-Ar,Yn,ci+8*Et.B,Ar))}if(!Xr)return on(Xt,6,"Output aborted.")}return 1}(he,ke)),ke.bc!=null&&ke.bc(ke),je&=1}return je?(he.cb=0,je):0})(w,H)||(S=w.a)}}else S=w.a}S==0&&ae.Oa!=null&&ae.Oa.fd&&(S=cf(ae.ba))}ae=S}re=ae!=0?null:11>re?se.f.RGBA.eb:se.f.kb.y}else re=null;return re};var wy=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(C,L){for(var N="",j=0;j<4;j++)N+=String.fromCharCode(C[L++]);return N}function u(C,L){return C[L+0]|C[L+1]<<8}function d(C,L){return(C[L+0]|C[L+1]<<8|C[L+2]<<16)>>>0}function p(C,L){return(C[L+0]|C[L+1]<<8|C[L+2]<<16|C[L+3]<<24)>>>0}new l;var h=[0],y=[0],m=[],x=new l,g=e,v=function(C,L){var N={},j=0,T=!1,B=0,z=0;if(N.frames=[],!function(k,I){for(var M=0;M<4;M++)if(k[I+M]!="RIFF".charCodeAt(M))return!0;return!1}(C,L)){for(p(C,L+=4),L+=8;L<C.length;){var Q=c(C,L),ne=p(C,L+=4);L+=4;var ie=ne+(1&ne);switch(Q){case"VP8 ":case"VP8L":N.frames[j]===void 0&&(N.frames[j]={}),(q=N.frames[j]).src_off=T?z:L-8,q.src_size=B+ne+8,j++,T&&(T=!1,B=0,z=0);break;case"VP8X":(q=N.header={}).feature_flags=C[L];var K=L+4;q.canvas_width=1+d(C,K),K+=3,q.canvas_height=1+d(C,K),K+=3;break;case"ALPH":T=!0,B=ie+8,z=L-8;break;case"ANIM":(q=N.header).bgcolor=p(C,L),K=L+4,q.loop_count=u(C,K),K+=2;break;case"ANMF":var W,q;(q=N.frames[j]={}).offset_x=2*d(C,L),L+=3,q.offset_y=2*d(C,L),L+=3,q.width=1+d(C,L),L+=3,q.height=1+d(C,L),L+=3,q.duration=d(C,L),L+=3,W=C[L++],q.dispose=1&W,q.blend=W>>1&1}Q!="ANMF"&&(L+=ie)}return N}}(g,0);v.response=g,v.rgbaoutput=!0,v.dataurl=!1;var b=v.header?v.header:null,_=v.frames?v.frames:null;if(b){b.loop_counter=b.loop_count,h=[b.canvas_height],y=[b.canvas_width];for(var E=0;E<_.length&&_[E].blend!=0;E++);}var F=_[0],A=x.WebPDecodeRGBA(g,F.src_off,F.src_size,y,h);F.rgba=A,F.imgwidth=y[0],F.imgheight=h[0];for(var O=0;O<y[0]*h[0]*4;O++)m[O]=A[O];return this.width=y,this.height=h,this.data=m,this}(function(e){var t,r,n,i,a,s,o,l,c,u=function(k){return k=k||{},this.isStrokeTransparent=k.isStrokeTransparent||!1,this.strokeOpacity=k.strokeOpacity||1,this.strokeStyle=k.strokeStyle||"#000000",this.fillStyle=k.fillStyle||"#000000",this.isFillTransparent=k.isFillTransparent||!1,this.fillOpacity=k.fillOpacity||1,this.font=k.font||"10px sans-serif",this.textBaseline=k.textBaseline||"alphabetic",this.textAlign=k.textAlign||"left",this.lineWidth=k.lineWidth||1,this.lineJoin=k.lineJoin||"miter",this.lineCap=k.lineCap||"butt",this.path=k.path||[],this.transform=k.transform!==void 0?k.transform.clone():new l,this.globalCompositeOperation=k.globalCompositeOperation||"normal",this.globalAlpha=k.globalAlpha||1,this.clip_path=k.clip_path||[],this.currentPoint=k.currentPoint||new s,this.miterLimit=k.miterLimit||10,this.lastPoint=k.lastPoint||new s,this.lineDashOffset=k.lineDashOffset||0,this.lineDash=k.lineDash||[],this.margin=k.margin||[0,0,0,0],this.prevPageLastElemOffset=k.prevPageLastElemOffset||0,this.ignoreClearRect=typeof k.ignoreClearRect!="boolean"||k.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new d(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var d=function(k){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var I=k;Object.defineProperty(this,"pdf",{get:function(){return I}});var M=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return M},set:function(X){M=!!X}});var U=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return U},set:function(X){U=!!X}});var R=0;Object.defineProperty(this,"posX",{get:function(){return R},set:function(X){isNaN(X)||(R=X)}});var G=0;Object.defineProperty(this,"posY",{get:function(){return G},set:function(X){isNaN(X)||(G=X)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(X){var Ee;typeof X=="number"?Ee=[X,X,X,X]:((Ee=new Array(4))[0]=X[0],Ee[1]=X.length>=2?X[1]:Ee[0],Ee[2]=X.length>=3?X[2]:Ee[0],Ee[3]=X.length>=4?X[3]:Ee[1]),c.margin=Ee}});var te=!1;Object.defineProperty(this,"autoPaging",{get:function(){return te},set:function(X){te=X}});var V=0;Object.defineProperty(this,"lastBreak",{get:function(){return V},set:function(X){V=X}});var Y=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Y},set:function(X){Y=X}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(X){X instanceof u&&(c=X)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(X){c.path=X}});var oe=[];Object.defineProperty(this,"ctxStack",{get:function(){return oe},set:function(X){oe=X}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(X){var Ee;Ee=p(X),this.ctx.fillStyle=Ee.style,this.ctx.isFillTransparent=Ee.a===0,this.ctx.fillOpacity=Ee.a,this.pdf.setFillColor(Ee.r,Ee.g,Ee.b,{a:Ee.a}),this.pdf.setTextColor(Ee.r,Ee.g,Ee.b,{a:Ee.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(X){var Ee=p(X);this.ctx.strokeStyle=Ee.style,this.ctx.isStrokeTransparent=Ee.a===0,this.ctx.strokeOpacity=Ee.a,Ee.a===0?this.pdf.setDrawColor(255,255,255):(Ee.a,this.pdf.setDrawColor(Ee.r,Ee.g,Ee.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(X){["butt","round","square"].indexOf(X)!==-1&&(this.ctx.lineCap=X,this.pdf.setLineCap(X))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(X){isNaN(X)||(this.ctx.lineWidth=X,this.pdf.setLineWidth(X))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(X){["bevel","round","miter"].indexOf(X)!==-1&&(this.ctx.lineJoin=X,this.pdf.setLineJoin(X))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(X){isNaN(X)||(this.ctx.miterLimit=X,this.pdf.setMiterLimit(X))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(X){this.ctx.textBaseline=X}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(X){["right","end","center","left","start"].indexOf(X)!==-1&&(this.ctx.textAlign=X)}});var ve=null,Ne=null,_e=null;Object.defineProperty(this,"fontFaces",{get:function(){return _e},set:function(X){ve=null,Ne=null,_e=X}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(X){var Ee;if(this.ctx.font=X,(Ee=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(X))!==null){var Oe=Ee[1];Ee[2];var be=Ee[3],xe=Ee[4];Ee[5];var De=Ee[6],Be=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(xe)[2];xe=Math.floor(Be==="px"?parseFloat(xe)*this.pdf.internal.scaleFactor:Be==="em"?parseFloat(xe)*this.pdf.getFontSize():parseFloat(xe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(xe);var Ce=function($e){var At,ot,Nt=[],mt=$e.trim();if(mt==="")return Og;if(mt in Pw)return[Pw[mt]];for(;mt!=="";){switch(ot=null,At=(mt=Iw(mt)).charAt(0)){case'"':case"'":ot=wG(mt.substring(1),At);break;default:ot=NG(mt)}if(ot===null||(Nt.push(ot[0]),(mt=Iw(ot[1]))!==""&&mt.charAt(0)!==","))return Og;mt=mt.replace(/^,/,"")}return Nt}(De);if(this.fontFaces){var Xe=function($e,At){var ot=$e.getFontList(),Nt=JSON.stringify(ot);if(ve===null||Ne!==Nt){var mt=function(wt){var ht=[];return Object.keys(wt).forEach(function(Bt){wt[Bt].forEach(function(gt){var Ot=null;switch(gt){case"bold":Ot={family:Bt,weight:"bold"};break;case"italic":Ot={family:Bt,style:"italic"};break;case"bolditalic":Ot={family:Bt,weight:"bold",style:"italic"};break;case"":case"normal":Ot={family:Bt}}Ot!==null&&(Ot.ref={name:Bt,style:gt},ht.push(Ot))})}),ht}(ot);ve=function(wt){for(var ht={},Bt=0;Bt<wt.length;++Bt){var gt=jg(wt[Bt]),Ot=gt.family,sr=gt.stretch,qt=gt.style,St=gt.weight;ht[Ot]=ht[Ot]||{},ht[Ot][sr]=ht[Ot][sr]||{},ht[Ot][sr][qt]=ht[Ot][sr][qt]||{},ht[Ot][sr][qt][St]=gt}return ht}(mt.concat(At)),Ne=Nt}return ve}(this.pdf,this.fontFaces),tt=Ce.map(function($e){return{family:$e,stretch:"normal",weight:be,style:Oe}}),ct=function($e,At,ot){for(var Nt=(ot=ot||{}).defaultFontFamily||"times",mt=Object.assign({},bG,ot.genericFontFamilies||{}),wt=null,ht=null,Bt=0;Bt<At.length;++Bt)if(mt[(wt=jg(At[Bt])).family]&&(wt.family=mt[wt.family]),$e.hasOwnProperty(wt.family)){ht=$e[wt.family];break}if(!(ht=ht||$e[Nt]))throw new Error("Could not find a font-family for the rule '"+Fw(wt)+"' and default family '"+Nt+"'.");if(ht=function(gt,Ot){if(Ot[gt])return Ot[gt];var sr=u2[gt],qt=sr<=u2.normal?-1:1,St=Lw(Ot,Gk,sr,qt);if(!St)throw new Error("Could not find a matching font-stretch value for "+gt);return St}(wt.stretch,ht),ht=function(gt,Ot){if(Ot[gt])return Ot[gt];for(var sr=Vk[gt],qt=0;qt<sr.length;++qt)if(Ot[sr[qt]])return Ot[sr[qt]];throw new Error("Could not find a matching font-style for "+gt)}(wt.style,ht),!(ht=function(gt,Ot){if(Ot[gt])return Ot[gt];if(gt===400&&Ot[500])return Ot[500];if(gt===500&&Ot[400])return Ot[400];var sr=_G[gt],qt=Lw(Ot,Kk,sr,gt<400?-1:1);if(!qt)throw new Error("Could not find a matching font-weight for value "+gt);return qt}(wt.weight,ht)))throw new Error("Failed to resolve a font for the rule '"+Fw(wt)+"'.");return ht}(Xe,tt);this.pdf.setFont(ct.ref.name,ct.ref.style)}else{var pt="";(be==="bold"||parseInt(be,10)>=700||Oe==="bold")&&(pt="bold"),Oe==="italic"&&(pt+="italic"),pt.length===0&&(pt="normal");for(var bt="",Ae={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},We=0;We<Ce.length;We++){if(this.pdf.internal.getFont(Ce[We],pt,{noFallback:!0,disableWarning:!0})!==void 0){bt=Ce[We];break}if(pt==="bolditalic"&&this.pdf.internal.getFont(Ce[We],"bold",{noFallback:!0,disableWarning:!0})!==void 0)bt=Ce[We],pt="bold";else if(this.pdf.internal.getFont(Ce[We],"normal",{noFallback:!0,disableWarning:!0})!==void 0){bt=Ce[We],pt="normal";break}}if(bt===""){for(var Ye=0;Ye<Ce.length;Ye++)if(Ae[Ce[Ye]]){bt=Ae[Ce[Ye]];break}}bt=bt===""?"Times":bt,this.pdf.setFont(bt,pt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(X){this.ctx.globalCompositeOperation=X}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(X){this.ctx.globalAlpha=X}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(X){this.ctx.lineDashOffset=X,q.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(X){this.ctx.lineDash=X,q.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(X){this.ctx.ignoreClearRect=!!X}})};d.prototype.setLineDash=function(k){this.lineDash=k},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){_.call(this,"fill",!1)},d.prototype.stroke=function(){_.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(k,I){if(isNaN(k)||isNaN(I))throw br.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var M=this.ctx.transform.applyToPoint(new s(k,I));this.path.push({type:"mt",x:M.x,y:M.y}),this.ctx.lastPoint=new s(k,I)},d.prototype.closePath=function(){var k=new s(0,0),I=0;for(I=this.path.length-1;I!==-1;I--)if(this.path[I].type==="begin"&&dr(this.path[I+1])==="object"&&typeof this.path[I+1].x=="number"){k=new s(this.path[I+1].x,this.path[I+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(k.x,k.y)},d.prototype.lineTo=function(k,I){if(isNaN(k)||isNaN(I))throw br.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var M=this.ctx.transform.applyToPoint(new s(k,I));this.path.push({type:"lt",x:M.x,y:M.y}),this.ctx.lastPoint=new s(M.x,M.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),_.call(this,null,!0)},d.prototype.quadraticCurveTo=function(k,I,M,U){if(isNaN(M)||isNaN(U)||isNaN(k)||isNaN(I))throw br.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var R=this.ctx.transform.applyToPoint(new s(M,U)),G=this.ctx.transform.applyToPoint(new s(k,I));this.path.push({type:"qct",x1:G.x,y1:G.y,x:R.x,y:R.y}),this.ctx.lastPoint=new s(R.x,R.y)},d.prototype.bezierCurveTo=function(k,I,M,U,R,G){if(isNaN(R)||isNaN(G)||isNaN(k)||isNaN(I)||isNaN(M)||isNaN(U))throw br.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var te=this.ctx.transform.applyToPoint(new s(R,G)),V=this.ctx.transform.applyToPoint(new s(k,I)),Y=this.ctx.transform.applyToPoint(new s(M,U));this.path.push({type:"bct",x1:V.x,y1:V.y,x2:Y.x,y2:Y.y,x:te.x,y:te.y}),this.ctx.lastPoint=new s(te.x,te.y)},d.prototype.arc=function(k,I,M,U,R,G){if(isNaN(k)||isNaN(I)||isNaN(M)||isNaN(U)||isNaN(R))throw br.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(G=!!G,!this.ctx.transform.isIdentity){var te=this.ctx.transform.applyToPoint(new s(k,I));k=te.x,I=te.y;var V=this.ctx.transform.applyToPoint(new s(0,M)),Y=this.ctx.transform.applyToPoint(new s(0,0));M=Math.sqrt(Math.pow(V.x-Y.x,2)+Math.pow(V.y-Y.y,2))}Math.abs(R-U)>=2*Math.PI&&(U=0,R=2*Math.PI),this.path.push({type:"arc",x:k,y:I,radius:M,startAngle:U,endAngle:R,counterclockwise:G})},d.prototype.arcTo=function(k,I,M,U,R){throw new Error("arcTo not implemented.")},d.prototype.rect=function(k,I,M,U){if(isNaN(k)||isNaN(I)||isNaN(M)||isNaN(U))throw br.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(k,I),this.lineTo(k+M,I),this.lineTo(k+M,I+U),this.lineTo(k,I+U),this.lineTo(k,I),this.lineTo(k+M,I),this.lineTo(k,I)},d.prototype.fillRect=function(k,I,M,U){if(isNaN(k)||isNaN(I)||isNaN(M)||isNaN(U))throw br.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var R={};this.lineCap!=="butt"&&(R.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(R.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(k,I,M,U),this.fill(),R.hasOwnProperty("lineCap")&&(this.lineCap=R.lineCap),R.hasOwnProperty("lineJoin")&&(this.lineJoin=R.lineJoin)}},d.prototype.strokeRect=function(k,I,M,U){if(isNaN(k)||isNaN(I)||isNaN(M)||isNaN(U))throw br.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect(k,I,M,U),this.stroke())},d.prototype.clearRect=function(k,I,M,U){if(isNaN(k)||isNaN(I)||isNaN(M)||isNaN(U))throw br.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(k,I,M,U))},d.prototype.save=function(k){k=typeof k!="boolean"||k;for(var I=this.pdf.internal.getCurrentPageInfo().pageNumber,M=0;M<this.pdf.internal.getNumberOfPages();M++)this.pdf.setPage(M+1),this.pdf.internal.out("q");if(this.pdf.setPage(I),k){this.ctx.fontSize=this.pdf.internal.getFontSize();var U=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=U}},d.prototype.restore=function(k){k=typeof k!="boolean"||k;for(var I=this.pdf.internal.getCurrentPageInfo().pageNumber,M=0;M<this.pdf.internal.getNumberOfPages();M++)this.pdf.setPage(M+1),this.pdf.internal.out("Q");this.pdf.setPage(I),k&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(k){var I,M,U,R;if(k.isCanvasGradient===!0&&(k=k.getColor()),!k)return{r:0,g:0,b:0,a:0,style:k};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(k))I=0,M=0,U=0,R=0;else{var G=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(k);if(G!==null)I=parseInt(G[1]),M=parseInt(G[2]),U=parseInt(G[3]),R=1;else if((G=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(k))!==null)I=parseInt(G[1]),M=parseInt(G[2]),U=parseInt(G[3]),R=parseFloat(G[4]);else{if(R=1,typeof k=="string"&&k.charAt(0)!=="#"){var te=new Bk(k);k=te.ok?te.toHex():"#000000"}k.length===4?(I=k.substring(1,2),I+=I,M=k.substring(2,3),M+=M,U=k.substring(3,4),U+=U):(I=k.substring(1,3),M=k.substring(3,5),U=k.substring(5,7)),I=parseInt(I,16),M=parseInt(M,16),U=parseInt(U,16)}}return{r:I,g:M,b:U,a:R,style:k}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(k,I,M,U){if(isNaN(I)||isNaN(M)||typeof k!="string")throw br.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(U=isNaN(U)?void 0:U,!h.call(this)){var R=ie(this.ctx.transform.rotation),G=this.ctx.transform.scaleX;j.call(this,{text:k,x:I,y:M,scale:G,angle:R,align:this.textAlign,maxWidth:U})}},d.prototype.strokeText=function(k,I,M,U){if(isNaN(I)||isNaN(M)||typeof k!="string")throw br.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){U=isNaN(U)?void 0:U;var R=ie(this.ctx.transform.rotation),G=this.ctx.transform.scaleX;j.call(this,{text:k,x:I,y:M,scale:G,renderingMode:"stroke",angle:R,align:this.textAlign,maxWidth:U})}},d.prototype.measureText=function(k){if(typeof k!="string")throw br.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var I=this.pdf,M=this.pdf.internal.scaleFactor,U=I.internal.getFontSize(),R=I.getStringUnitWidth(k)*U/I.internal.scaleFactor;return new function(G){var te=(G=G||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return te}}),this}({width:R*=Math.round(96*M/72*1e4)/1e4})},d.prototype.scale=function(k,I){if(isNaN(k)||isNaN(I))throw br.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var M=new l(k,0,0,I,0,0);this.ctx.transform=this.ctx.transform.multiply(M)},d.prototype.rotate=function(k){if(isNaN(k))throw br.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var I=new l(Math.cos(k),Math.sin(k),-Math.sin(k),Math.cos(k),0,0);this.ctx.transform=this.ctx.transform.multiply(I)},d.prototype.translate=function(k,I){if(isNaN(k)||isNaN(I))throw br.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var M=new l(1,0,0,1,k,I);this.ctx.transform=this.ctx.transform.multiply(M)},d.prototype.transform=function(k,I,M,U,R,G){if(isNaN(k)||isNaN(I)||isNaN(M)||isNaN(U)||isNaN(R)||isNaN(G))throw br.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var te=new l(k,I,M,U,R,G);this.ctx.transform=this.ctx.transform.multiply(te)},d.prototype.setTransform=function(k,I,M,U,R,G){k=isNaN(k)?1:k,I=isNaN(I)?0:I,M=isNaN(M)?0:M,U=isNaN(U)?1:U,R=isNaN(R)?0:R,G=isNaN(G)?0:G,this.ctx.transform=new l(k,I,M,U,R,G)};var m=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(k,I,M,U,R,G,te,V,Y){var oe=this.pdf.getImageProperties(k),ve=1,Ne=1,_e=1,X=1;U!==void 0&&V!==void 0&&(_e=V/U,X=Y/R,ve=oe.width/U*V/U,Ne=oe.height/R*Y/R),G===void 0&&(G=I,te=M,I=0,M=0),U!==void 0&&V===void 0&&(V=U,Y=R),U===void 0&&V===void 0&&(V=oe.width,Y=oe.height);var Ee=this.ctx.transform.decompose(),Oe=ie(Ee.rotate.shx),be=new l,xe=(be=(be=(be=be.multiply(Ee.translate)).multiply(Ee.skew)).multiply(Ee.scale)).applyToRectangle(new o(G-I*_e,te-M*X,U*ve,R*Ne));if(this.autoPaging){for(var De,Be=x.call(this,xe),Ce=[],Xe=0;Xe<Be.length;Xe+=1)Ce.indexOf(Be[Xe])===-1&&Ce.push(Be[Xe]);b(Ce);for(var tt=Ce[0],ct=Ce[Ce.length-1],pt=tt;pt<ct+1;pt++){this.pdf.setPage(pt);var bt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ae=pt===1?this.posY+this.margin[0]:this.margin[0],We=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ye=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],$e=pt===1?0:We+(pt-2)*Ye;if(this.ctx.clip_path.length!==0){var At=this.path;De=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(De,this.posX+this.margin[3],-$e+Ae+this.ctx.prevPageLastElemOffset),E.call(this,"fill",!0),this.path=At}var ot=JSON.parse(JSON.stringify(xe));ot=v([ot],this.posX+this.margin[3],-$e+Ae+this.ctx.prevPageLastElemOffset)[0];var Nt=(pt>tt||pt<ct)&&m.call(this);Nt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],bt,Ye,null).clip().discardPath()),this.pdf.addImage(k,"JPEG",ot.x,ot.y,ot.w,ot.h,null,null,Oe),Nt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(k,"JPEG",xe.x,xe.y,xe.w,xe.h,null,null,Oe)};var x=function(k,I,M){var U=[];I=I||this.pdf.internal.pageSize.width,M=M||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var R=this.posY+this.ctx.prevPageLastElemOffset;switch(k.type){default:case"mt":case"lt":U.push(Math.floor((k.y+R)/M)+1);break;case"arc":U.push(Math.floor((k.y+R-k.radius)/M)+1),U.push(Math.floor((k.y+R+k.radius)/M)+1);break;case"qct":var G=K(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x,k.y);U.push(Math.floor((G.y+R)/M)+1),U.push(Math.floor((G.y+G.h+R)/M)+1);break;case"bct":var te=W(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x2,k.y2,k.x,k.y);U.push(Math.floor((te.y+R)/M)+1),U.push(Math.floor((te.y+te.h+R)/M)+1);break;case"rect":U.push(Math.floor((k.y+R)/M)+1),U.push(Math.floor((k.y+k.h+R)/M)+1)}for(var V=0;V<U.length;V+=1)for(;this.pdf.internal.getNumberOfPages()<U[V];)g.call(this);return U},g=function(){var k=this.fillStyle,I=this.strokeStyle,M=this.font,U=this.lineCap,R=this.lineWidth,G=this.lineJoin;this.pdf.addPage(),this.fillStyle=k,this.strokeStyle=I,this.font=M,this.lineCap=U,this.lineWidth=R,this.lineJoin=G},v=function(k,I,M){for(var U=0;U<k.length;U++)switch(k[U].type){case"bct":k[U].x2+=I,k[U].y2+=M;case"qct":k[U].x1+=I,k[U].y1+=M;default:k[U].x+=I,k[U].y+=M}return k},b=function(k){return k.sort(function(I,M){return I-M})},_=function(k,I){var M=this.fillStyle,U=this.strokeStyle,R=this.lineCap,G=this.lineWidth,te=Math.abs(G*this.ctx.transform.scaleX),V=this.lineJoin;if(this.autoPaging){for(var Y,oe,ve=JSON.parse(JSON.stringify(this.path)),Ne=JSON.parse(JSON.stringify(this.path)),_e=[],X=0;X<Ne.length;X++)if(Ne[X].x!==void 0)for(var Ee=x.call(this,Ne[X]),Oe=0;Oe<Ee.length;Oe+=1)_e.indexOf(Ee[Oe])===-1&&_e.push(Ee[Oe]);for(var be=0;be<_e.length;be++)for(;this.pdf.internal.getNumberOfPages()<_e[be];)g.call(this);b(_e);for(var xe=_e[0],De=_e[_e.length-1],Be=xe;Be<De+1;Be++){this.pdf.setPage(Be),this.fillStyle=M,this.strokeStyle=U,this.lineCap=R,this.lineWidth=te,this.lineJoin=V;var Ce=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Xe=Be===1?this.posY+this.margin[0]:this.margin[0],tt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ct=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],pt=Be===1?0:tt+(Be-2)*ct;if(this.ctx.clip_path.length!==0){var bt=this.path;Y=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(Y,this.posX+this.margin[3],-pt+Xe+this.ctx.prevPageLastElemOffset),E.call(this,k,!0),this.path=bt}if(oe=JSON.parse(JSON.stringify(ve)),this.path=v(oe,this.posX+this.margin[3],-pt+Xe+this.ctx.prevPageLastElemOffset),I===!1||Be===0){var Ae=(Be>xe||Be<De)&&m.call(this);Ae&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ce,ct,null).clip().discardPath()),E.call(this,k,I),Ae&&this.pdf.restoreGraphicsState()}this.lineWidth=G}this.path=ve}else this.lineWidth=te,E.call(this,k,I),this.lineWidth=G},E=function(k,I){if((k!=="stroke"||I||!y.call(this))&&(k==="stroke"||I||!h.call(this))){for(var M,U,R=[],G=this.path,te=0;te<G.length;te++){var V=G[te];switch(V.type){case"begin":R.push({begin:!0});break;case"close":R.push({close:!0});break;case"mt":R.push({start:V,deltas:[],abs:[]});break;case"lt":var Y=R.length;if(G[te-1]&&!isNaN(G[te-1].x)&&(M=[V.x-G[te-1].x,V.y-G[te-1].y],Y>0)){for(;Y>=0;Y--)if(R[Y-1].close!==!0&&R[Y-1].begin!==!0){R[Y-1].deltas.push(M),R[Y-1].abs.push(V);break}}break;case"bct":M=[V.x1-G[te-1].x,V.y1-G[te-1].y,V.x2-G[te-1].x,V.y2-G[te-1].y,V.x-G[te-1].x,V.y-G[te-1].y],R[R.length-1].deltas.push(M);break;case"qct":var oe=G[te-1].x+2/3*(V.x1-G[te-1].x),ve=G[te-1].y+2/3*(V.y1-G[te-1].y),Ne=V.x+2/3*(V.x1-V.x),_e=V.y+2/3*(V.y1-V.y),X=V.x,Ee=V.y;M=[oe-G[te-1].x,ve-G[te-1].y,Ne-G[te-1].x,_e-G[te-1].y,X-G[te-1].x,Ee-G[te-1].y],R[R.length-1].deltas.push(M);break;case"arc":R.push({deltas:[],abs:[],arc:!0}),Array.isArray(R[R.length-1].abs)&&R[R.length-1].abs.push(V)}}U=I?null:k==="stroke"?"stroke":"fill";for(var Oe=!1,be=0;be<R.length;be++)if(R[be].arc)for(var xe=R[be].abs,De=0;De<xe.length;De++){var Be=xe[De];Be.type==="arc"?O.call(this,Be.x,Be.y,Be.radius,Be.startAngle,Be.endAngle,Be.counterclockwise,void 0,I,!Oe):T.call(this,Be.x,Be.y),Oe=!0}else if(R[be].close===!0)this.pdf.internal.out("h"),Oe=!1;else if(R[be].begin!==!0){var Ce=R[be].start.x,Xe=R[be].start.y;B.call(this,R[be].deltas,Ce,Xe),Oe=!0}U&&C.call(this,U),I&&L.call(this)}},F=function(k){var I=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,M=I*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return k-M;case"top":return k+I-M;case"hanging":return k+I-2*M;case"middle":return k+I/2-M;default:return k}},A=function(k){return k+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var k=function(){};return k.colorStops=[],k.addColorStop=function(I,M){this.colorStops.push([I,M])},k.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},k.isCanvasGradient=!0,k},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var O=function(k,I,M,U,R,G,te,V,Y){for(var oe=Q.call(this,M,U,R,G),ve=0;ve<oe.length;ve++){var Ne=oe[ve];ve===0&&(Y?N.call(this,Ne.x1+k,Ne.y1+I):T.call(this,Ne.x1+k,Ne.y1+I)),z.call(this,k,I,Ne.x2,Ne.y2,Ne.x3,Ne.y3,Ne.x4,Ne.y4)}V?L.call(this):C.call(this,te)},C=function(k){switch(k){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},L=function(){this.pdf.clip(),this.pdf.discardPath()},N=function(k,I){this.pdf.internal.out(r(k)+" "+n(I)+" m")},j=function(k){var I;switch(k.align){case"right":case"end":I="right";break;case"center":I="center";break;default:I="left"}var M,U,R,G=this.pdf.getTextDimensions(k.text),te=F.call(this,k.y),V=A.call(this,te)-G.h,Y=this.ctx.transform.applyToPoint(new s(k.x,te));if(this.autoPaging){var oe=this.ctx.transform.decompose(),ve=new l;ve=(ve=(ve=ve.multiply(oe.translate)).multiply(oe.skew)).multiply(oe.scale);for(var Ne=this.ctx.transform.applyToRectangle(new o(k.x,te,G.w,G.h)),_e=ve.applyToRectangle(new o(k.x,V,G.w,G.h)),X=x.call(this,_e),Ee=[],Oe=0;Oe<X.length;Oe+=1)Ee.indexOf(X[Oe])===-1&&Ee.push(X[Oe]);b(Ee);for(var be=Ee[0],xe=Ee[Ee.length-1],De=be;De<xe+1;De++){this.pdf.setPage(De);var Be=De===1?this.posY+this.margin[0]:this.margin[0],Ce=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Xe=this.pdf.internal.pageSize.height-this.margin[2],tt=Xe-this.margin[0],ct=this.pdf.internal.pageSize.width-this.margin[1],pt=ct-this.margin[3],bt=De===1?0:Ce+(De-2)*tt;if(this.ctx.clip_path.length!==0){var Ae=this.path;M=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(M,this.posX+this.margin[3],-1*bt+Be),E.call(this,"fill",!0),this.path=Ae}var We=v([JSON.parse(JSON.stringify(_e))],this.posX+this.margin[3],-bt+Be+this.ctx.prevPageLastElemOffset)[0];k.scale>=.01&&(U=this.pdf.internal.getFontSize(),this.pdf.setFontSize(U*k.scale),R=this.lineWidth,this.lineWidth=R*k.scale);var Ye=this.autoPaging!=="text";if(Ye||We.y+We.h<=Xe){if(Ye||We.y>=Be&&We.x<=ct){var $e=Ye?k.text:this.pdf.splitTextToSize(k.text,k.maxWidth||ct-We.x)[0],At=v([JSON.parse(JSON.stringify(Ne))],this.posX+this.margin[3],-bt+Be+this.ctx.prevPageLastElemOffset)[0],ot=Ye&&(De>be||De<xe)&&m.call(this);ot&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],pt,tt,null).clip().discardPath()),this.pdf.text($e,At.x,At.y,{angle:k.angle,align:I,renderingMode:k.renderingMode}),ot&&this.pdf.restoreGraphicsState()}}else We.y<Xe&&(this.ctx.prevPageLastElemOffset+=Xe-We.y);k.scale>=.01&&(this.pdf.setFontSize(U),this.lineWidth=R)}}else k.scale>=.01&&(U=this.pdf.internal.getFontSize(),this.pdf.setFontSize(U*k.scale),R=this.lineWidth,this.lineWidth=R*k.scale),this.pdf.text(k.text,Y.x+this.posX,Y.y+this.posY,{angle:k.angle,align:I,renderingMode:k.renderingMode,maxWidth:k.maxWidth}),k.scale>=.01&&(this.pdf.setFontSize(U),this.lineWidth=R)},T=function(k,I,M,U){M=M||0,U=U||0,this.pdf.internal.out(r(k+M)+" "+n(I+U)+" l")},B=function(k,I,M){return this.pdf.lines(k,I,M,null,null)},z=function(k,I,M,U,R,G,te,V){this.pdf.internal.out([t(i(M+k)),t(a(U+I)),t(i(R+k)),t(a(G+I)),t(i(te+k)),t(a(V+I)),"c"].join(" "))},Q=function(k,I,M,U){for(var R=2*Math.PI,G=Math.PI/2;I>M;)I-=R;var te=Math.abs(M-I);te<R&&U&&(te=R-te);for(var V=[],Y=U?-1:1,oe=I;te>1e-5;){var ve=oe+Y*Math.min(te,G);V.push(ne.call(this,k,oe,ve)),te-=Math.abs(ve-oe),oe=ve}return V},ne=function(k,I,M){var U=(M-I)/2,R=k*Math.cos(U),G=k*Math.sin(U),te=R,V=-G,Y=te*te+V*V,oe=Y+te*R+V*G,ve=4/3*(Math.sqrt(2*Y*oe)-oe)/(te*G-V*R),Ne=te-ve*V,_e=V+ve*te,X=Ne,Ee=-_e,Oe=U+I,be=Math.cos(Oe),xe=Math.sin(Oe);return{x1:k*Math.cos(I),y1:k*Math.sin(I),x2:Ne*be-_e*xe,y2:Ne*xe+_e*be,x3:X*be-Ee*xe,y3:X*xe+Ee*be,x4:k*Math.cos(M),y4:k*Math.sin(M)}},ie=function(k){return 180*k/Math.PI},K=function(k,I,M,U,R,G){var te=k+.5*(M-k),V=I+.5*(U-I),Y=R+.5*(M-R),oe=G+.5*(U-G),ve=Math.min(k,R,te,Y),Ne=Math.max(k,R,te,Y),_e=Math.min(I,G,V,oe),X=Math.max(I,G,V,oe);return new o(ve,_e,Ne-ve,X-_e)},W=function(k,I,M,U,R,G,te,V){var Y,oe,ve,Ne,_e,X,Ee,Oe,be,xe,De,Be,Ce,Xe,tt=M-k,ct=U-I,pt=R-M,bt=G-U,Ae=te-R,We=V-G;for(oe=0;oe<41;oe++)be=(Ee=(ve=k+(Y=oe/40)*tt)+Y*((_e=M+Y*pt)-ve))+Y*(_e+Y*(R+Y*Ae-_e)-Ee),xe=(Oe=(Ne=I+Y*ct)+Y*((X=U+Y*bt)-Ne))+Y*(X+Y*(G+Y*We-X)-Oe),oe==0?(De=be,Be=xe,Ce=be,Xe=xe):(De=Math.min(De,be),Be=Math.min(Be,xe),Ce=Math.max(Ce,be),Xe=Math.max(Xe,xe));return new o(Math.round(De),Math.round(Be),Math.round(Ce-De),Math.round(Xe-Be))},q=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var k,I,M=(k=this.ctx.lineDash,I=this.ctx.lineDashOffset,JSON.stringify({lineDash:k,lineDashOffset:I}));this.prevLineDash!==M&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=M)}}})(Ct.API),function(e){var t=function(s){var o,l,c,u,d,p,h,y,m,x;for(l=[],c=0,u=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;u>c;c+=4)(d=(s.charCodeAt(c)<<24)+(s.charCodeAt(c+1)<<16)+(s.charCodeAt(c+2)<<8)+s.charCodeAt(c+3))!==0?(p=(d=((d=((d=((d=(d-(x=d%85))/85)-(m=d%85))/85)-(y=d%85))/85)-(h=d%85))/85)%85,l.push(p+33,h+33,y+33,m+33,x+33)):l.push(122);return function(g,v){for(var b=v;b>0;b--)g.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},r=function(s){var o,l,c,u,d,p=String,h="length",y=255,m="charCodeAt",x="slice",g="replace";for(s[x](-2),s=s[x](0,-2)[g](/\s/g,"")[g]("z","!!!!!"),c=[],u=0,d=(s+=o="uuuuu"[x](s[h]%5||5))[h];d>u;u+=5)l=52200625*(s[m](u)-33)+614125*(s[m](u+1)-33)+7225*(s[m](u+2)-33)+85*(s[m](u+3)-33)+(s[m](u+4)-33),c.push(y&l>>24,y&l>>16,y&l>>8,y&l);return function(v,b){for(var _=b;_>0;_--)v.pop()}(c,o[h]),p.fromCharCode.apply(p,c)},n=function(s){return s.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var l="",c=0;c<s.length;c+=2)l+=String.fromCharCode("0x"+(s[c]+s[c+1]));return l},a=function(s){for(var o=new Uint8Array(s.length),l=s.length;l--;)o[l]=s.charCodeAt(l);return(o=Zv(o)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};e.processDataByFilters=function(s,o){var l=0,c=s||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=i(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=n(c),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=a(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(Ct.API),function(e){e.loadFile=function(t,r,n){return function(i,a,s){a=a!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=function(l,c,u){var d=new XMLHttpRequest,p=0,h=function(y){var m=y.length,x=[],g=String.fromCharCode;for(p=0;p<m;p+=1)x.push(g(255&y.charCodeAt(p)));return x.join("")};if(d.open("GET",l,!c),d.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(d.onload=function(){d.status===200?u(h(this.responseText)):u(void 0)}),d.send(null),c&&d.status===200)return h(d.responseText)}(i,a,s)}catch{}return o}(t,r,n)},e.loadImageFile=e.loadFile}(Ct.API),function(e){function t(){return(It.html2canvas?Promise.resolve(It.html2canvas):Xo(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(It.DOMPurify?Promise.resolve(It.DOMPurify):Xo(()=>import("./purify.es-C5KSVp3G.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var l=dr(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(o,l){var c=document.createElement(o);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},a=function o(l,c){for(var u=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),d=l.firstChild;d;d=d.nextSibling)c!==!0&&d.nodeType===1&&d.nodeName==="SCRIPT"||u.appendChild(o(d,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(u.width=l.width,u.height=l.height,u.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(u.value=l.value),u.addEventListener("load",function(){u.scrollTop=l.scrollTop,u.scrollLeft=l.scrollLeft},!0)),u},s=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),c);return(u=u.setProgress(1,o,1,[o])).set(l)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,l){return o.__proto__=l||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o),l){case"string":return this.then(r).then(function(c){return this.set({src:i("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var h=0;h<u.length;++h){var y=u[h],m=y.src.find(function(x){return x.format==="truetype"});m&&c.addFont(m.url,y.ref.name,y.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,c.context2d.save(!0),l(this.prop.container,p)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},s.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(n(o)!=="object")return this;var l=Object.keys(o||{}).map(function(c){if(c in s.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},s.prototype.get=function(o,l){return this.then(function(){var c=o in s.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},s.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(o=o||Ct.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,l,c,u){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,l,c,u){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},s.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(u,d){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(p){return c.updateProgress(null,u),p}).then(u,d).then(function(p){return c.updateProgress(1),p})})},s.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then;var u=this;o&&(o=o.bind(u)),l&&(l=l.bind(u));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:s.convert(Object.assign({},u),Promise.prototype),p=c.call(d,o,l);return s.convert(p,u.__proto__)},s.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},s.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},s.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return s.convert(l,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Ct.getPageSize=function(o,l,c){if(dr(o)==="object"){var u=o;o=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var d,p=(""+c).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+l}var y,m=0,x=0;if(h.hasOwnProperty(p))m=h[p][1]/d,x=h[p][0]/d;else try{m=c[1],x=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",x>m&&(y=x,x=m,m=y);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",m>x&&(y=x,x=m,m=y)}return{width:x,height:m,unit:l,k:d,orientation:o}},e.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(jg):null;var c=new s(l);return l.worker?c:c.from(o).doCallback()}}(Ct.API),Ct.API.addJS=function(e){return Dw=e,this.internal.events.subscribe("postPutResources",function(){k0=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(k0+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Rw=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Dw+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){k0!==void 0&&Rw!==void 0&&this.internal.out("/Names <</JavaScript "+k0+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),a=0;a<i.length;a++){var s=i[a],o=n.exec(s);if(o!=null){var l=o[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(a=0;a<c;a++){var d=r.internal.newObject();u.push(d);var p=r.internal.getPageInfo(a+1);r.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var h=r.internal.newObject();for(r.internal.write("<< /Names [ "),a=0;a<u.length;a++)r.internal.write("(page_"+(a+1)+")"+u[a]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+h+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,a){var s={title:i,options:a,children:[]};return n==null&&(n=this.root),n.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<n.children.length;a++){var s=n.children[a];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),a>0&&this.line("/Prev "+this.makeRef(n.children[a-1])),a<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[a+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var l=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var a=0;a<i.children.length;a++)n.count++,this.count_r(n,i.children[a]);return n.count}}])}(Ct.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,i,a,s,o){var l,c=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,l=function(d){for(var p,h=256*d.charCodeAt(4)+d.charCodeAt(5),y=d.length,m={width:0,height:0,numcomponents:1},x=4;x<y;x+=2){if(x+=h,t.indexOf(d.charCodeAt(x+1))!==-1){p=256*d.charCodeAt(x+5)+d.charCodeAt(x+6),m={width:256*d.charCodeAt(x+7)+d.charCodeAt(x+8),height:p,numcomponents:d.charCodeAt(x+9)};break}h=256*d.charCodeAt(x+2)+d.charCodeAt(x+3)}return m}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),l.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}u={data:r,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:n,alias:i}}return u}}(Ct.API),Ct.API.processPNG=function(e,t,r,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var i,a=sG(e,{checkCrc:!0}),s=a.width,o=a.height,l=a.channels,c=a.palette,u=a.depth;i=c&&l===1?function(O){for(var C=O.width,L=O.height,N=O.data,j=O.palette,T=O.depth,B=!1,z=[],Q=[],ne=void 0,ie=!1,K=0,W=0;W<j.length;W++){var q=C5(j[W],4),k=q[0],I=q[1],M=q[2],U=q[3];z.push(k,I,M),U!=null&&(U===0?(K++,Q.length<1&&Q.push(W)):U<255&&(ie=!0))}if(ie||K>1){B=!0,Q=void 0;var R=C*L;ne=new Uint8Array(R);for(var G=new DataView(N.buffer),te=0;te<R;te++){var V=Cg(G,te,T),Y=C5(j[V],4)[3];ne[te]=Y}}else K===0&&(Q=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:B?8:void 0,colorBytes:N,alphaBytes:ne,needSMask:B,palette:z,mask:Q}}(a):l===2||l===4?function(O){for(var C=O.data,L=O.width,N=O.height,j=O.channels,T=O.depth,B=j===2?"DeviceGray":"DeviceRGB",z=j-1,Q=L*N,ne=z,ie=Q*ne,K=1*Q,W=Math.ceil(ie*T/8),q=Math.ceil(K*T/8),k=new Uint8Array(W),I=new Uint8Array(q),M=new DataView(C.buffer),U=new DataView(k.buffer),R=new DataView(I.buffer),G=!1,te=0;te<Q;te++){for(var V=te*j,Y=0;Y<ne;Y++)Vw(U,Cg(M,V+Y,T),te*ne+Y,T);var oe=Cg(M,V+ne,T);oe<(1<<T)-1&&(G=!0),Vw(R,oe,1*te,T)}return{colorSpace:B,colorsPerPixel:z,sMaskBitsPerComponent:G?T:void 0,colorBytes:k,alphaBytes:I,needSMask:G}}(a):function(O){var C=O.data,L=O.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:L,colorsPerPixel:L==="DeviceGray"?1:3,colorBytes:C instanceof Uint16Array?function(N){for(var j=N.length,T=new Uint8Array(2*j),B=new DataView(T.buffer,T.byteOffset,T.byteLength),z=0;z<j;z++)B.setUint16(2*z,N[z],!1);return T}(C):C,needSMask:!1}}(a);var d,p,h,y=i,m=y.colorSpace,x=y.colorsPerPixel,g=y.sMaskBitsPerComponent,v=y.colorBytes,b=y.alphaBytes,_=y.needSMask,E=y.palette,F=y.mask,A=null;return n!==Ct.API.image_compression.NONE&&typeof Zv=="function"?(A=function(O){var C;switch(O){case Ct.API.image_compression.FAST:C=11;break;case Ct.API.image_compression.MEDIUM:C=13;break;case Ct.API.image_compression.SLOW:C=14;break;default:C=12}return C}(n),d=this.decode.FLATE_DECODE,p="/Predictor ".concat(A," /Colors ").concat(x," /BitsPerComponent ").concat(u," /Columns ").concat(s),e=qw(v,Math.ceil(s*x*u/8),x,u,n),_&&(h=qw(b,Math.ceil(s*g/8),1,g,n))):(d=void 0,p=void 0,e=v,_&&(h=b)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:r,data:e,index:t,filter:d,decodeParameters:p,transparency:F,palette:E,sMask:h,predictor:A,width:s,height:o,bitsPerComponent:u,sMaskBitsPerComponent:g,colorSpace:m}}},function(e){e.processGIF89A=function(t,r,n,i){var a=new AG(t),s=a.width,o=a.height,l=[];a.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:s,height:o},u=new Lg(100).encode(c,100);return e.processJPEG.call(this,u,r,n,i)},e.processGIF87A=e.processGIF89A}(Ct.API),Pa.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:n,blue:r,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Pa.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){br.log("bit decode error:"+r)}},Pa.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[a>>7-o&1];this.data[s+4*o]=l.blue,this.data[s+4*o+1]=l.green,this.data[s+4*o+2]=l.red,this.data[s+4*o+3]=255}r!==0&&(this.pos+=4-r)}},Pa.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<e;i++){var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*i*4,o=a>>4,l=15&a,c=this.palette[o];if(this.data[s]=c.blue,this.data[s+1]=c.green,this.data[s+2]=c.red,this.data[s+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[s+4]=c.blue,this.data[s+4+1]=c.green,this.data[s+4+2]=c.red,this.data[s+4+3]=255}t!==0&&(this.pos+=4-t)}},Pa.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+4*n;if(i<this.palette.length){var s=this.palette[i];this.data[a]=s.red,this.data[a+1]=s.green,this.data[a+2]=s.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}e!==0&&(this.pos+=4-e)}},Pa.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&t)/t*255|0,o=(a>>5&t)/t*255|0,l=(a>>10&t)/t*255|0,c=a>>15?255:0,u=n*this.width*4+4*i;this.data[u]=l,this.data[u+1]=o,this.data[u+2]=s,this.data[u+3]=c}this.pos+=e}},Pa.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,l=(s>>5&r)/r*255|0,c=(s>>11)/t*255|0,u=i*this.width*4+4*a;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=255}this.pos+=e}},Pa.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},Pa.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=s}},Pa.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,i){var a=new Pa(t,!1),s=a.width,o=a.height,l={data:a.getData(),width:s,height:o},c=new Lg(100).encode(l,100);return e.processJPEG.call(this,c,r,n,i)}}(Ct.API),Kw.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,i){var a=new Kw(t),s=a.width,o=a.height,l={data:a.getData(),width:s,height:o},c=new Lg(100).encode(l,100);return e.processJPEG.call(this,c,r,n,i)}}(Ct.API),Ct.API.processRGBA=function(e,t,r){for(var n=e.data,i=n.length,a=new Uint8Array(i/4*3),s=new Uint8Array(i/4),o=0,l=0,c=0;c<i;c+=4){var u=n[c],d=n[c+1],p=n[c+2],h=n[c+3];a[o++]=u,a[o++]=d,a[o++]=p,s[l++]=h}var y=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:y,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Ct.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Rc=Ct.API,E0=Rc.getCharWidthsArray=function(e,t){var r,n,i=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),s=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,c=t.kerning?t.kerning:i.metadata.Unicode.kerning,u=c.fof?c.fof:1,d=t.doKerning!==!1,p=0,h=e.length,y=0,m=o[0]||l,x=[];for(r=0;r<h;r++)n=e.charCodeAt(r),typeof i.metadata.widthOfString=="function"?x.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+s*(1e3/a)||0)/1e3):(p=d&&dr(c[n])==="object"&&!isNaN(parseInt(c[n][y],10))?c[n][y]/u:0,x.push((o[n]||m)/l+p)),y=n;return x},Mw=Rc.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return Rc.processArabic&&(e=Rc.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,i)/r:E0.apply(this,arguments).reduce(function(a,s){return a+s},0)},Bw=function(e,t,r,n){for(var i=[],a=0,s=e.length,o=0;a!==s&&o+t[a]<r;)o+=t[a],a++;i.push(e.slice(0,a));var l=a;for(o=0;a!==s;)o+t[a]>n&&(i.push(e.slice(l,a)),o=0,l=a),o+=t[a],a++;return l!==a&&i.push(e.slice(l,a)),i},Uw=function(e,t,r){r||(r={});var n,i,a,s,o,l,c,u=[],d=[u],p=r.textIndent||0,h=0,y=0,m=e.split(" "),x=E0.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?m[0].length+2:r.lineIndent||0){var g=Array(l).join(" "),v=[];m.map(function(_){(_=_.split(/\s*\n/)).length>1?v=v.concat(_.map(function(E,F){return(F&&E.length?`
`:"")+E})):v.push(_[0])}),m=v,l=Mw.apply(this,[g,r])}for(a=0,s=m.length;a<s;a++){var b=0;if(n=m[a],l&&n[0]==`
`&&(n=n.substr(1),b=1),p+h+(y=(i=E0.apply(this,[n,r])).reduce(function(_,E){return _+E},0))>t||b){if(y>t){for(o=Bw.apply(this,[n,i,t-(p+h),t]),u.push(o.shift()),u=[o.pop()];o.length;)d.push([o.shift()]);y=i.slice(n.length-(u[0]?u[0].length:0)).reduce(function(_,E){return _+E},0)}else u=[n];d.push(u),p=y+l,h=x}else u.push(n),p+=h+y,h=x}return c=l?function(_,E){return(E?g:"")+_.join(" ")}:function(_){return _.join(" ")},d.map(c)},Rc.splitTextToSize=function(e,t,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),a=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var d=this.internal.getFont(u.fontName,u.fontStyle),p="Unicode";return d.metadata[p]?{widths:d.metadata[p].widths||{0:1},kerning:d.metadata[p].kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var s=1*this.internal.scaleFactor*t/i;a.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=r.lineIndent;var o,l,c=[];for(o=0,l=n.length;o<l;o++)c=c.concat(Uw.apply(this,[n[o],s,a]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},i={},a=0;a<16;a++)n[r[a]]=t[a],i[t[a]]=r[a];var s=function(p){return"0x"+parseInt(p,10).toString(16)},o=e.__fontmetrics__.compress=function(p){var h,y,m,x,g=["{"];for(var v in p){if(h=p[v],isNaN(parseInt(v,10))?y="'"+v+"'":(v=parseInt(v,10),y=(y=s(v).slice(2)).slice(0,-1)+i[y.slice(-1)]),typeof h=="number")h<0?(m=s(h).slice(3),x="-"):(m=s(h).slice(2),x=""),m=x+m.slice(0,-1)+i[m.slice(-1)];else{if(dr(h)!=="object")throw new Error("Don't know what to do with value type "+dr(h)+".");m=o(h)}g.push(y+m)}return g.push("}"),g.join("")},l=e.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,y,m,x,g={},v=1,b=g,_=[],E="",F="",A=p.length-1,O=1;O<A;O+=1)(x=p[O])=="'"?h?(m=h.join(""),h=void 0):h=[]:h?h.push(x):x=="{"?(_.push([b,m]),b={},m=void 0):x=="}"?((y=_.pop())[0][y[1]]=b,m=void 0,b=y[0]):x=="-"?v=-1:m===void 0?n.hasOwnProperty(x)?(E+=n[x],m=parseInt(E,16)*v,v=1,E=""):E+=x:n.hasOwnProperty(x)?(F+=n[x],b[m]=parseInt(F,16)*v,v=1,m=void 0,F=""):F+=x;return g},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},d={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(p){var h=p.font,y=d.Unicode[h.postScriptName];y&&(h.metadata.Unicode={},h.metadata.Unicode.widths=y.widths,h.metadata.Unicode.kerning=y.kerning);var m=u.Unicode[h.postScriptName];m&&(h.metadata.Unicode.encoding=m,h.encoding=m.codePages[0])}])}(Ct.API),function(e){var t=function(r){for(var n=r.length,i=new Uint8Array(n),a=0;a<n;a++)i[a]=r.charCodeAt(a);return i};e.API.events.push(["addFont",function(r){var n=void 0,i=r.font,a=r.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(z0(o)),s.metadata=e.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,n)}}])}(Ct),Ct.API.addSvgAsImage=function(e,t,r,n,i,a,s,o){if(isNaN(t)||isNaN(r))throw br.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw br.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=n,l.height=i;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},d=this;return(It.canvg?Promise.resolve(It.canvg):Xo(()=>import("./index.es-CL53NNOc.js"),[])).catch(function(p){return Promise.reject(new Error("Could not load canvg: "+p))}).then(function(p){return p.default?p.default:p}).then(function(p){return p.fromString(c,e,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(p){return p.render(u)}).then(function(){d.addImage(l.toDataURL("image/jpeg",1),t,r,n,i,s,o)})},Ct.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(t,r);return this},Ct.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,i,a,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),l=[],c=0,u=0,d=0;function p(y,m){var x,g=!1;for(x=0;x<y.length;x+=1)y[x]===m&&(g=!0);return g}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var h=o.length;for(d=0;d<h;d+=1)r[o[d]].value=r[o[d]].defaultValue,r[o[d]].explicitSet=!1}if(dr(e)==="object"){for(i in e)if(a=e[i],p(o,i)&&a!==void 0){if(r[i].type==="boolean"&&typeof a=="boolean")r[i].value=a;else if(r[i].type==="name"&&p(r[i].valueSet,a))r[i].value=a;else if(r[i].type==="integer"&&Number.isInteger(a))r[i].value=a;else if(r[i].type==="array"){for(c=0;c<a.length;c+=1)if(n=!0,a[c].length===1&&typeof a[c][0]=="number")l.push(String(a[c]-1));else if(a[c].length>1){for(u=0;u<a[c].length;u+=1)typeof a[c][u]!="number"&&(n=!1);n===!0&&l.push([a[c][0]-1,a[c][1]-1].join(" "))}r[i].value="["+l.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var y,m=[];for(y in r)r[y].explicitSet===!0&&(r[y].type==="name"?m.push("/"+y+" /"+r[y].value):m.push("/"+y+" "+r[y].value));m.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+m.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=a.length+s.length+o.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+a+s+o+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(Ct.API),function(e){var t=e.API,r=t.pdfEscape16=function(a,s){for(var o,l=s.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],d=0,p=a.length;d<p;++d){if(o=s.metadata.characterToGlyph(a.charCodeAt(d)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=a.charCodeAt(d),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return u.join("");o=o.toString(16),u.push(c[4-o.length],o)}return u.join("")},n=function(a){var s,o,l,c,u,d,p;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],d=0,p=(o=Object.keys(a).sort(function(h,y){return h-y})).length;d<p;d++)s=o[d],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),a[s]!==void 0&&a[s]!==null&&typeof a[s].toString=="function"&&(c=("0000"+a[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(a){(function(s){var o=s.font,l=s.out,c=s.newObject,u=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var d=o.metadata.Unicode.widths,p=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),h="",y=0;y<p.length;y++)h+=String.fromCharCode(p[y]);var m=c();u({data:h,addLength1:!0,objectId:m}),l("endobj");var x=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:x}),l("endobj");var g=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+qc(o.fontName)),l("/FontFile2 "+m+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var v=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+qc(o.fontName)),l("/FontDescriptor "+g+" 0 R"),l("/W "+e.API.PDFObject.convert(d)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+x+" 0 R"),l("/BaseFont /"+qc(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+v+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(a)}]),t.events.push(["putFont",function(a){(function(s){var o=s.font,l=s.out,c=s.newObject,u=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var d=o.metadata.rawData,p="",h=0;h<d.length;h++)p+=String.fromCharCode(d[h]);var y=c();u({data:p,addLength1:!0,objectId:y}),l("endobj");var m=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:m}),l("endobj");var x=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+y+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+qc(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var g=0;g<o.metadata.hmtx.widths.length;g++)o.metadata.hmtx.widths[g]=parseInt(o.metadata.hmtx.widths[g]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+m+" 0 R/BaseFont/"+qc(o.fontName)+"/FontDescriptor "+x+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(a)}]);var i=function(a){var s,o=a.text||"",l=a.x,c=a.y,u=a.options||{},d=a.mutex||{},p=d.pdfEscape,h=d.activeFontKey,y=d.fonts,m=h,x="",g=0,v="",b=y[m].encoding;if(y[m].encoding!=="Identity-H")return{text:o,x:l,y:c,options:u,mutex:d};for(v=o,m=h,Array.isArray(o)&&(v=o[0]),g=0;g<v.length;g+=1)y[m].metadata.hasOwnProperty("cmap")&&(s=y[m].metadata.cmap.unicode.codeMap[v[g].charCodeAt(0)]),s||v[g].charCodeAt(0)<256&&y[m].metadata.hasOwnProperty("Unicode")?x+=v[g]:x+="";var _="";return parseInt(m.slice(1))<14||b==="WinAnsiEncoding"?_=p(x,m).split("").map(function(E){return E.charCodeAt(0).toString(16)}).join(""):b==="Identity-H"&&(_=r(x,y[m])),d.isHex=!0,{text:_,x:l,y:c,options:u,mutex:d}};t.events.push(["postProcessText",function(a){var s=a.text||"",o=[],l={text:s,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(s)){var c=0;for(c=0;c<s.length;c+=1)Array.isArray(s[c])&&s[c].length===3?o.push([i(Object.assign({},l,{text:s[c][0]})).text,s[c][1],s[c][2]]):o.push(i(Object.assign({},l,{text:s[c]})).text);a.text=o}else a.text=i(Object.assign({},l,{text:s})).text}])}(Ct),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Ct.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var i,a,s,o,l,c,u,d=t,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},m={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},x=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],g=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),v=!1,b=0;this.__bidiEngine__={};var _=function(N){var j=N.charCodeAt(),T=j>>8,B=m[T];return B!==void 0?d[256*B+(255&j)]:T===252||T===253?"AL":g.test(T)?"L":T===8?"R":"N"},E=function(N){for(var j,T=0;T<N.length;T++){if((j=_(N.charAt(T)))==="L")return!1;if(j==="R")return!0}return!1},F=function(N,j,T,B){var z,Q,ne,ie,K=j[B];switch(K){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":v=!1;break;case"N":case"AN":break;case"EN":v&&(K="AN");break;case"AL":v=!0,K="R";break;case"WS":case"BN":K="N";break;case"CS":B<1||B+1>=j.length||(z=T[B-1])!=="EN"&&z!=="AN"||(Q=j[B+1])!=="EN"&&Q!=="AN"?K="N":v&&(Q="AN"),K=Q===z?Q:"N";break;case"ES":K=(z=B>0?T[B-1]:"B")==="EN"&&B+1<j.length&&j[B+1]==="EN"?"EN":"N";break;case"ET":if(B>0&&T[B-1]==="EN"){K="EN";break}if(v){K="N";break}for(ne=B+1,ie=j.length;ne<ie&&j[ne]==="ET";)ne++;K=ne<ie&&j[ne]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for(ie=j.length,ne=B+1;ne<ie&&j[ne]==="NSM";)ne++;if(ne<ie){var W=N[B],q=W>=1425&&W<=2303||W===64286;if(z=j[ne],q&&(z==="R"||z==="AL")){K="R";break}}}K=B<1||(z=j[B-1])==="B"?"N":T[B-1];break;case"B":v=!1,i=!0,K=b;break;case"S":a=!0,K="N"}return K},A=function(N,j,T){var B=N.split("");return T&&O(B,T,{hiLevel:b}),B.reverse(),j&&j.reverse(),B.join("")},O=function(N,j,T){var B,z,Q,ne,ie,K=-1,W=N.length,q=0,k=[],I=b?h:p,M=[];for(v=!1,i=!1,a=!1,z=0;z<W;z++)M[z]=_(N[z]);for(Q=0;Q<W;Q++){if(ie=q,k[Q]=F(N,M,k,Q),B=240&(q=I[ie][y[k[Q]]]),q&=15,j[Q]=ne=I[q][5],B>0)if(B===16){for(z=K;z<Q;z++)j[z]=1;K=-1}else K=-1;if(I[q][6])K===-1&&(K=Q);else if(K>-1){for(z=K;z<Q;z++)j[z]=ne;K=-1}M[Q]==="B"&&(j[Q]=0),T.hiLevel|=ne}a&&function(U,R,G){for(var te=0;te<G;te++)if(U[te]==="S"){R[te]=b;for(var V=te-1;V>=0&&U[V]==="WS";V--)R[V]=b}}(M,j,W)},C=function(N,j,T,B,z){if(!(z.hiLevel<N)){if(N===1&&b===1&&!i)return j.reverse(),void(T&&T.reverse());for(var Q,ne,ie,K,W=j.length,q=0;q<W;){if(B[q]>=N){for(ie=q+1;ie<W&&B[ie]>=N;)ie++;for(K=q,ne=ie-1;K<ne;K++,ne--)Q=j[K],j[K]=j[ne],j[ne]=Q,T&&(Q=T[K],T[K]=T[ne],T[ne]=Q);q=ie}q++}}},L=function(N,j,T){var B=N.split(""),z={hiLevel:b};return T||(T=[]),O(B,T,z),function(Q,ne,ie){if(ie.hiLevel!==0&&u)for(var K,W=0;W<Q.length;W++)ne[W]===1&&(K=x.indexOf(Q[W]))>=0&&(Q[W]=x[K+1])}(B,T,z),C(2,B,j,T,z),C(1,B,j,T,z),B.join("")};return this.__bidiEngine__.doBidiReorder=function(N,j,T){if(function(z,Q){if(Q)for(var ne=0;ne<z.length;ne++)Q[ne]=ne;o===void 0&&(o=E(z)),c===void 0&&(c=E(z))}(N,j),s||!l||c)if(s&&l&&o^c)b=o?1:0,N=A(N,j,T);else if(!s&&l&&c)b=o?1:0,N=L(N,j,T),N=A(N,j);else if(!s||o||l||c){if(s&&!l&&o^c)N=A(N,j),o?(b=0,N=L(N,j,T)):(b=1,N=L(N,j,T),N=A(N,j));else if(s&&o&&!l&&c)b=1,N=L(N,j,T),N=A(N,j);else if(!s&&!l&&o^c){var B=u;o?(b=1,N=L(N,j,T),b=0,u=!1,N=L(N,j,T),u=B):(b=0,N=L(N,j,T),N=A(N,j),b=1,u=!1,N=L(N,j,T),u=B,N=A(N,j))}}else b=0,N=L(N,j,T);else b=o?1:0,N=L(N,j,T);return N},this.__bidiEngine__.setOptions=function(N){N&&(s=N.isInputVisual,l=N.isOutputVisual,o=N.isInputRtl,c=N.isOutputRtl,u=N.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var a=n.options||{};n.mutex,a.lang;var s=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,r.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(s=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?s.push([r.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):s.push([r.doBidiReorder(i[o])]);n.text=s}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(Ct),Ct.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new sl(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new $G(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new TG(this.contents),this.head=new OG(this),this.name=new IG(this),this.cmap=new Xk(this),this.toUnicode={},this.hhea=new CG(this),this.maxp=new RG(this),this.hmtx=new DG(this),this.post=new PG(this),this.os2=new LG(this),this.loca=new qG(this),this.glyf=new MG(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,o,l,c;for(c=[],s=0,o=(l=this.bbox).length;s<o;s++)t=l[s],c.push(Math.round(t*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var i,a,s,o;for(s=0,a=0,o=(t=""+t).length;0<=o?a<o:a>o;a=0<=o?++a:--a)i=t.charCodeAt(a),s+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return s*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var Ya,sl=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,i;for(i=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(t.charCodeAt(r)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,i,a,s,o,l;return t=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),a=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^a)+65536*(255^s)+256*(255^o)+(255^l)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*i+16777216*a+65536*s+256*o+l},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,i,a;for(a=[],n=0,i=t.length;n<i;n++)r=t[n],a.push(this.writeByte(r));return a},e}(),TG=function(){var e;function t(r){var n,i,a;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,i,a,s,o,l,c,u,d,p,h,y,m;for(m in h=Object.keys(r).length,l=Math.log(2),d=16*Math.floor(Math.log(h)/l),s=Math.floor(d/l),u=16*h-d,(i=new sl).writeInt(this.scalarType),i.writeShort(h),i.writeShort(d),i.writeShort(s),i.writeShort(u),a=16*h,c=i.pos+a,o=null,y=[],r)for(p=r[m],i.writeString(m),i.writeInt(e(p)),i.writeInt(c),i.writeInt(p.length),y=y.concat(p),m==="head"&&(o=c),c+=p.length;c%4;)y.push(0),c++;return i.write(y),n=2981146554-e(i.data),i.pos=o+8,i.writeUInt32(n),i.data},e=function(r){var n,i,a,s;for(r=Zk.call(r);r.length%4;)r.push(0);for(a=new sl(r),i=0,n=0,s=r.length;n<s;n=n+=4)i+=a.readUInt32();return 4294967295&i},t}(),jG={}.hasOwnProperty,ys=function(e,t){for(var r in t)jG.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};Ya=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var OG=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ys(e,Ya),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new sl).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),Yw=function(){function e(t,r){var n,i,a,s,o,l,c,u,d,p,h,y,m,x,g,v,b;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),d=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(h=t.readUInt16(),p=h/2,t.pos+=6,a=function(){var _,E;for(E=[],l=_=0;0<=p?_<p:_>p;l=0<=p?++_:--_)E.push(t.readUInt16());return E}(),t.pos+=2,m=function(){var _,E;for(E=[],l=_=0;0<=p?_<p:_>p;l=0<=p?++_:--_)E.push(t.readUInt16());return E}(),c=function(){var _,E;for(E=[],l=_=0;0<=p?_<p:_>p;l=0<=p?++_:--_)E.push(t.readUInt16());return E}(),u=function(){var _,E;for(E=[],l=_=0;0<=p?_<p:_>p;l=0<=p?++_:--_)E.push(t.readUInt16());return E}(),i=(this.length-t.pos+this.offset)/2,o=function(){var _,E;for(E=[],l=_=0;0<=i?_<i:_>i;l=0<=i?++_:--_)E.push(t.readUInt16());return E}(),l=g=0,b=a.length;g<b;l=++g)for(x=a[l],n=v=y=m[l];y<=x?v<=x:v>=x;n=y<=x?++v:--v)u[l]===0?s=n+c[l]:(s=o[u[l]/2+(n-y)-(p-l)]||0)!==0&&(s+=c[l]),this.codeMap[n]=65535&s}t.pos=d}return e.encode=function(t,r){var n,i,a,s,o,l,c,u,d,p,h,y,m,x,g,v,b,_,E,F,A,O,C,L,N,j,T,B,z,Q,ne,ie,K,W,q,k,I,M,U,R,G,te,V,Y,oe,ve;switch(B=new sl,s=Object.keys(t).sort(function(Ne,_e){return Ne-_e}),r){case"macroman":for(m=0,x=function(){var Ne=[];for(y=0;y<256;++y)Ne.push(0);return Ne}(),v={0:0},a={},z=0,K=s.length;z<K;z++)v[V=t[i=s[z]]]==null&&(v[V]=++m),a[i]={old:t[i],new:v[t[i]]},x[i]=v[t[i]];return B.writeUInt16(1),B.writeUInt16(0),B.writeUInt32(12),B.writeUInt16(0),B.writeUInt16(262),B.writeUInt16(0),B.write(x),{charMap:a,subtable:B.data,maxGlyphID:m+1};case"unicode":for(j=[],d=[],b=0,v={},n={},g=c=null,Q=0,W=s.length;Q<W;Q++)v[E=t[i=s[Q]]]==null&&(v[E]=++b),n[i]={old:E,new:v[E]},o=v[E]-i,g!=null&&o===c||(g&&d.push(g),j.push(i),c=o),g=i;for(g&&d.push(g),d.push(65535),j.push(65535),L=2*(C=j.length),O=2*Math.pow(Math.log(C)/Math.LN2,2),p=Math.log(O/2)/Math.LN2,A=2*C-O,l=[],F=[],h=[],y=ne=0,q=j.length;ne<q;y=++ne){if(N=j[y],u=d[y],N===65535){l.push(0),F.push(0);break}if(N-(T=n[N].new)>=32768)for(l.push(0),F.push(2*(h.length+C-y)),i=ie=N;N<=u?ie<=u:ie>=u;i=N<=u?++ie:--ie)h.push(n[i].new);else l.push(T-N),F.push(0)}for(B.writeUInt16(3),B.writeUInt16(1),B.writeUInt32(12),B.writeUInt16(4),B.writeUInt16(16+8*C+2*h.length),B.writeUInt16(0),B.writeUInt16(L),B.writeUInt16(O),B.writeUInt16(p),B.writeUInt16(A),G=0,k=d.length;G<k;G++)i=d[G],B.writeUInt16(i);for(B.writeUInt16(0),te=0,I=j.length;te<I;te++)i=j[te],B.writeUInt16(i);for(Y=0,M=l.length;Y<M;Y++)o=l[Y],B.writeUInt16(o);for(oe=0,U=F.length;oe<U;oe++)_=F[oe],B.writeUInt16(_);for(ve=0,R=h.length;ve<R;ve++)m=h[ve],B.writeUInt16(m);return{charMap:n,subtable:B.data,maxGlyphID:b+1}}},e}(),Xk=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ys(e,Ya),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,n,i;for(t.pos=this.offset,this.version=t.readUInt16(),i=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)r=new Yw(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var n,i;return r==null&&(r="macroman"),n=Yw.encode(t,r),(i=new sl).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},e}(),CG=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ys(e,Ya),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),LG=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ys(e,Ya),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(t.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(t.readInt());return n}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(t.readInt());return n}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),PG=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ys(e,Ya),e.prototype.tag="post",e.prototype.parse=function(t){var r,n,i;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(n=t.readUInt16(),this.glyphNameIndex=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],i=[];t.pos<this.offset+this.length;)r=t.readByte(),i.push(this.names.push(t.readString(r)));return i;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var s,o,l;for(l=[],a=s=0,o=this.file.maxp.numGlyphs;0<=o?s<o:s>o;a=0<=o?++s:--s)l.push(t.readUInt32());return l}).call(this)}},e}(),FG=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},IG=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ys(e,Ya),e.prototype.tag="name",e.prototype.parse=function(t){var r,n,i,a,s,o,l,c,u,d,p;for(t.pos=this.offset,t.readShort(),r=t.readShort(),o=t.readShort(),n=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+o+t.readShort()});for(l={},a=u=0,d=n.length;u<d;a=++u)i=n[a],t.pos=i.offset,c=t.readString(i.length),s=new FG(c,i),l[p=i.nameID]==null&&(l[p]=[]),l[i.nameID].push(s);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},e}(),RG=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ys(e,Ya),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),DG=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ys(e,Ya),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,n,i,a,s,o,l;for(t.pos=this.offset,this.metrics=[],r=0,o=this.file.hhea.numberOfMetrics;0<=o?r<o:r>o;r=0<=o?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,u;for(u=[],r=c=0;0<=i?c<i:c>i;r=0<=i?++c:--c)u.push(t.readInt16());return u}(),this.widths=(function(){var c,u,d,p;for(p=[],c=0,u=(d=this.metrics).length;c<u;c++)a=d[c],p.push(a.advance);return p}).call(this),n=this.widths[this.widths.length-1],l=[],r=s=0;0<=i?s<i:s>i;r=0<=i?++s:--s)l.push(this.widths.push(n));return l},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),Zk=[].slice,MG=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ys(e,Ya),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,n,i,a,s,o,l,c,u,d;return t in this.cache?this.cache[t]:(a=this.file.loca,r=this.file.contents,n=a.indexOf(t),(i=a.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+n,s=(o=new sl(r.read(i))).readShort(),c=o.readShort(),d=o.readShort(),l=o.readShort(),u=o.readShort(),this.cache[t]=s===-1?new UG(o,c,d,l,u):new BG(o,s,c,d,l,u),this.cache[t]))},e.prototype.encode=function(t,r,n){var i,a,s,o,l;for(s=[],a=[],o=0,l=r.length;o<l;o++)i=t[r[o]],a.push(s.length),i&&(s=s.concat(i.encode(n)));return a.push(s.length),{table:s,offsets:a}},e}(),BG=function(){function e(t,r,n,i,a,s){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=a,this.yMax=s,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),UG=function(){function e(t,r,n,i,a){var s,o;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new sl(Zk.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),qG=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ys(e,Ya),e.prototype.tag="loca",e.prototype.parse=function(t){var r,n;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=2)a.push(2*t.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=4)a.push(t.readUInt32());return a}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var n=new Uint32Array(this.offsets.length),i=0,a=0,s=0;s<n.length;++s)if(n[s]=i,a<r.length&&r[a]==s){++a,n[s]=i;var o=this.offsets[s],l=this.offsets[s+1]-o;l>0&&(i+=l)}for(var c=new Array(4*n.length),u=0;u<n.length;++u)c[4*u+3]=255&n[u],c[4*u+2]=(65280&n[u])>>8,c[4*u+1]=(16711680&n[u])>>16,c[4*u]=(4278190080&n[u])>>24;return c},e}(),$G=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,i,a;for(r in i=this.font.cmap.tables[0].codeMap,t={},a=this.subset)n=a[r],t[r]=i[n];return t},e.prototype.glyphsFor=function(t){var r,n,i,a,s,o,l;for(i={},s=0,o=t.length;s<o;s++)i[a=t[s]]=this.font.glyf.glyphFor(a);for(a in r=[],i)(n=i[a])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(a in l=this.glyphsFor(r))n=l[a],i[a]=n;return i},e.prototype.encode=function(t,r){var n,i,a,s,o,l,c,u,d,p,h,y,m,x,g;for(i in n=Xk.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(t),h={0:0},g=n.charMap)h[(l=g[i]).old]=l.new;for(y in p=n.maxGlyphID,s)y in h||(h[y]=p++);return u=function(v){var b,_;for(b in _={},v)_[v[b]]=b;return _}(h),d=Object.keys(u).sort(function(v,b){return v-b}),m=function(){var v,b,_;for(_=[],v=0,b=d.length;v<b;v++)o=d[v],_.push(u[o]);return _}(),a=this.font.glyf.encode(s,m,h),c=this.font.loca.encode(a.offsets,m),x={cmap:this.font.cmap.raw(),glyf:a.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(x["OS/2"]=this.font.os2.raw()),this.font.directory.encode(x)},e}();Ct.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,i,a,s;if(Array.isArray(r))return"["+function(){var o,l,c;for(c=[],o=0,l=r.length;o<l;o++)n=r[o],c.push(t.convert(n));return c}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in a=["<<"],r)s=r[i],a.push("/"+i+" "+t.convert(s));return a.push(">>"),a.join(`
`)}return""+r},t}();function zG({teamMemberId:e,teamMember:t}){const[r,n]=ye.useState([]),[i,a]=ye.useState([]),[s,o]=ye.useState(!0),[l,c]=ye.useState(""),[u,d]=ye.useState("start_date"),[p,h]=ye.useState("desc"),[y,m]=ye.useState(!1),[x,g]=ye.useState(null),[v,b]=ye.useState(null),[_,E]=ye.useState(!1),[F,A]=ye.useState({title:"",start_date:new Date().toISOString().split("T")[0],end_date:"",key_responsibilities:[],leader_alignment:!1,uploaded_to_paycom:!1});ye.useEffect(()=>{O()},[e]),ye.useEffect(()=>{C()},[r,l,u,p]);const O=async()=>{o(!0);try{const{data:V,error:Y}=await qe.from("kras").select("*").eq("team_member_id",e).order("created_at",{ascending:!1});if(Y)throw Y;n(V||[])}catch(V){console.error("Error fetching KRAs:",V)}o(!1)},C=()=>{let V=[...r];l&&(V=V.filter(Y=>Y.title.toLowerCase().includes(l.toLowerCase()))),V.sort((Y,oe)=>{let ve,Ne;return u==="start_date"?(ve=new Date(Y.start_date).getTime(),Ne=new Date(oe.start_date).getTime()):u==="title"?(ve=Y.title.toLowerCase(),Ne=oe.title.toLowerCase()):u==="is_active"?(ve=Y.is_active?1:0,Ne=oe.is_active?1:0):u==="created_at"&&(ve=new Date(Y.created_at).getTime(),Ne=new Date(oe.created_at).getTime()),p==="asc"?ve>Ne?1:-1:ve<Ne?1:-1}),a(V)},L=V=>{u===V?h(p==="asc"?"desc":"asc"):(d(V),h("desc"))},N=()=>{const{title:V,start_date:Y,key_responsibilities:oe}=F;return!V.trim()||!Y||oe.length<3||oe.length>5?!1:oe.every(ve=>ve.responsibility.trim()!==""&&ve.winning_looks_like.trim()!==""&&ve.what_it_takes.length>=2&&ve.what_it_takes.every(Ne=>Ne.trim()!==""))},j=async V=>{V.preventDefault(),E(!0);try{const Y={team_member_id:e,title:F.title,description:"",key_responsibilities:F.key_responsibilities,success_metrics:[],start_date:F.start_date,end_date:F.end_date||null,is_active:!0,leader_alignment:F.leader_alignment,uploaded_to_paycom:F.uploaded_to_paycom};if(v){const{error:oe}=await qe.from("kras").update(Y).eq("id",v);if(oe)throw oe}else{await qe.from("kras").update({is_active:!1,end_date:new Date().toISOString().split("T")[0]}).eq("team_member_id",e).eq("is_active",!0);const{error:oe}=await qe.from("kras").insert([Y]);if(oe)throw oe}m(!1),b(null),ne(),O()}catch(Y){console.error("Error saving KRA:",Y),alert("Failed to save KRA. Please try again.")}finally{E(!1)}},T=V=>{b(V.id),A({title:V.title,start_date:V.start_date,end_date:V.end_date||"",key_responsibilities:Array.isArray(V.key_responsibilities)&&V.key_responsibilities.length>0?V.key_responsibilities:[],leader_alignment:V.leader_alignment||!1,uploaded_to_paycom:V.uploaded_to_paycom||!1}),m(!0)},B=V=>{g(V)},z=async V=>{if(confirm("Are you sure you want to delete this KRA?"))try{const{error:Y}=await qe.from("kras").delete().eq("id",V);if(Y)throw Y;O()}catch(Y){console.error("Error deleting KRA:",Y),alert("Failed to delete KRA. Please try again.")}},Q=async(V,Y,oe)=>{try{const{error:ve}=await qe.from("kras").update({[Y]:oe}).eq("id",V);if(ve)throw ve;O()}catch(ve){console.error("Error updating checklist:",ve),alert("Failed to update checklist. Please try again.")}},ne=()=>{A({title:"",start_date:new Date().toISOString().split("T")[0],end_date:"",key_responsibilities:[],leader_alignment:!1,uploaded_to_paycom:!1})},ie=()=>{F.key_responsibilities.length>=5||A({...F,key_responsibilities:[...F.key_responsibilities,{responsibility:"",winning_looks_like:"",what_it_takes:["",""]}]})},K=V=>{A({...F,key_responsibilities:F.key_responsibilities.filter((Y,oe)=>oe!==V)})},W=(V,Y,oe)=>{const ve=[...F.key_responsibilities];(Y==="responsibility"||Y==="winning_looks_like")&&(ve[V]={...ve[V],[Y]:oe}),A({...F,key_responsibilities:ve})},q=V=>{const Y=[...F.key_responsibilities];Y[V]={...Y[V],what_it_takes:[...Y[V].what_it_takes,""]},A({...F,key_responsibilities:Y})},k=(V,Y)=>{const oe=[...F.key_responsibilities];oe[V]={...oe[V],what_it_takes:oe[V].what_it_takes.filter((ve,Ne)=>Ne!==Y)},A({...F,key_responsibilities:oe})},I=(V,Y,oe)=>{const ve=[...F.key_responsibilities],Ne=[...ve[V].what_it_takes];Ne[Y]=oe,ve[V]={...ve[V],what_it_takes:Ne},A({...F,key_responsibilities:ve})},M=V=>{try{const Y=[["Key Result Areas"],[],["Name:",t.full_name],["Role:",t.role||t.position||"N/A"],["Summary:",V.title],["Start Date:",new Date(V.start_date).toLocaleDateString()],["End Date:",V.end_date?new Date(V.end_date).toLocaleDateString():"N/A"],["Status:",V.is_active?"Active":"Inactive"],["Leader Alignment:",V.leader_alignment?"Yes":"No"],["Uploaded to Paycom:",V.uploaded_to_paycom?"Yes":"No"],[],["Key Responsibilities"],[]];Array.isArray(V.key_responsibilities)&&V.key_responsibilities.length>0&&V.key_responsibilities.forEach((_e,X)=>{Y.push([`${X+1}. ${_e.responsibility}`]),Y.push(["What winning looks like:",_e.winning_looks_like]),Y.push(["What it will take:"]),_e.what_it_takes&&_e.what_it_takes.length>0&&_e.what_it_takes.forEach(Ee=>{Y.push(["",` ${Ee}`])}),Y.push([])});const oe=hu.aoa_to_sheet(Y),ve=hu.book_new();hu.book_append_sheet(ve,oe,"KRA");const Ne=`KRA-${t.full_name.replace(/\s+/g,"-")}-${new Date().toISOString().split("T")[0]}.xlsx`;R6(ve,Ne)}catch(Y){console.error("Error generating Excel:",Y),alert("Failed to generate Excel file. Please try again.")}},U=V=>{if(!V)return"-";const[Y,oe,ve]=V.split("T")[0].split("-").map(Number);return new Date(Y,oe-1,ve).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})},R=V=>u!==V?f.jsx(Ch,{className:"w-4 h-4"}):p==="asc"?f.jsx(p1,{className:"w-4 h-4"}):f.jsx(d1,{className:"w-4 h-4"}),G=()=>{const V=!!v;return f.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-6 mb-6",children:[f.jsx("h4",{className:"text-lg font-semibold text-slate-900 mb-4",children:V?"Edit KRA":"New KRA"}),f.jsxs("form",{onSubmit:j,className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Summary *"}),f.jsx("textarea",{required:!0,value:F.title,onChange:Y=>A({...F,title:Y.target.value}),rows:4,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",placeholder:"Provide a brief summary of this KRA..."})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Start Date *"}),f.jsx("input",{type:"date",required:!0,value:F.start_date,onChange:Y=>A({...F,start_date:Y.target.value}),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["End Date ",f.jsx("span",{className:"text-slate-500 font-normal",children:"(Optional)"})]}),f.jsx("input",{type:"date",value:F.end_date,onChange:Y=>A({...F,end_date:Y.target.value}),min:F.start_date,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),f.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Leave blank if currently active"})]})]}),f.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg p-4",children:[f.jsx("h5",{className:"text-sm font-semibold text-slate-900 mb-3",children:"Checklist"}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[f.jsx("input",{type:"checkbox",checked:F.leader_alignment,onChange:Y=>A({...F,leader_alignment:Y.target.checked}),className:"w-4 h-4 text-blue-600 border-slate-300 rounded focus:ring-blue-500"}),f.jsx("span",{className:"text-sm text-slate-700",children:"Leader alignment"})]}),f.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[f.jsx("input",{type:"checkbox",checked:F.uploaded_to_paycom,onChange:Y=>A({...F,uploaded_to_paycom:Y.target.checked}),className:"w-4 h-4 text-blue-600 border-slate-300 rounded focus:ring-blue-500"}),f.jsx("span",{className:"text-sm text-slate-700",children:"Uploaded to Paycom"})]})]})]}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center justify-between mb-3",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Key Responsibilities *"}),f.jsx("p",{className:"text-xs text-slate-500 mt-1",children:'Add 3-5 key responsibilities. Each must have at least 2 "What it will take" items.'})]}),F.key_responsibilities.length<5&&f.jsxs("button",{type:"button",onClick:ie,className:"flex items-center gap-1 text-sm text-blue-600 hover:text-blue-700 font-medium",children:[f.jsx(Er,{className:"w-4 h-4"}),"Add Responsibility"]})]}),F.key_responsibilities.length===0?f.jsxs("div",{className:"text-center py-8 bg-white border-2 border-dashed border-slate-300 rounded-lg",children:[f.jsx("p",{className:"text-slate-600 mb-3",children:"No key responsibilities added yet"}),f.jsxs("button",{type:"button",onClick:ie,className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:[f.jsx(Er,{className:"w-4 h-4"}),"Add Your First Responsibility"]})]}):f.jsx("div",{className:"space-y-4",children:F.key_responsibilities.map((Y,oe)=>f.jsxs("div",{className:"bg-white border border-slate-300 rounded-lg p-4",children:[f.jsxs("div",{className:"flex items-start justify-between mb-3",children:[f.jsxs("span",{className:"text-sm font-semibold text-slate-700",children:["Responsibility ",oe+1]}),f.jsx("button",{type:"button",onClick:()=>K(oe),className:"text-red-600 hover:text-red-700",title:"Remove responsibility",children:f.jsx(nn,{className:"w-4 h-4"})})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsx("div",{children:f.jsx("input",{type:"text",value:Y.responsibility,onChange:ve=>W(oe,"responsibility",ve.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter key responsibility...",required:!0})}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"What winning looks like:"}),f.jsx("textarea",{value:Y.winning_looks_like,onChange:ve=>W(oe,"winning_looks_like",ve.target.value),rows:2,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",placeholder:"Describe what success looks like for this responsibility...",required:!0})]}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("label",{className:"block text-xs font-medium text-slate-600",children:"What it will take: (min 2)"}),f.jsx("button",{type:"button",onClick:()=>q(oe),className:"text-xs text-blue-600 hover:text-blue-700 font-medium",children:"+ Add Item"})]}),f.jsx("div",{className:"space-y-2",children:Y.what_it_takes.map((ve,Ne)=>f.jsxs("div",{className:"flex gap-2",children:[f.jsx("input",{type:"text",value:ve,onChange:_e=>I(oe,Ne,_e.target.value),className:"flex-1 px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Enter what it will take...",required:!0}),Y.what_it_takes.length>2&&f.jsx("button",{type:"button",onClick:()=>k(oe,Ne),className:"px-2 text-red-600 hover:text-red-700",children:f.jsx(nn,{className:"w-4 h-4"})})]},Ne))})]})]})]},oe))})]}),f.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-slate-200",children:[f.jsx("div",{className:"text-sm text-slate-600",children:F.key_responsibilities.length<3&&f.jsxs("span",{className:"text-orange-600",children:["Add at least ",3-F.key_responsibilities.length," more ",3-F.key_responsibilities.length===1?"responsibility":"responsibilities"]})}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{type:"button",onClick:()=>{m(!1),b(null),ne()},disabled:_,className:"px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition disabled:opacity-50",children:"Cancel"}),f.jsxs("button",{type:"submit",disabled:_||!N(),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition disabled:opacity-50 disabled:cursor-not-allowed",children:[f.jsx(si,{className:"w-4 h-4"}),_?"Saving...":V?"Update KRA":"Create KRA"]})]})]})]})]})},te=()=>x?f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:f.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[f.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between",children:[f.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:"View KRA"}),f.jsx("button",{onClick:()=>g(null),className:"text-slate-400 hover:text-slate-600 transition",children:f.jsx(nn,{className:"w-6 h-6"})})]}),f.jsxs("div",{className:"p-6 space-y-6",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[f.jsx("h4",{className:"text-lg font-semibold text-slate-900",children:x.title}),f.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${x.is_active?"bg-green-100 text-green-700":"bg-slate-100 text-slate-700"}`,children:x.is_active?"Active":"Inactive"})]}),f.jsxs("div",{className:"flex gap-4 text-sm text-slate-500",children:[f.jsxs("span",{children:["Start: ",U(x.start_date)]}),x.end_date&&f.jsxs("span",{children:["End: ",U(x.end_date)]})]})]}),f.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-4",children:[f.jsx("h5",{className:"text-sm font-semibold text-slate-900 mb-3",children:"Checklist"}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("input",{type:"checkbox",checked:x.leader_alignment,disabled:!0,className:"w-4 h-4 text-blue-600 border-slate-300 rounded"}),f.jsx("span",{className:"text-sm text-slate-700",children:"Leader alignment"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("input",{type:"checkbox",checked:x.uploaded_to_paycom,disabled:!0,className:"w-4 h-4 text-blue-600 border-slate-300 rounded"}),f.jsx("span",{className:"text-sm text-slate-700",children:"Uploaded to Paycom"})]})]})]}),Array.isArray(x.key_responsibilities)&&x.key_responsibilities.length>0&&f.jsxs("div",{className:"space-y-4",children:[f.jsx("h5",{className:"font-semibold text-slate-900",children:"Key Responsibilities"}),x.key_responsibilities.map((V,Y)=>f.jsxs("div",{className:"border-l-4 border-blue-500 pl-4 py-2",children:[f.jsxs("h6",{className:"font-semibold text-slate-900 mb-2",children:[Y+1,". ",V.responsibility]}),V.winning_looks_like&&f.jsxs("p",{className:"text-sm text-slate-600 italic mb-2",children:[f.jsx("span",{className:"font-medium",children:"What winning looks like:"})," ",V.winning_looks_like]}),V.what_it_takes&&V.what_it_takes.length>0&&f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-slate-700 mb-1",children:"What it will take:"}),f.jsx("ul",{className:"list-disc list-inside space-y-1 ml-2",children:V.what_it_takes.map((oe,ve)=>f.jsx("li",{className:"text-sm text-slate-600",children:oe},ve))})]})]},Y))]})]}),f.jsx("div",{className:"sticky bottom-0 bg-slate-50 border-t border-slate-200 px-6 py-4 flex justify-end",children:f.jsx("button",{onClick:()=>g(null),className:"px-4 py-2 bg-slate-200 text-slate-700 rounded-lg hover:bg-slate-300 transition",children:"Close"})})]})}):null;return s?f.jsx("div",{className:"flex items-center justify-center h-64",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):y?G():f.jsxs("div",{className:"space-y-6",children:[f.jsx("div",{children:f.jsxs("div",{className:"flex items-center justify-between mb-3",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:"Key Result Areas"}),f.jsx("p",{className:"text-slate-600 text-sm leading-relaxed mt-1",children:'Key Results Area (KRA) is a living document that defines what "winning" looks like for a specific role.'})]}),f.jsxs("button",{onClick:()=>{ne(),m(!0)},className:"flex items-center gap-2 px-4 py-2 text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition",children:[f.jsx(Er,{className:"w-4 h-4"}),"New KRA"]})]})}),i.filter(V=>V.is_active).length>0&&f.jsxs("div",{className:"space-y-4",children:[f.jsx("h4",{className:"text-lg font-semibold text-slate-900",children:"Active KRA"}),i.filter(V=>V.is_active).map(V=>f.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg p-6",children:[f.jsxs("div",{className:"flex items-start justify-between mb-4",children:[f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("h4",{className:"text-lg font-semibold text-slate-900",children:V.title}),f.jsx("span",{className:"px-2 py-1 text-xs font-medium text-green-700 bg-green-100 rounded-full",children:"Active"})]}),f.jsxs("div",{className:"flex gap-4 text-sm text-slate-500 mt-2",children:[f.jsxs("span",{children:["Start: ",U(V.start_date)]}),V.end_date&&f.jsxs("span",{children:["End: ",U(V.end_date)]})]})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:()=>T(V),className:"p-2 text-slate-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition",title:"Edit",children:f.jsx(U0,{className:"w-5 h-5"})}),f.jsx("button",{onClick:()=>z(V.id),className:"p-2 text-slate-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition",title:"Delete",children:f.jsx(rn,{className:"w-5 h-5"})})]})]}),f.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-4 mb-4",children:[f.jsx("h5",{className:"text-sm font-semibold text-slate-900 mb-3",children:"Checklist"}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[f.jsx("input",{type:"checkbox",checked:V.leader_alignment,onChange:Y=>Q(V.id,"leader_alignment",Y.target.checked),className:"w-4 h-4 text-blue-600 border-slate-300 rounded focus:ring-blue-500"}),f.jsx("span",{className:"text-sm text-slate-700",children:"Leader alignment"})]}),f.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[f.jsx("input",{type:"checkbox",checked:V.uploaded_to_paycom,onChange:Y=>Q(V.id,"uploaded_to_paycom",Y.target.checked),className:"w-4 h-4 text-blue-600 border-slate-300 rounded focus:ring-blue-500"}),f.jsx("span",{className:"text-sm text-slate-700",children:"Uploaded to Paycom"})]})]})]}),Array.isArray(V.key_responsibilities)&&V.key_responsibilities.length>0&&f.jsx("div",{className:"space-y-4",children:V.key_responsibilities.map((Y,oe)=>f.jsxs("div",{className:"border-l-4 border-blue-500 pl-4 py-2",children:[f.jsxs("h5",{className:"font-semibold text-slate-900 mb-2",children:[oe+1,". ",Y.responsibility]}),Y.winning_looks_like&&f.jsxs("p",{className:"text-sm text-slate-600 italic mb-2",children:[f.jsx("span",{className:"font-medium",children:"What winning looks like:"})," ",Y.winning_looks_like]}),Y.what_it_takes&&Y.what_it_takes.length>0&&f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-slate-700 mb-1",children:"What it will take:"}),f.jsx("ul",{className:"list-disc list-inside space-y-1 ml-2",children:Y.what_it_takes.map((ve,Ne)=>f.jsx("li",{className:"text-sm text-slate-600",children:ve},Ne))})]})]},oe))})]},V.id))]}),f.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:[f.jsx("div",{className:"p-4 border-b border-slate-200",children:f.jsxs("div",{className:"relative",children:[f.jsx(m1,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),f.jsx("input",{type:"text",placeholder:"Search KRAs...",value:l,onChange:V=>c(V.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-3 text-left",children:f.jsxs("button",{onClick:()=>L("start_date"),className:"flex items-center gap-2 text-xs font-medium text-slate-600 uppercase tracking-wider hover:text-slate-900 transition",children:["Start Date",R("start_date")]})}),f.jsx("th",{className:"px-6 py-3 text-left",children:f.jsxs("button",{onClick:()=>L("title"),className:"flex items-center gap-2 text-xs font-medium text-slate-600 uppercase tracking-wider hover:text-slate-900 transition",children:["Title",R("title")]})}),f.jsx("th",{className:"px-6 py-3 text-left",children:f.jsxs("button",{onClick:()=>L("is_active"),className:"flex items-center gap-2 text-xs font-medium text-slate-600 uppercase tracking-wider hover:text-slate-900 transition",children:["Status",R("is_active")]})}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-600 uppercase tracking-wider",children:"Actions"})]})}),f.jsx("tbody",{className:"divide-y divide-slate-200",children:i.length===0?f.jsx("tr",{children:f.jsx("td",{colSpan:4,className:"px-6 py-12 text-center text-slate-500",children:l?"No KRAs found matching your search":"No KRAs yet"})}):i.map(V=>f.jsxs("tr",{className:"hover:bg-slate-50 transition",children:[f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsx("span",{className:"font-medium text-slate-900",children:U(V.start_date)})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx("span",{className:"text-slate-900 line-clamp-2",children:V.title})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${V.is_active?"bg-green-100 text-green-700":"bg-slate-100 text-slate-700"}`,children:V.is_active?"Active":"Inactive"})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsx("div",{className:"flex gap-2",children:V.is_active?f.jsxs(f.Fragment,{children:[f.jsxs("button",{onClick:()=>T(V),className:"flex items-center gap-1 px-3 py-1.5 text-sm text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-lg transition",children:[f.jsx(U0,{className:"w-4 h-4"}),"Edit"]}),f.jsxs("button",{onClick:()=>z(V.id),className:"flex items-center gap-1 px-3 py-1.5 text-sm text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg transition",children:[f.jsx(rn,{className:"w-4 h-4"}),"Delete"]}),f.jsxs("button",{onClick:()=>M(V),className:"flex items-center gap-1 px-3 py-1.5 text-sm text-green-600 hover:text-green-700 hover:bg-green-50 rounded-lg transition",children:[f.jsx(sb,{className:"w-4 h-4"}),"Download"]})]}):f.jsxs(f.Fragment,{children:[f.jsxs("button",{onClick:()=>B(V),className:"flex items-center gap-1 px-3 py-1.5 text-sm text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-lg transition",children:[f.jsx(HO,{className:"w-4 h-4"}),"View"]}),f.jsxs("button",{onClick:()=>T(V),className:"flex items-center gap-1 px-3 py-1.5 text-sm text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-lg transition",children:[f.jsx(U0,{className:"w-4 h-4"}),"Edit"]}),f.jsxs("button",{onClick:()=>z(V.id),className:"flex items-center gap-1 px-3 py-1.5 text-sm text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg transition",children:[f.jsx(rn,{className:"w-4 h-4"}),"Delete"]}),f.jsxs("button",{onClick:()=>M(V),className:"flex items-center gap-1 px-3 py-1.5 text-sm text-green-600 hover:text-green-700 hover:bg-green-50 rounded-lg transition",children:[f.jsx(sb,{className:"w-4 h-4"}),"Download"]})]})})})]},V.id))})]})}),i.length>0&&f.jsx("div",{className:"px-6 py-4 bg-slate-50 border-t border-slate-200",children:f.jsxs("p",{className:"text-sm text-slate-600",children:["Showing ",i.length," of ",r.length," KRA",r.length!==1?"s":""]})})]}),te()]})}function HG({teamMemberId:e,teamMember:t}){return f.jsx(zG,{teamMemberId:e,teamMember:t})}function Yx({teamMemberId:e}){const[t,r]=ye.useState([]),[n,i]=ye.useState([]),[a,s]=ye.useState(!0),[o,l]=ye.useState(null),[c,u]=ye.useState(""),[d,p]=ye.useState(!1);ye.useEffect(()=>{h()},[e]);const h=async()=>{s(!0);const[_,E]=await Promise.all([qe.from("team_member_preferences").select("*").eq("team_member_id",e).order("display_order",{ascending:!0}),qe.from("preference_types").select("*").eq("is_active",!0).order("display_order",{ascending:!0})]);_.error?console.error("Error fetching preferences:",_.error):r(_.data||[]),E.error?console.error("Error fetching preference types:",E.error):i(E.data||[]),s(!1)},y=async(_,E,F)=>{const{error:A}=await qe.from("team_member_preferences").insert({team_member_id:e,category:_,icon:E,value:"",display_order:t.length});A?console.error("Error adding preference:",A):(h(),p(!1))},m=_=>{l(_.id),u(_.value)},x=async _=>{const{error:E}=await qe.from("team_member_preferences").update({value:c,updated_at:new Date().toISOString()}).eq("id",_);E?console.error("Error updating preference:",E):(l(null),u(""),h())},g=async _=>{if(!confirm("Are you sure you want to delete this preference?"))return;const{error:E}=await qe.from("team_member_preferences").delete().eq("id",_);E?console.error("Error deleting preference:",E):h()},v=_=>n.find(E=>E.name===_)||{name:_,icon:"",color:"from-slate-50 to-gray-50 border-slate-200",display_order:0,is_active:!0,id:""},b=n.filter(_=>!t.some(E=>E.category===_.name));return a?f.jsx("div",{className:"flex items-center justify-center h-32",children:f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:"Preferences"}),b.length>0&&f.jsxs("div",{className:"relative",children:[f.jsxs("button",{onClick:()=>p(!d),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:[f.jsx(Er,{className:"w-4 h-4"}),"Add Preference"]}),d&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>p(!1)}),f.jsx("div",{className:"absolute right-0 mt-2 w-64 bg-white rounded-lg shadow-xl border border-slate-200 z-20 max-h-96 overflow-y-auto",children:b.map(_=>f.jsxs("button",{onClick:()=>y(_.name,_.icon,_.color),className:"w-full px-4 py-3 text-left hover:bg-slate-50 transition flex items-center gap-3 border-b border-slate-100 last:border-b-0",children:[f.jsx("span",{className:"text-2xl",children:_.icon}),f.jsx("span",{className:"text-slate-700 font-medium",children:_.name})]},_.name))})]})]})]}),t.length===0?f.jsxs("div",{className:"text-center py-12 bg-slate-50 rounded-lg border border-slate-200",children:[f.jsx("p",{className:"text-slate-500 mb-4",children:"No preferences added yet"}),f.jsx("button",{onClick:()=>p(!0),className:"text-blue-600 hover:text-blue-700 font-medium",children:"Add your first preference"})]}):f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(_=>{const E=v(_.category),F=o===_.id;return f.jsxs("div",{className:`bg-gradient-to-br ${E.color} rounded-xl border-2 p-5 shadow-sm hover:shadow-md transition-all`,children:[f.jsxs("div",{className:"flex items-start justify-between mb-3",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-3xl",children:_.icon||E.icon}),f.jsx("h4",{className:"font-semibold text-slate-900",children:_.category})]}),!F&&f.jsxs("div",{className:"flex gap-1",children:[f.jsx("button",{onClick:()=>m(_),className:"p-1.5 hover:bg-white/50 rounded-lg transition",children:f.jsx(Wa,{className:"w-4 h-4 text-slate-600"})}),f.jsx("button",{onClick:()=>g(_.id),className:"p-1.5 hover:bg-white/50 rounded-lg transition",children:f.jsx(rn,{className:"w-4 h-4 text-red-600"})})]})]}),F?f.jsxs("div",{className:"space-y-2",children:[f.jsx("input",{type:"text",value:c,onChange:A=>u(A.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter value...",autoFocus:!0}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{onClick:()=>x(_.id),className:"flex-1 flex items-center justify-center gap-1 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition text-sm",children:[f.jsx(si,{className:"w-4 h-4"}),"Save"]}),f.jsxs("button",{onClick:()=>{l(null),u("")},className:"flex-1 flex items-center justify-center gap-1 px-3 py-2 bg-slate-200 text-slate-700 rounded-lg hover:bg-slate-300 transition text-sm",children:[f.jsx(nn,{className:"w-4 h-4"}),"Cancel"]})]})]}):f.jsx("p",{className:"text-slate-700 text-lg font-medium",children:_.value||f.jsx("span",{className:"text-slate-400 italic",children:"Not set"})})]},_.id)})})]})}const Xw={1:"Needs guidance and substantial improvement",2:"Self-sufficient, but needs overall improvement",3:"Meeting expectations",4:"Exceeding expectations",5:"Greatly exceeding expectations"},WG={toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"}],["clean"]]},VG=["header","bold","italic","underline","list","bullet"];function Jk({teamMemberId:e}){const[t,r]=ye.useState([]),[n,i]=ye.useState([]),[a,s]=ye.useState({}),[o,l]=ye.useState(!0),[c,u]=ye.useState(!1),[d,p]=ye.useState(null),[h,y]=ye.useState(!1),[m,x]=ye.useState({skill_id:"",quarter:g(),rating:3,leader_comments:"",start_date:new Date().toISOString().split("T")[0],end_date:v(),is_active:!0});function g(){const N=new Date;return`Q${Math.floor(N.getMonth()/3)+1} ${N.getFullYear()}`}function v(){const N=new Date,T=(Math.floor(N.getMonth()/3)+1)*3;return new Date(N.getFullYear(),T,0).toISOString().split("T")[0]}ye.useEffect(()=>{b(),_()},[e]);const b=async()=>{l(!0);const{data:N,error:j}=await qe.from("growth_areas").select(`
        *,
        skill_levels!inner (
          maturity_skills!inner (
            id,
            name
          ),
          levels!inner (
            name
          )
        )
      `).eq("team_member_id",e).order("is_active",{ascending:!1}).order("start_date",{ascending:!1});if(j)console.error("Error fetching growth areas:",j);else{const T=await Promise.all((N||[]).map(async B=>{var Q,ne,ie;const z=(ne=(Q=B.skill_levels)==null?void 0:Q.maturity_skills)==null?void 0:ne.id;if(z){const{data:K}=await qe.from("category_skills").select("maturity_categories(name)").eq("skill_id",z).maybeSingle();return{...B,category_name:((ie=K==null?void 0:K.maturity_categories)==null?void 0:ie.name)||"Uncategorized"}}return{...B,category_name:"Uncategorized"}}));r(T)}l(!1)},_=async()=>{const{data:N,error:j}=await qe.from("team_members").select("current_level").eq("id",e).maybeSingle();if(j){console.error("Error fetching team member:",j);return}if(!(N!=null&&N.current_level)){console.warn("Team member has no current level set"),i([]);return}const T={Associate:1,"Level 1":2,"Level 2":3,Senior:4,Lead:5},B=T[N.current_level]||0,{data:z,error:Q}=await qe.from("skill_levels").select(`
        id,
        display_order,
        maturity_skills!inner (
          id,
          name
        ),
        levels!inner (
          name
        )
      `).order("display_order");if(Q){console.error("Error fetching skills:",Q);return}const ne=(z||[]).filter(W=>(T[W.levels.name]||0)<=B),ie=await Promise.all(ne.map(async W=>{var k;const{data:q}=await qe.from("category_skills").select("maturity_categories(name)").eq("skill_id",W.maturity_skills.id).maybeSingle();return{id:W.id,name:W.maturity_skills.name,level_name:W.levels.name,display_order:W.display_order,category_name:((k=q==null?void 0:q.maturity_categories)==null?void 0:k.name)||"Uncategorized"}}));i(ie);const K=ie.reduce((W,q)=>{const k=q.category_name;return W[k]||(W[k]=[]),W[k].push(q),W},{});s(K)},E=async N=>{N.preventDefault();const j=t.filter(T=>T.is_active).length;if(m.is_active&&!d&&j>=3){alert("A team member can have a maximum of 3 active growth areas. Please mark an existing one as inactive first.");return}if(d){const{error:T}=await qe.from("growth_areas").update(m).eq("id",d);T?(console.error("Error updating growth area:",T),alert("Failed to update growth area")):(u(!1),p(null),O(),b())}else{const{error:T}=await qe.from("growth_areas").insert([{...m,team_member_id:e}]);T?(console.error("Error creating growth area:",T),alert("Failed to create growth area")):(u(!1),O(),b())}},F=N=>{p(N.id),x({skill_id:N.skill_id,quarter:N.quarter,rating:N.rating,leader_comments:N.leader_comments,start_date:N.start_date,end_date:N.end_date,is_active:N.is_active}),u(!0)},A=async N=>{if(!confirm("Are you sure you want to delete this growth area?"))return;const{error:j}=await qe.from("growth_areas").delete().eq("id",N);j?(console.error("Error deleting growth area:",j),alert("Failed to delete growth area")):b()},O=()=>{x({skill_id:"",quarter:g(),rating:3,leader_comments:"",start_date:new Date().toISOString().split("T")[0],end_date:v(),is_active:!0})},C=t.filter(N=>N.is_active),L=t.filter(N=>!N.is_active);return o?f.jsx("div",{className:"flex items-center justify-center h-64",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsxs("h2",{className:"text-2xl font-bold text-slate-900 flex items-center gap-2",children:[f.jsx(Au,{className:"w-7 h-7 text-blue-600"}),"Growth Areas"]}),f.jsx("p",{className:"text-slate-600 mt-1",children:"Track up to 3 active skills at or below the team member's current level"})]}),C.length<3&&!c&&f.jsxs("button",{onClick:()=>{u(!0),p(null),O()},className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:[f.jsx(Er,{className:"w-5 h-5"}),"Add Growth Area"]})]}),c&&f.jsxs("div",{className:"bg-white rounded-lg border-2 border-blue-200 p-6 shadow-sm",children:[f.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:d?"Edit Growth Area":"New Growth Area"}),f.jsxs("form",{onSubmit:E,className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Skill to Improve *"}),f.jsxs("select",{required:!0,value:m.skill_id,onChange:N=>x({...m,skill_id:N.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[f.jsx("option",{value:"",children:"Select a skill"}),Object.keys(a).sort().map(N=>f.jsx("optgroup",{label:N,children:a[N].map(j=>f.jsxs("option",{value:j.id,children:[j.name," (",j.level_name,")"]},j.id))},N))]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Quarter *"}),f.jsx("input",{type:"text",required:!0,value:m.quarter,onChange:N=>x({...m,quarter:N.target.value}),placeholder:"Q1 2024",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Start Date *"}),f.jsx("input",{type:"date",required:!0,value:m.start_date,onChange:N=>x({...m,start_date:N.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"End Date *"}),f.jsx("input",{type:"date",required:!0,value:m.end_date,onChange:N=>x({...m,end_date:N.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Rating *"}),f.jsx("div",{className:"space-y-2",children:[1,2,3,4,5].map(N=>f.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[f.jsx("input",{type:"radio",name:"rating",value:N,checked:m.rating===N,onChange:j=>x({...m,rating:parseInt(j.target.value)}),className:"w-4 h-4 text-blue-600 focus:ring-2 focus:ring-blue-500"}),f.jsxs("span",{className:"text-sm text-slate-700",children:[f.jsx("strong",{children:N})," - ",Xw[N]]})]},N))})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Leader Comments"}),f.jsx(Gs,{theme:"snow",value:m.leader_comments,onChange:N=>x({...m,leader_comments:N}),modules:WG,formats:VG,placeholder:"Add notes about progress, challenges, or action items...",className:"bg-white rounded-lg"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("input",{type:"checkbox",id:"is_active",checked:m.is_active,onChange:N=>x({...m,is_active:N.target.checked}),className:"w-4 h-4 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),f.jsx("label",{htmlFor:"is_active",className:"text-sm font-medium text-slate-700",children:"Active Growth Area"})]}),f.jsxs("div",{className:"flex gap-3 pt-2",children:[f.jsxs("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:[d?"Update":"Create"," Growth Area"]}),f.jsx("button",{type:"button",onClick:()=>{u(!1),p(null),O()},className:"px-4 py-2 bg-slate-200 text-slate-700 rounded-lg hover:bg-slate-300 transition",children:"Cancel"})]})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("h3",{className:"text-lg font-semibold text-slate-900",children:["Active Growth Areas (",C.length,"/3)"]}),C.length===0?f.jsxs("div",{className:"text-center py-12 bg-slate-50 rounded-lg border border-slate-200",children:[f.jsx(Au,{className:"w-12 h-12 text-slate-400 mx-auto mb-3"}),f.jsx("p",{className:"text-slate-600",children:"No active growth areas yet"}),f.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Add up to 3 growth areas to help focus development"})]}):f.jsx("div",{className:"grid gap-4",children:C.map(N=>{var j,T,B,z;return f.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-5 hover:shadow-md transition",children:[f.jsxs("div",{className:"flex items-start justify-between mb-3",children:[f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx("h4",{className:"font-semibold text-slate-900 text-lg",children:(T=(j=N.skill_levels)==null?void 0:j.maturity_skills)==null?void 0:T.name}),f.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs font-medium rounded",children:(z=(B=N.skill_levels)==null?void 0:B.levels)==null?void 0:z.name}),f.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs font-medium rounded",children:"Active"})]}),f.jsx("p",{className:"text-sm text-slate-600",children:N.category_name})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:()=>F(N),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition",title:"Edit",children:f.jsx(Wa,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>A(N.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition",title:"Delete",children:f.jsx(rn,{className:"w-4 h-4"})})]})]}),f.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-3",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Quarter"}),f.jsx("p",{className:"text-sm font-medium text-slate-900",children:N.quarter})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Rating"}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(QO,{className:"w-4 h-4 text-yellow-500 fill-current"}),f.jsxs("span",{className:"text-sm font-medium text-slate-900",children:[N.rating,"/5"]}),f.jsxs("span",{className:"text-xs text-slate-500 ml-1",children:["- ",Xw[N.rating].split(" - ")[0]]})]})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Timeline"}),f.jsxs("p",{className:"text-sm text-slate-700",children:[new Date(N.start_date).toLocaleDateString()," - ",new Date(N.end_date).toLocaleDateString()]})]})]}),N.leader_comments&&f.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-200",children:[f.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Leader Comments"}),f.jsx("div",{className:"text-sm text-slate-700 prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:N.leader_comments}})]})]},N.id)})})]}),L.length>0&&f.jsxs("div",{className:"space-y-4",children:[f.jsxs("button",{onClick:()=>y(!h),className:"flex items-center gap-2 text-slate-600 hover:text-slate-900 font-medium",children:[f.jsx(_p,{className:"w-5 h-5"}),h?"Hide":"Show"," History (",L.length,")"]}),h&&f.jsx("div",{className:"grid gap-3",children:L.map(N=>{var j,T,B,z;return f.jsxs("div",{className:"bg-slate-50 rounded-lg border border-slate-200 p-4 opacity-75",children:[f.jsxs("div",{className:"flex items-start justify-between mb-2",children:[f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx("h4",{className:"font-medium text-slate-900",children:(T=(j=N.skill_levels)==null?void 0:j.maturity_skills)==null?void 0:T.name}),f.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs font-medium rounded",children:(z=(B=N.skill_levels)==null?void 0:B.levels)==null?void 0:z.name}),f.jsx("span",{className:"px-2 py-1 bg-slate-200 text-slate-600 text-xs font-medium rounded",children:"Inactive"})]}),f.jsx("p",{className:"text-sm text-slate-600",children:N.category_name})]}),f.jsx("button",{onClick:()=>A(N.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition",title:"Delete",children:f.jsx(rn,{className:"w-4 h-4"})})]}),f.jsxs("div",{className:"grid grid-cols-3 gap-3 text-sm",children:[f.jsxs("div",{children:[f.jsx("span",{className:"text-slate-500",children:"Quarter:"})," ",f.jsx("span",{className:"text-slate-700",children:N.quarter})]}),f.jsxs("div",{children:[f.jsx("span",{className:"text-slate-500",children:"Rating:"})," ",f.jsxs("span",{className:"text-slate-700",children:[N.rating,"/5"]})]}),f.jsxs("div",{children:[f.jsx("span",{className:"text-slate-500",children:"Period:"})," ",f.jsxs("span",{className:"text-slate-700",children:[new Date(N.start_date).toLocaleDateString()," - ",new Date(N.end_date).toLocaleDateString()]})]})]}),N.leader_comments&&f.jsxs("div",{className:"mt-2 pt-2 border-t border-slate-300",children:[f.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Leader Comments"}),f.jsx("div",{className:"text-sm text-slate-600 prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:N.leader_comments}})]})]},N.id)})})]})]})}function GG({memberId:e,onBack:t}){var u;const[r,n]=ye.useState(null),[i,a]=ye.useState(!0),[s,o]=ye.useState("oneonones");ye.useEffect(()=>{l()},[e]);const l=async()=>{a(!0);const{data:d,error:p}=await qe.from("team_members").select("*, roles(name)").eq("id",e).maybeSingle();p?console.error("Error fetching member:",p):n(d),a(!1)};if(i)return f.jsx("div",{className:"flex items-center justify-center h-64",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});if(!r)return f.jsxs("div",{className:"text-center py-12",children:[f.jsx("p",{className:"text-slate-600",children:"Team member not found"}),f.jsx("button",{onClick:t,className:"mt-4 text-blue-600 hover:text-blue-700",children:"Go back"})]});const c=[{id:"oneonones",label:"1:1s",icon:Lh},{id:"checkins",label:"Check-Ins",icon:_p},{id:"kras",label:"KRAs",icon:Eu},{id:"growth",label:"Growth Areas",icon:Au},{id:"maturity",label:"Maturity Model",icon:PO},{id:"profile",label:"Profile",icon:Zo}];return f.jsxs("div",{className:"max-w-7xl mx-auto",children:[f.jsxs("button",{onClick:t,className:"flex items-center gap-2 text-slate-600 hover:text-slate-900 mb-6 transition",children:[f.jsx(DN,{className:"w-5 h-5"}),"Back to Dashboard"]}),f.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden mb-6",children:[f.jsx("div",{className:"p-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-b border-slate-200",children:f.jsxs("div",{className:"flex items-center gap-6",children:[f.jsx("div",{className:"w-24 h-24 rounded-full overflow-hidden bg-white shadow-md flex items-center justify-center",children:r.photo_url?f.jsx("img",{src:r.photo_url,alt:r.full_name,className:"w-full h-full object-cover"}):f.jsx(Zo,{className:"w-16 h-16 text-slate-400"})}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:r.full_name}),f.jsx("p",{className:"text-lg text-slate-600 mt-1",children:r.role}),f.jsxs("p",{className:"text-sm text-slate-500 mt-2",children:[r.email,"  Started ",new Date(r.start_date).toLocaleDateString()]})]})]})}),f.jsx("div",{className:"border-b border-slate-200",children:f.jsx("div",{className:"flex",children:c.map(d=>{const p=d.icon;return f.jsxs("button",{onClick:()=>o(d.id),className:`flex-1 flex items-center justify-center gap-3 px-8 py-5 font-semibold text-base transition-colors relative ${s===d.id?"text-blue-600 bg-blue-50":"text-slate-600 hover:text-slate-900 hover:bg-slate-50"}`,children:[f.jsx(p,{className:"w-6 h-6"}),d.label,s===d.id&&f.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-blue-600"})]},d.id)})})}),f.jsxs("div",{className:"p-6",children:[s==="oneonones"&&f.jsx(U6,{teamMemberId:e}),s==="checkins"&&f.jsx(q6,{teamMemberId:e}),s==="kras"&&f.jsx(HG,{teamMemberId:e,teamMember:{id:r.id,full_name:r.full_name,position:r.position||"",department:r.department||"",role:((u=r.roles)==null?void 0:u.name)||void 0}}),s==="growth"&&f.jsx(Jk,{teamMemberId:e}),s==="maturity"&&f.jsx($6,{teamMemberId:e}),s==="profile"&&f.jsxs("div",{className:"space-y-8",children:[f.jsx("div",{className:"mb-8",children:f.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Profile"})}),f.jsx(Yx,{teamMemberId:e}),f.jsxs("div",{className:"border-t border-slate-200 pt-8",children:[f.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-6",children:"Assessments"}),f.jsx(Gv,{data:{disc_d:r.disc_d,disc_i:r.disc_i,disc_s:r.disc_s,disc_c:r.disc_c,enneagram_primary:r.enneagram_primary,enneagram_wing:r.enneagram_wing,working_genius:r.working_genius},onChange:()=>{},readOnly:!0})]})]})]})]})]})}function KG(){const[e,t]=ye.useState([]),[r,n]=ye.useState(!0),[i,a]=ye.useState(null),[s,o]=ye.useState(!1),[l,c]=ye.useState({name:"",description:""});ye.useEffect(()=>{u()},[]);const u=async()=>{n(!0);const{data:x}=await qe.from("levels").select("*").order("created_at");x&&t(x),n(!1)},d=async()=>{if(!l.name.trim())return;const{error:x}=await qe.from("levels").insert({name:l.name,description:l.description});x||(c({name:"",description:""}),o(!1),await u())},p=async x=>{const{error:g}=await qe.from("levels").update({name:l.name,description:l.description}).eq("id",x);g||(a(null),c({name:"",description:""}),await u())},h=async x=>{if(!confirm("Are you sure you want to delete this level?"))return;const{error:g}=await qe.from("levels").delete().eq("id",x);g?alert(`Failed to delete level: ${g.message}`):await u()},y=x=>{a(x.id),c({name:x.name,description:x.description}),o(!1)},m=()=>{a(null),o(!1),c({name:"",description:""})};return r?f.jsx("div",{className:"text-slate-600",children:"Loading..."}):f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Levels"}),f.jsx("p",{className:"text-sm text-slate-600",children:"Manage global level definitions"})]}),f.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[f.jsx(Er,{className:"w-4 h-4"}),"Add Level"]})]}),s&&f.jsx("div",{className:"border border-slate-200 rounded-lg p-4 bg-slate-50",children:f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Name"}),f.jsx("input",{type:"text",value:l.name,onChange:x=>c({...l,name:x.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Senior"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Description"}),f.jsx("input",{type:"text",value:l.description,onChange:x=>c({...l,description:x.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Optional description"})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{onClick:d,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[f.jsx(si,{className:"w-4 h-4"}),"Save"]}),f.jsxs("button",{onClick:m,className:"flex items-center gap-2 px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50",children:[f.jsx(nn,{className:"w-4 h-4"}),"Cancel"]})]})]})}),f.jsx("div",{className:"space-y-2",children:e.map(x=>f.jsx("div",{className:"border border-slate-200 rounded-lg p-4 hover:bg-slate-50 transition-colors",children:i===x.id?f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Name"}),f.jsx("input",{type:"text",value:l.name,onChange:g=>c({...l,name:g.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Description"}),f.jsx("input",{type:"text",value:l.description,onChange:g=>c({...l,description:g.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{onClick:()=>p(x.id),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[f.jsx(si,{className:"w-4 h-4"}),"Save"]}),f.jsxs("button",{onClick:m,className:"flex items-center gap-2 px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50",children:[f.jsx(nn,{className:"w-4 h-4"}),"Cancel"]})]})]}):f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"font-semibold text-slate-900",children:x.name}),x.description&&f.jsx("p",{className:"text-sm text-slate-600 mt-1",children:x.description})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{onClick:()=>y(x),className:"flex items-center gap-2 px-3 py-2 text-slate-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:[f.jsx(Wa,{className:"w-4 h-4"}),f.jsx("span",{className:"text-sm font-medium",children:"Edit"})]}),f.jsxs("button",{onClick:()=>h(x.id),className:"flex items-center gap-2 px-3 py-2 text-slate-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[f.jsx(rn,{className:"w-4 h-4"}),f.jsx("span",{className:"text-sm font-medium",children:"Delete"})]})]})]})},x.id))})]})}function YG(){const[e,t]=ye.useState([]),[r,n]=ye.useState(!0),[i,a]=ye.useState(null),[s,o]=ye.useState(!1),[l,c]=ye.useState({name:"",description:""}),[u,d]=ye.useState(null),[p,h]=ye.useState({}),[y,m]=ye.useState([]),[x,g]=ye.useState(null);ye.useEffect(()=>{v(),b()},[]);const v=async()=>{n(!0);const{data:z}=await qe.from("maturity_categories").select("*").order("name");z&&t(z),n(!1)},b=async()=>{const{data:z}=await qe.from("maturity_skills").select("*").order("name");z&&m(z)},_=async z=>{const{data:Q}=await qe.from("category_skills").select(`
        skill_id,
        display_order,
        skill:maturity_skills(id, name, description)
      `).eq("category_id",z).order("display_order");Q&&h(ne=>({...ne,[z]:Q}))},E=async z=>{u===z?d(null):(d(z),p[z]||await _(z))},F=async()=>{if(!l.name.trim())return;const{error:z}=await qe.from("maturity_categories").insert({name:l.name,description:l.description});z||(c({name:"",description:""}),o(!1),await v())},A=async z=>{const{error:Q}=await qe.from("maturity_categories").update({name:l.name,description:l.description}).eq("id",z);Q||(a(null),c({name:"",description:""}),await v())},O=async z=>{if(!confirm("Are you sure you want to delete this category?"))return;const{error:Q}=await qe.from("maturity_categories").delete().eq("id",z);Q?alert(`Failed to delete category: ${Q.message}`):await v()},C=z=>{a(z.id),c({name:z.name,description:z.description}),o(!1)},L=()=>{a(null),o(!1),c({name:"",description:""})},N=async(z,Q)=>{const ne=p[z]||[],ie=ne.length>0?Math.max(...ne.map(W=>W.display_order)):0,{error:K}=await qe.from("category_skills").insert({category_id:z,skill_id:Q,display_order:ie+1});K||(g(null),await _(z))},j=async(z,Q)=>{if(!confirm("Remove this skill from the category?"))return;const{error:ne}=await qe.from("category_skills").delete().eq("category_id",z).eq("skill_id",Q);ne||await _(z)},T=async(z,Q,ne)=>{const ie=[...p[z]||[]],K=ie.findIndex(k=>k.skill_id===Q);if(K===-1||ne==="up"&&K===0||ne==="down"&&K===ie.length-1)return;const W=ne==="up"?K-1:K+1;[ie[K],ie[W]]=[ie[W],ie[K]];const q=ie.map((k,I)=>qe.from("category_skills").update({display_order:I+1}).eq("category_id",z).eq("skill_id",k.skill_id));await Promise.all(q),await _(z)},B=z=>{const Q=(p[z]||[]).map(ne=>ne.skill_id);return y.filter(ne=>!Q.includes(ne.id))};return r?f.jsx("div",{className:"text-slate-600",children:"Loading..."}):f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Categories"}),f.jsx("p",{className:"text-sm text-slate-600",children:"Manage categories that group related skills"})]}),f.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[f.jsx(Er,{className:"w-4 h-4"}),"Add Category"]})]}),s&&f.jsx("div",{className:"border border-slate-200 rounded-lg p-4 bg-slate-50",children:f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Name"}),f.jsx("input",{type:"text",value:l.name,onChange:z=>c({...l,name:z.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Technical Skills"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Description"}),f.jsx("textarea",{value:l.description,onChange:z=>c({...l,description:z.target.value}),rows:2,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Optional description"})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{onClick:F,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[f.jsx(si,{className:"w-4 h-4"}),"Save"]}),f.jsxs("button",{onClick:L,className:"flex items-center gap-2 px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50",children:[f.jsx(nn,{className:"w-4 h-4"}),"Cancel"]})]})]})}),f.jsx("div",{className:"space-y-2",children:e.map(z=>f.jsx("div",{className:"border border-slate-200 rounded-lg p-4 hover:bg-slate-50 transition-colors",children:i===z.id?f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Name"}),f.jsx("input",{type:"text",value:l.name,onChange:Q=>c({...l,name:Q.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Description"}),f.jsx("textarea",{value:l.description,onChange:Q=>c({...l,description:Q.target.value}),rows:2,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{onClick:()=>A(z.id),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[f.jsx(si,{className:"w-4 h-4"}),"Save"]}),f.jsxs("button",{onClick:L,className:"flex items-center gap-2 px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50",children:[f.jsx(nn,{className:"w-4 h-4"}),"Cancel"]})]})]}):f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("div",{className:"flex-1",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:()=>E(z.id),className:"p-1 hover:bg-slate-200 rounded transition-colors",children:u===z.id?f.jsx(UN,{className:"w-4 h-4 text-slate-600"}):f.jsx(bp,{className:"w-4 h-4 text-slate-600"})}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-semibold text-slate-900",children:z.name}),z.description&&f.jsx("p",{className:"text-sm text-slate-600 mt-1",children:z.description})]})]})}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{onClick:()=>C(z),className:"flex items-center gap-2 px-3 py-2 text-slate-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:[f.jsx(Wa,{className:"w-4 h-4"}),f.jsx("span",{className:"text-sm font-medium",children:"Edit"})]}),f.jsxs("button",{onClick:()=>O(z.id),className:"flex items-center gap-2 px-3 py-2 text-slate-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[f.jsx(rn,{className:"w-4 h-4"}),f.jsx("span",{className:"text-sm font-medium",children:"Delete"})]})]})]}),u===z.id&&f.jsxs("div",{className:"mt-4 pl-8 space-y-3",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h5",{className:"text-sm font-medium text-slate-700",children:"Skills"}),f.jsxs("button",{onClick:()=>g(z.id),className:"flex items-center gap-1 px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:[f.jsx(Er,{className:"w-3 h-3"}),"Add Skill"]})]}),x===z.id&&f.jsxs("div",{className:"border border-slate-200 rounded-lg p-3 bg-slate-50",children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Select a skill to add"}),f.jsxs("select",{onChange:Q=>{Q.target.value&&N(z.id,Q.target.value)},className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",defaultValue:"",children:[f.jsx("option",{value:"",children:"-- Select a skill --"}),B(z.id).map(Q=>f.jsx("option",{value:Q.id,children:Q.name},Q.id))]}),f.jsx("button",{onClick:()=>g(null),className:"mt-2 text-sm text-slate-600 hover:text-slate-800",children:"Cancel"})]}),f.jsxs("div",{className:"space-y-2",children:[(p[z.id]||[]).map((Q,ne)=>f.jsxs("div",{className:"flex items-center gap-2 p-3 bg-white border border-slate-200 rounded-lg",children:[f.jsxs("div",{className:"flex flex-col gap-1",children:[f.jsx("button",{onClick:()=>T(z.id,Q.skill_id,"up"),disabled:ne===0,className:"p-1 text-slate-400 hover:text-slate-600 disabled:opacity-30 disabled:cursor-not-allowed",children:f.jsx(p1,{className:"w-3 h-3"})}),f.jsx("button",{onClick:()=>T(z.id,Q.skill_id,"down"),disabled:ne===(p[z.id]||[]).length-1,className:"p-1 text-slate-400 hover:text-slate-600 disabled:opacity-30 disabled:cursor-not-allowed",children:f.jsx(d1,{className:"w-3 h-3"})})]}),f.jsxs("div",{className:"flex-1",children:[f.jsx("div",{className:"font-medium text-slate-900",children:Q.skill.name}),Q.skill.description&&f.jsx("div",{className:"text-sm text-slate-600 mt-1",children:Q.skill.description})]}),f.jsxs("button",{onClick:()=>j(z.id,Q.skill_id),className:"flex items-center gap-2 px-3 py-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[f.jsx(rn,{className:"w-4 h-4"}),f.jsx("span",{className:"text-sm font-medium",children:"Remove"})]})]},Q.skill_id)),(!p[z.id]||p[z.id].length===0)&&f.jsx("p",{className:"text-sm text-slate-500 italic",children:"No skills added yet"})]})]})]})},z.id))})]})}function XG(){const[e,t]=ye.useState([]),[r,n]=ye.useState([]),[i,a]=ye.useState(!0),[s,o]=ye.useState(null),[l,c]=ye.useState(!1),[u,d]=ye.useState({name:"",description:""}),[p,h]=ye.useState(""),[y,m]=ye.useState(""),[x,g]=ye.useState(null),[v,b]=ye.useState(null);ye.useEffect(()=>{_()},[]);const _=async()=>{a(!0);const[{data:T},{data:B},{data:z}]=await Promise.all([qe.from("maturity_skills").select("*").order("name"),qe.from("maturity_categories").select("id, name").order("name"),qe.from("category_skills").select("skill_id, category_id, category:maturity_categories(name)")]);if(B&&n(B),T){const Q=T.map(ne=>{const ie=(z==null?void 0:z.filter(K=>K.skill_id===ne.id).map(K=>{var W;return(W=K.category)==null?void 0:W.name}).filter(Boolean))||[];return{...ne,categories:ie}});t(Q)}a(!1)},E=async()=>{if(!u.name.trim())return;const T=e.length>0?Math.max(...e.map(z=>z.display_order),0):0,{error:B}=await qe.from("maturity_skills").insert({name:u.name,description:u.description,display_order:T+1});B||(d({name:"",description:""}),c(!1),await _())},F=async T=>{const{error:B}=await qe.from("maturity_skills").update({name:u.name,description:u.description}).eq("id",T);B||(o(null),d({name:"",description:""}),await _())},A=async T=>{if(!confirm("Are you sure you want to delete this skill?"))return;const{error:B}=await qe.from("maturity_skills").delete().eq("id",T);B?alert(`Failed to delete skill: ${B.message}`):await _()},O=T=>{o(T.id),d({name:T.name,description:T.description}),c(!1)},C=()=>{o(null),c(!1),d({name:"",description:""})},L=T=>{x===T?v==="asc"?b("desc"):v==="desc"?(g(null),b(null)):b("asc"):(g(T),b("asc"))},N=T=>x!==T?f.jsx(Ch,{className:"w-4 h-4"}):v==="asc"?f.jsx(p1,{className:"w-4 h-4"}):f.jsx(d1,{className:"w-4 h-4"}),j=e.filter(T=>{const B=!p||T.name.toLowerCase().includes(p.toLowerCase())||T.description.toLowerCase().includes(p.toLowerCase()),z=!y||T.categories.includes(y);return B&&z}).sort((T,B)=>{if(!x||!v)return 0;let z=0;if(x==="name")z=T.name.localeCompare(B.name);else if(x==="categories"){const Q=T.categories.join(", "),ne=B.categories.join(", ");z=Q.localeCompare(ne)}return v==="asc"?z:-z});return i?f.jsx("div",{className:"text-slate-600",children:"Loading..."}):f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Skills"}),f.jsx("p",{className:"text-sm text-slate-600",children:"Manage skills and view their category assignments"})]}),f.jsxs("button",{onClick:()=>c(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[f.jsx(Er,{className:"w-4 h-4"}),"Add Skill"]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"relative",children:[f.jsx(m1,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),f.jsx("input",{type:"text",value:p,onChange:T=>h(T.target.value),placeholder:"Search skills...",className:"w-full pl-10 pr-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),f.jsxs("select",{value:y,onChange:T=>m(T.target.value),className:"px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[f.jsx("option",{value:"",children:"All Categories"}),r.map(T=>f.jsx("option",{value:T.name,children:T.name},T.id))]})]}),l&&f.jsx("div",{className:"border border-slate-200 rounded-lg p-4 bg-slate-50",children:f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Name"}),f.jsx("input",{type:"text",value:u.name,onChange:T=>d({...u,name:T.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Working efficiently"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Description"}),f.jsx("input",{type:"text",value:u.description,onChange:T=>d({...u,description:T.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Optional description"})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{onClick:E,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[f.jsx(si,{className:"w-4 h-4"}),"Save"]}),f.jsxs("button",{onClick:C,className:"flex items-center gap-2 px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50",children:[f.jsx(nn,{className:"w-4 h-4"}),"Cancel"]})]})]})}),s&&f.jsx("div",{className:"border border-slate-200 rounded-lg p-4 bg-slate-50",children:f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Name"}),f.jsx("input",{type:"text",value:u.name,onChange:T=>d({...u,name:T.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Description"}),f.jsx("input",{type:"text",value:u.description,onChange:T=>d({...u,description:T.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{onClick:()=>F(s),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[f.jsx(si,{className:"w-4 h-4"}),"Save"]}),f.jsxs("button",{onClick:C,className:"flex items-center gap-2 px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50",children:[f.jsx(nn,{className:"w-4 h-4"}),"Cancel"]})]})]})}),f.jsx("div",{className:"border border-slate-200 rounded-lg overflow-hidden",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-4 py-3 text-left",children:f.jsxs("button",{onClick:()=>L("name"),className:"flex items-center gap-2 text-sm font-semibold text-slate-900 hover:text-blue-600 transition-colors",children:["Skill Name",N("name")]})}),f.jsx("th",{className:"px-4 py-3 text-left",children:f.jsxs("button",{onClick:()=>L("categories"),className:"flex items-center gap-2 text-sm font-semibold text-slate-900 hover:text-blue-600 transition-colors",children:["Categories",N("categories")]})}),f.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-slate-900",children:"Actions"})]})}),f.jsxs("tbody",{className:"divide-y divide-slate-200",children:[j.map(T=>f.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[f.jsxs("td",{className:"px-4 py-3",children:[f.jsx("div",{className:"font-medium text-slate-900",children:T.name}),T.description&&f.jsx("div",{className:"text-sm text-slate-600 mt-1",children:T.description})]}),f.jsx("td",{className:"px-4 py-3",children:T.categories.length>0?f.jsx("div",{className:"flex flex-wrap gap-2",children:T.categories.map((B,z)=>f.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:B},z))}):f.jsx("span",{className:"text-sm text-slate-400 italic",children:"None"})}),f.jsx("td",{className:"px-4 py-3",children:f.jsxs("div",{className:"flex gap-2 justify-end",children:[f.jsxs("button",{onClick:()=>O(T),className:"flex items-center gap-2 px-3 py-2 text-slate-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:[f.jsx(Wa,{className:"w-4 h-4"}),f.jsx("span",{className:"text-sm font-medium",children:"Edit"})]}),f.jsxs("button",{onClick:()=>A(T.id),className:"flex items-center gap-2 px-3 py-2 text-slate-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[f.jsx(rn,{className:"w-4 h-4"}),f.jsx("span",{className:"text-sm font-medium",children:"Delete"})]})]})})]},T.id)),j.length===0&&f.jsx("tr",{children:f.jsx("td",{colSpan:3,className:"px-4 py-8 text-center text-slate-500",children:e.length===0?"No skills found. Add your first skill to get started.":"No skills match your search criteria."})})]})]})})]})}function ZG(){const[e,t]=ye.useState([]),[r,n]=ye.useState([]),[i,a]=ye.useState(!0),[s,o]=ye.useState(null),[l,c]=ye.useState(!1),[u,d]=ye.useState({name:"",description:"",maturityModelId:""});ye.useEffect(()=>{p()},[]);const p=async()=>{a(!0);const[v,b]=await Promise.all([qe.from("roles").select("*").order("name"),qe.from("maturity_models").select("*").order("name")]);if(v.data&&b.data){const _=v.data.map(E=>{var F;return{...E,maturity_model_name:(F=b.data.find(A=>A.id===E.maturity_model_id))==null?void 0:F.name}});t(_)}b.data&&n(b.data),a(!1)},h=async()=>{if(!u.name.trim())return;const{error:v}=await qe.from("roles").insert({name:u.name,description:u.description,maturity_model_id:u.maturityModelId||null});v||(d({name:"",description:"",maturityModelId:""}),c(!1),await p())},y=async v=>{const{error:b}=await qe.from("roles").update({name:u.name,description:u.description,maturity_model_id:u.maturityModelId||null}).eq("id",v);b||(o(null),d({name:"",description:"",maturityModelId:""}),await p())},m=async v=>{if(!confirm("Are you sure you want to delete this role?"))return;const{error:b}=await qe.from("roles").delete().eq("id",v);b?alert(`Failed to delete role: ${b.message}`):await p()},x=v=>{o(v.id),d({name:v.name,description:v.description,maturityModelId:v.maturity_model_id||""}),c(!1)},g=()=>{o(null),c(!1),d({name:"",description:"",maturityModelId:""})};return i?f.jsx("div",{className:"text-slate-600",children:"Loading..."}):f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Roles"}),f.jsx("p",{className:"text-sm text-slate-600",children:"Manage roles and assign maturity models"})]}),f.jsxs("button",{onClick:()=>c(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[f.jsx(Er,{className:"w-4 h-4"}),"Add Role"]})]}),l&&f.jsx("div",{className:"border border-slate-200 rounded-lg p-4 bg-slate-50",children:f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Name"}),f.jsx("input",{type:"text",value:u.name,onChange:v=>d({...u,name:v.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Product Designer"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Description"}),f.jsx("textarea",{value:u.description,onChange:v=>d({...u,description:v.target.value}),rows:2,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Optional description"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Maturity Model"}),f.jsxs("select",{value:u.maturityModelId,onChange:v=>d({...u,maturityModelId:v.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[f.jsx("option",{value:"",children:"None"}),r.map(v=>f.jsx("option",{value:v.id,children:v.name},v.id))]})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{onClick:h,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[f.jsx(si,{className:"w-4 h-4"}),"Save"]}),f.jsxs("button",{onClick:g,className:"flex items-center gap-2 px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50",children:[f.jsx(nn,{className:"w-4 h-4"}),"Cancel"]})]})]})}),f.jsx("div",{className:"space-y-2",children:e.map(v=>f.jsx("div",{className:"border border-slate-200 rounded-lg p-4 hover:bg-slate-50 transition-colors",children:s===v.id?f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Name"}),f.jsx("input",{type:"text",value:u.name,onChange:b=>d({...u,name:b.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Description"}),f.jsx("textarea",{value:u.description,onChange:b=>d({...u,description:b.target.value}),rows:2,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Maturity Model"}),f.jsxs("select",{value:u.maturityModelId,onChange:b=>d({...u,maturityModelId:b.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[f.jsx("option",{value:"",children:"None"}),r.map(b=>f.jsx("option",{value:b.id,children:b.name},b.id))]})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{onClick:()=>y(v.id),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[f.jsx(si,{className:"w-4 h-4"}),"Save"]}),f.jsxs("button",{onClick:g,className:"flex items-center gap-2 px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50",children:[f.jsx(nn,{className:"w-4 h-4"}),"Cancel"]})]})]}):f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"font-semibold text-slate-900",children:v.name}),v.description&&f.jsx("p",{className:"text-sm text-slate-600 mt-1",children:v.description}),v.maturity_model_name&&f.jsxs("p",{className:"text-sm text-blue-600 mt-1",children:["Model: ",v.maturity_model_name]})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{onClick:()=>x(v),className:"flex items-center gap-2 px-3 py-2 text-slate-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:[f.jsx(Wa,{className:"w-4 h-4"}),f.jsx("span",{className:"text-sm font-medium",children:"Edit"})]}),f.jsxs("button",{onClick:()=>m(v.id),className:"flex items-center gap-2 px-3 py-2 text-slate-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[f.jsx(rn,{className:"w-4 h-4"}),f.jsx("span",{className:"text-sm font-medium",children:"Delete"})]})]})]})},v.id))})]})}function JG(){const[e,t]=ye.useState([]),[r,n]=ye.useState([]),[i,a]=ye.useState([]),[s,o]=ye.useState([]),[l,c]=ye.useState([]),[u,d]=ye.useState(!0),[p,h]=ye.useState(null),[y,m]=ye.useState(null),[x,g]=ye.useState(!1),[v,b]=ye.useState({role_id:"",description:""}),[_,E]=ye.useState(""),[F,A]=ye.useState(null),[O,C]=ye.useState({name:"",description:""});ye.useEffect(()=>{L()},[]);const L=async()=>{d(!0);const[R,G,te,V,Y,oe]=await Promise.all([qe.from("maturity_models").select("*").order("name"),qe.from("maturity_categories").select("*").order("name"),qe.from("maturity_model_categories").select("*").order("display_order"),qe.from("category_skills").select("category_id, skill_id"),qe.from("maturity_skills").select("id, name"),qe.from("roles").select("*").order("name")]);if(R.data&&t(R.data),G.data&&n(G.data),oe.data&&c(oe.data),te.data&&G.data&&V.data){const ve=te.data.map(Ne=>{const _e=G.data.find(Ee=>Ee.id===Ne.category_id),X=V.data.filter(Ee=>Ee.category_id===Ne.category_id).length;return{...Ne,category_name:_e==null?void 0:_e.name,category_description:_e==null?void 0:_e.description,skill_count:X}});a(ve)}if(V.data&&Y.data){const ve=V.data.map(Ne=>{var _e;return{...Ne,skill_name:((_e=Y.data.find(X=>X.id===Ne.skill_id))==null?void 0:_e.name)||""}});o(ve)}d(!1)},N=async()=>{if(!v.role_id)return;const R=l.find(Y=>Y.id===v.role_id);if(!R)return;const{data:G,error:te}=await qe.from("maturity_models").insert({name:`${R.name} Maturity Model`,description:v.description}).select().single();if(te){alert(`Failed to create maturity model: ${te.message}`);return}const{error:V}=await qe.from("roles").update({maturity_model_id:G.id}).eq("id",v.role_id);if(V){alert(`Failed to assign model to role: ${V.message}`);return}b({role_id:"",description:""}),g(!1),await L()},j=async R=>{const{error:G}=await qe.from("maturity_models").update({description:v.description}).eq("id",R);G||(h(null),b({role_id:"",description:""}),await L())},T=async R=>{if(!confirm("Are you sure you want to delete this maturity model?"))return;const{error:G}=await qe.from("maturity_models").delete().eq("id",R);G?alert(`Failed to delete maturity model: ${G.message}`):await L()},B=async R=>{if(!_)return;const G=i.filter(V=>V.maturity_model_id===R).length,{error:te}=await qe.from("maturity_model_categories").insert({maturity_model_id:R,category_id:_,display_order:G+1});te||(E(""),await L())},z=async R=>{if(!confirm("Remove this category from the model?"))return;const{error:G}=await qe.from("maturity_model_categories").delete().eq("id",R);G||await L()},Q=async(R,G,te)=>{const V=i.filter(_e=>_e.maturity_model_id===R).sort((_e,X)=>_e.display_order-X.display_order),Y=V.findIndex(_e=>_e.display_order===G),oe=te==="up"?Y-1:Y+1;if(oe<0||oe>=V.length)return;const ve=V[Y],Ne=V[oe];await Promise.all([qe.from("maturity_model_categories").update({display_order:Ne.display_order}).eq("id",ve.id),qe.from("maturity_model_categories").update({display_order:ve.display_order}).eq("id",Ne.id)]),await L()},ne=R=>{h(R.id),b({role_id:"",description:R.description}),g(!1)},ie=()=>{h(null),g(!1),b({role_id:"",description:""})},K=R=>i.filter(G=>G.maturity_model_id===R).sort((G,te)=>G.display_order-te.display_order),W=R=>{const G=i.filter(te=>te.maturity_model_id===R).map(te=>te.category_id);return r.filter(te=>!G.includes(te.id))},q=R=>s.filter(G=>G.category_id===R),k=R=>l.filter(G=>G.maturity_model_id===R),I=()=>l.filter(R=>!R.maturity_model_id),M=async R=>{if(!O.name.trim())return;const{error:G}=await qe.from("roles").insert({name:O.name,description:O.description,maturity_model_id:R});G||(C({name:"",description:""}),A(null),await L())},U=async R=>{if(!confirm("Are you sure you want to delete this role?"))return;const{error:G}=await qe.from("roles").delete().eq("id",R);G?alert(`Failed to delete role: ${G.message}`):await L()};return u?f.jsx("div",{className:"text-slate-600",children:"Loading..."}):f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Maturity Models"}),f.jsx("p",{className:"text-sm text-slate-600",children:"Manage maturity models and assign categories"})]}),f.jsxs("button",{onClick:()=>g(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[f.jsx(Er,{className:"w-4 h-4"}),"Add Model"]})]}),x&&f.jsx("div",{className:"border border-slate-200 rounded-lg p-4 bg-slate-50",children:f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Role"}),f.jsxs("select",{value:v.role_id,onChange:R=>b({...v,role_id:R.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[f.jsx("option",{value:"",children:"Select a role"}),I().map(R=>f.jsx("option",{value:R.id,children:R.name},R.id))]}),f.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Select a role to create a maturity model for"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Description"}),f.jsx("textarea",{value:v.description,onChange:R=>b({...v,description:R.target.value}),rows:2,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Optional description"})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{onClick:N,disabled:!v.role_id,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[f.jsx(si,{className:"w-4 h-4"}),"Create Model"]}),f.jsxs("button",{onClick:ie,className:"flex items-center gap-2 px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50",children:[f.jsx(nn,{className:"w-4 h-4"}),"Cancel"]})]})]})}),f.jsx("div",{className:"space-y-2",children:e.map(R=>{const G=y===R.id,te=K(R.id),V=W(R.id);return f.jsx("div",{className:"border border-slate-200 rounded-lg",children:p===R.id?f.jsxs("div",{className:"p-4 space-y-3",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Model Name"}),f.jsx("input",{type:"text",value:R.name,disabled:!0,className:"w-full px-3 py-2 border border-slate-300 rounded-lg bg-slate-100 text-slate-600"}),f.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Model name is derived from the assigned role"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Description"}),f.jsx("textarea",{value:v.description,onChange:Y=>b({...v,description:Y.target.value}),rows:2,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{onClick:()=>j(R.id),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[f.jsx(si,{className:"w-4 h-4"}),"Save"]}),f.jsxs("button",{onClick:ie,className:"flex items-center gap-2 px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50",children:[f.jsx(nn,{className:"w-4 h-4"}),"Cancel"]})]})]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 transition-colors",children:[f.jsxs("button",{onClick:()=>m(G?null:R.id),className:"flex-1 flex items-center gap-2 text-left",children:[f.jsx(bp,{className:`w-5 h-5 text-slate-400 transition-transform ${G?"transform rotate-180":""}`}),f.jsxs("div",{className:"flex-1",children:[f.jsx("h4",{className:"font-semibold text-slate-900",children:R.name}),R.description&&f.jsx("p",{className:"text-sm text-slate-600 mt-1",children:R.description}),f.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:[te.length," categor",te.length!==1?"ies":"y"]})]})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{onClick:()=>ne(R),className:"flex items-center gap-2 px-3 py-2 text-slate-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:[f.jsx(Wa,{className:"w-4 h-4"}),f.jsx("span",{className:"text-sm font-medium",children:"Edit"})]}),f.jsxs("button",{onClick:()=>T(R.id),className:"flex items-center gap-2 px-3 py-2 text-slate-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[f.jsx(rn,{className:"w-4 h-4"}),f.jsx("span",{className:"text-sm font-medium",children:"Delete"})]})]})]}),G&&f.jsxs("div",{className:"border-t border-slate-200 p-4 bg-slate-50 space-y-6",children:[f.jsxs("div",{children:[f.jsx("h5",{className:"font-medium text-slate-900 mb-3",children:"Roles"}),k(R.id).length>0?f.jsx("div",{className:"space-y-2",children:k(R.id).map(Y=>f.jsxs("div",{className:"p-3 bg-white rounded-lg border border-slate-200 flex items-start justify-between",children:[f.jsxs("div",{children:[f.jsx("div",{className:"font-medium text-slate-900",children:Y.name}),Y.description&&f.jsx("div",{className:"text-sm text-slate-600 mt-1",children:Y.description})]}),f.jsxs("button",{onClick:()=>U(Y.id),className:"flex items-center gap-2 px-3 py-2 text-slate-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[f.jsx(rn,{className:"w-4 h-4"}),f.jsx("span",{className:"text-sm font-medium",children:"Delete"})]})]},Y.id))}):f.jsx("p",{className:"text-sm text-slate-600",children:"No roles assigned to this model yet"}),F===R.id?f.jsxs("div",{className:"mt-3 p-3 bg-white rounded-lg border border-slate-200 space-y-3",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Role Name"}),f.jsx("input",{type:"text",value:O.name,onChange:Y=>C({...O,name:Y.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Product Designer"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Description"}),f.jsx("textarea",{value:O.description,onChange:Y=>C({...O,description:Y.target.value}),rows:2,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Optional description"})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{onClick:()=>M(R.id),className:"flex items-center gap-2 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm",children:[f.jsx(Er,{className:"w-4 h-4"}),"Add Role"]}),f.jsx("button",{onClick:()=>{A(null),C({name:"",description:""})},className:"flex items-center gap-2 px-3 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 text-sm",children:"Cancel"})]})]}):f.jsxs("button",{onClick:()=>A(R.id),className:"mt-3 flex items-center gap-2 px-3 py-2 text-sm text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:[f.jsx(Er,{className:"w-4 h-4"}),"Add Role"]})]}),f.jsxs("div",{className:"border-t border-slate-200 pt-3",children:[f.jsx("h5",{className:"font-medium text-slate-900 mb-3",children:"Categories"}),te.map((Y,oe)=>{const ve=q(Y.category_id);return f.jsx("div",{className:"p-4 bg-white rounded-lg border border-slate-200",children:f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsxs("div",{className:"flex flex-col gap-1",children:[f.jsx("button",{onClick:()=>Q(R.id,Y.display_order,"up"),disabled:oe===0,className:"p-1 text-slate-400 hover:text-slate-600 disabled:opacity-30",children:f.jsx(UN,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>Q(R.id,Y.display_order,"down"),disabled:oe===te.length-1,className:"p-1 text-slate-400 hover:text-slate-600 disabled:opacity-30",children:f.jsx(bp,{className:"w-4 h-4"})})]}),f.jsxs("div",{className:"flex-1",children:[f.jsx("div",{className:"font-medium text-slate-900",children:Y.category_name}),Y.category_description&&f.jsx("div",{className:"text-sm text-slate-600 mt-1",children:Y.category_description}),f.jsxs("div",{className:"text-sm text-slate-500 mt-2",children:[ve.length," skill",ve.length!==1?"s":"",ve.length>0&&f.jsxs("span",{className:"ml-2",children:["(",ve.map(Ne=>Ne.skill_name).join(", "),")"]})]})]}),f.jsxs("button",{onClick:()=>z(Y.id),className:"flex items-center gap-2 px-3 py-2 text-slate-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[f.jsx(rn,{className:"w-4 h-4"}),f.jsx("span",{className:"text-sm font-medium",children:"Remove"})]})]})},Y.id)}),V.length>0&&f.jsxs("div",{className:"border-t border-slate-200 pt-3 space-y-2",children:[f.jsx("h6",{className:"text-sm font-medium text-slate-700",children:"Add Category"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("select",{value:_,onChange:Y=>E(Y.target.value),className:"flex-1 px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[f.jsx("option",{value:"",children:"Select a category to add"}),V.map(Y=>f.jsx("option",{value:Y.id,children:Y.name},Y.id))]}),f.jsxs("button",{onClick:()=>B(R.id),disabled:!_,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[f.jsx(Er,{className:"w-4 h-4"}),"Add"]})]})]})]})]})]})},R.id)})})]})}function Zw(){const{user:e}=Ga(),[t,r]=ye.useState([]),[n,i]=ye.useState([]),[a,s]=ye.useState(!0),[o,l]=ye.useState(!1),[c,u]=ye.useState(null),[d,p]=ye.useState(!1),[h,y]=ye.useState(null),[m,x]=ye.useState({full_name:"",email:"",role:"",role_id:null,start_date:"",photo_url:"",user_account_email:"",disc_d:null,disc_i:null,disc_s:null,disc_c:null,enneagram_primary:null,enneagram_wing:null,working_genius:null});ye.useEffect(()=>{e&&g()},[e]);const g=async()=>{s(!0);const[A,O]=await Promise.all([qe.from("team_members").select("*").order("full_name"),qe.from("roles").select("id, name").order("name")]);A.error?console.error("Error fetching members:",A.error):r(A.data||[]),O.data&&i(O.data),s(!1)},v=async A=>{if(A.preventDefault(),!e)return;let O=null;if(m.user_account_email){const{data:L,error:N}=await qe.from("auth.users").select("id").eq("email",m.user_account_email).maybeSingle();if(N){const{data:j}=await qe.auth.admin.listUsers(),T=j==null?void 0:j.users.find(B=>B.email===m.user_account_email);if(T)O=T.id;else{alert("User account not found with that email. Please ensure the team member has created an account first.");return}}else L&&(O=L.id)}const C={full_name:m.full_name,email:m.email,role:m.role,role_id:m.role_id,start_date:m.start_date,photo_url:m.photo_url,user_id:O,manager_id:e.id,disc_d:m.disc_d,disc_i:m.disc_i,disc_s:m.disc_s,disc_c:m.disc_c,enneagram_primary:m.enneagram_primary,enneagram_wing:m.enneagram_wing,working_genius:m.working_genius};if(c){const{error:L}=await qe.from("team_members").update(C).eq("id",c.id);if(L){console.error("Error updating member:",L);return}}else{const{error:L}=await qe.from("team_members").insert([C]);if(L){console.error("Error adding member:",L);return}}F(),g()},b=async A=>{if(!confirm("Are you sure you want to remove this team member?"))return;const{error:O}=await qe.from("team_members").delete().eq("id",A);if(O){console.error("Error deleting member:",O);return}g()},_=async A=>{var C;const O=(C=A.target.files)==null?void 0:C[0];if(!(!O||!e)){p(!0);try{const L=O.name.split(".").pop(),N=`${Math.random()}.${L}`,j=`${e.id}/${N}`,{error:T}=await qe.storage.from("profile-photos").upload(j,O);if(T)throw T;const{data:{publicUrl:B}}=qe.storage.from("profile-photos").getPublicUrl(j);x({...m,photo_url:B})}catch(L){console.error("Error uploading photo:",L),alert("Failed to upload photo. Please try again.")}finally{p(!1)}}},E=async A=>{var C;u(A);let O="";if(A.user_id){const{data:L}=await qe.auth.admin.getUserById(A.user_id);(C=L==null?void 0:L.user)!=null&&C.email&&(O=L.user.email)}x({full_name:A.full_name,email:A.email,role:A.role,role_id:A.role_id,start_date:A.start_date,photo_url:A.photo_url||"",user_account_email:O,disc_d:A.disc_d,disc_i:A.disc_i,disc_s:A.disc_s,disc_c:A.disc_c,enneagram_primary:A.enneagram_primary,enneagram_wing:A.enneagram_wing,working_genius:A.working_genius}),l(!0)},F=()=>{x({full_name:"",email:"",role:"",role_id:null,start_date:"",photo_url:"",user_account_email:"",disc_d:null,disc_i:null,disc_s:null,disc_c:null,enneagram_primary:null,enneagram_wing:null,working_genius:null}),u(null),l(!1)};return a?f.jsx("div",{className:"text-slate-600",children:"Loading..."}):f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Team Members"}),f.jsx("p",{className:"text-sm text-slate-600",children:"Manage your team members"})]}),f.jsxs("button",{onClick:()=>l(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[f.jsx(Er,{className:"w-4 h-4"}),"Add Member"]})]}),o&&f.jsxs("div",{className:"border border-slate-200 rounded-lg p-6 bg-slate-50 mb-6",children:[f.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-6",children:c?"Edit Team Member":"Add Team Member"}),f.jsxs("form",{onSubmit:v,className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Profile Photo"}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"relative w-20 h-20 rounded-full overflow-hidden bg-slate-100 flex items-center justify-center",children:m.photo_url?f.jsx("img",{src:m.photo_url,alt:"Profile preview",className:"w-full h-full object-cover"}):f.jsx(Zo,{className:"w-12 h-12 text-slate-400"})}),f.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 transition cursor-pointer",children:[f.jsx(e7,{className:"w-4 h-4"}),d?"Uploading...":"Upload Photo",f.jsx("input",{type:"file",accept:"image/*",onChange:_,disabled:d,className:"hidden"})]})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Full Name"}),f.jsx("input",{type:"text",required:!0,value:m.full_name,onChange:A=>x({...m,full_name:A.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Email"}),f.jsx("input",{type:"email",required:!0,value:m.email,onChange:A=>x({...m,email:A.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Job Title"}),f.jsx("input",{type:"text",required:!0,placeholder:"e.g., Senior Product Designer",value:m.role,onChange:A=>x({...m,role:A.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Role (Maturity Model)"}),f.jsxs("select",{value:m.role_id||"",onChange:A=>x({...m,role_id:A.target.value||null}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[f.jsx("option",{value:"",children:"None"}),n.map(A=>f.jsx("option",{value:A.id,children:A.name},A.id))]}),f.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Select a role to use the associated maturity model for assessments"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Start Date"}),f.jsx("input",{type:"date",required:!0,value:m.start_date,onChange:A=>x({...m,start_date:A.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),f.jsxs("div",{className:"border-t border-slate-200 pt-6",children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"User Account Email (Optional)"}),f.jsx("input",{type:"email",placeholder:"user@example.com",value:m.user_account_email,onChange:A=>x({...m,user_account_email:A.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),f.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Link this team member to a user account to allow them to log in and view their data. The user must create an account first using this email address."})]}),f.jsx("div",{className:"border-t border-slate-200 pt-6",children:f.jsx(Gv,{data:{disc_d:m.disc_d,disc_i:m.disc_i,disc_s:m.disc_s,disc_c:m.disc_c,enneagram_primary:m.enneagram_primary,enneagram_wing:m.enneagram_wing,working_genius:m.working_genius},onChange:A=>{x({...m,...A})}})}),c&&f.jsx("div",{className:"border-t border-slate-200 pt-6",children:f.jsx(Yx,{teamMemberId:c.id})}),f.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200",children:[f.jsxs("button",{type:"button",onClick:F,className:"flex items-center gap-2 px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition",children:[f.jsx(nn,{className:"w-4 h-4"}),"Cancel"]}),f.jsxs("button",{type:"submit",className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:[f.jsx(si,{className:"w-4 h-4"}),c?"Update":"Add"," Member"]})]})]})]}),h&&f.jsxs("div",{className:"border border-slate-200 rounded-lg p-6 bg-white mb-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:h.full_name}),f.jsx("p",{className:"text-slate-600",children:h.role})]}),f.jsxs("button",{onClick:()=>y(null),className:"flex items-center gap-2 px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition",children:[f.jsx(nn,{className:"w-4 h-4"}),"Close"]})]}),f.jsx(Gv,{data:{disc_d:h.disc_d,disc_i:h.disc_i,disc_s:h.disc_s,disc_c:h.disc_c,enneagram_primary:h.enneagram_primary,enneagram_wing:h.enneagram_wing,working_genius:h.working_genius},onChange:()=>{},readOnly:!0})]}),f.jsx("div",{className:"border border-slate-200 rounded-lg overflow-hidden",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Team Member"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Email"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Role/Title"}),f.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),f.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:t.map(A=>f.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden bg-slate-100 flex items-center justify-center flex-shrink-0",children:A.photo_url?f.jsx("img",{src:A.photo_url,alt:A.full_name,className:"w-full h-full object-cover"}):f.jsx(Zo,{className:"w-6 h-6 text-slate-400"})}),f.jsxs("div",{children:[f.jsx("div",{className:"font-medium text-slate-900",children:A.full_name}),f.jsxs("div",{className:"text-sm text-slate-500",children:["Started ",new Date(A.start_date).toLocaleDateString()]})]})]})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[f.jsx(KO,{className:"w-4 h-4"}),A.email]})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsx("div",{className:"text-sm text-slate-900",children:A.role})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:f.jsxs("div",{className:"flex items-center justify-end gap-2",children:[f.jsxs("button",{onClick:()=>E(A),className:"flex items-center gap-2 px-3 py-2 text-slate-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:[f.jsx(Wa,{className:"w-4 h-4"}),f.jsx("span",{className:"text-sm font-medium",children:"Edit"})]}),f.jsxs("button",{onClick:()=>b(A.id),className:"flex items-center gap-2 px-3 py-2 text-slate-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[f.jsx(rn,{className:"w-4 h-4"}),f.jsx("span",{className:"text-sm font-medium",children:"Delete"})]})]})})]},A.id))})]})}),t.length===0&&f.jsxs("div",{className:"text-center py-12 border border-slate-200 rounded-lg",children:[f.jsx(Zo,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),f.jsx("h3",{className:"text-lg font-medium text-slate-900 mb-2",children:"No team members yet"}),f.jsx("p",{className:"text-slate-600 mb-6",children:"Get started by adding your first team member"}),f.jsxs("button",{onClick:()=>l(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:[f.jsx(Er,{className:"w-5 h-5"}),"Add Member"]})]})]})}const Jw=[{label:"Amber/Orange",value:"from-amber-50 to-orange-50 border-amber-200"},{label:"Pink/Rose",value:"from-pink-50 to-rose-50 border-pink-200"},{label:"Red/Orange",value:"from-red-50 to-orange-50 border-red-200"},{label:"Blue/Sky",value:"from-blue-50 to-sky-50 border-blue-200"},{label:"Cyan/Sky",value:"from-cyan-50 to-sky-50 border-cyan-200"},{label:"Green/Emerald",value:"from-green-50 to-emerald-50 border-green-200"},{label:"Fuchsia/Pink",value:"from-fuchsia-50 to-pink-50 border-fuchsia-200"},{label:"Teal/Cyan",value:"from-teal-50 to-cyan-50 border-teal-200"},{label:"Slate/Gray",value:"from-slate-50 to-gray-50 border-slate-200"},{label:"Yellow/Amber",value:"from-yellow-50 to-amber-50 border-yellow-200"},{label:"Rose/Pink",value:"from-rose-50 to-pink-50 border-rose-200"},{label:"Orange/Amber",value:"from-orange-50 to-amber-50 border-orange-200"},{label:"Blue/Cyan",value:"from-blue-50 to-cyan-50 border-blue-200"}];function QG(){const[e,t]=ye.useState("preferences"),[r,n]=ye.useState([]),[i,a]=ye.useState([]),[s,o]=ye.useState(!0),[l,c]=ye.useState(!1),[u,d]=ye.useState(!1),[p,h]=ye.useState(null),[y,m]=ye.useState(null),[x,g]=ye.useState({name:"",icon:"",color:"from-slate-50 to-gray-50 border-slate-200",display_order:0,is_active:!0}),[v,b]=ye.useState({name:"",description:"",icon:"",color:"from-slate-50 to-gray-50 border-slate-200",display_order:0,is_active:!0});ye.useEffect(()=>{_()},[]);const _=async()=>{o(!0);const[T,B]=await Promise.all([qe.from("preference_types").select("*").order("display_order"),qe.from("assessment_types").select("*").order("display_order")]);T.data&&n(T.data),B.data&&a(B.data),o(!1)},E=async T=>{if(T.preventDefault(),p){const{error:B}=await qe.from("preference_types").update({...x,updated_at:new Date().toISOString()}).eq("id",p.id);if(B){console.error("Error updating preference type:",B);return}}else{const{error:B}=await qe.from("preference_types").insert([x]);if(B){console.error("Error adding preference type:",B);return}}N(),_()},F=async T=>{if(T.preventDefault(),y){const{error:B}=await qe.from("assessment_types").update({...v,updated_at:new Date().toISOString()}).eq("id",y.id);if(B){console.error("Error updating assessment type:",B);return}}else{const{error:B}=await qe.from("assessment_types").insert([v]);if(B){console.error("Error adding assessment type:",B);return}}j(),_()},A=async T=>{if(!confirm("Are you sure you want to delete this preference type?"))return;const{error:B}=await qe.from("preference_types").delete().eq("id",T);if(B){console.error("Error deleting preference type:",B);return}_()},O=async T=>{if(!confirm("Are you sure you want to delete this assessment type?"))return;const{error:B}=await qe.from("assessment_types").delete().eq("id",T);if(B){console.error("Error deleting assessment type:",B);return}_()},C=T=>{h(T),g({name:T.name,icon:T.icon,color:T.color,display_order:T.display_order,is_active:T.is_active}),c(!0)},L=T=>{m(T),b({name:T.name,description:T.description||"",icon:T.icon,color:T.color,display_order:T.display_order,is_active:T.is_active}),d(!0)},N=()=>{g({name:"",icon:"",color:"from-slate-50 to-gray-50 border-slate-200",display_order:r.length,is_active:!0}),h(null),c(!1)},j=()=>{b({name:"",description:"",icon:"",color:"from-slate-50 to-gray-50 border-slate-200",display_order:i.length,is_active:!0}),m(null),d(!1)};return s?f.jsx("div",{className:"text-slate-600",children:"Loading..."}):f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Profile Settings"}),f.jsx("p",{className:"text-sm text-slate-600",children:"Manage preference types and assessment types"})]}),f.jsxs("div",{className:"flex gap-2 border-b border-slate-200",children:[f.jsx("button",{onClick:()=>t("preferences"),className:`px-4 py-2 font-medium border-b-2 transition-colors ${e==="preferences"?"border-blue-600 text-blue-600":"border-transparent text-slate-600 hover:text-slate-900"}`,children:"Preference Types"}),f.jsx("button",{onClick:()=>t("assessments"),className:`px-4 py-2 font-medium border-b-2 transition-colors ${e==="assessments"?"border-blue-600 text-blue-600":"border-transparent text-slate-600 hover:text-slate-900"}`,children:"Assessment Types"})]}),e==="preferences"&&f.jsxs("div",{className:"space-y-4",children:[f.jsx("div",{className:"flex justify-end",children:f.jsxs("button",{onClick:()=>c(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[f.jsx(Er,{className:"w-4 h-4"}),"Add Preference Type"]})}),l&&f.jsxs("div",{className:"border border-slate-200 rounded-lg p-6 bg-slate-50",children:[f.jsx("h4",{className:"text-lg font-semibold text-slate-900 mb-4",children:p?"Edit Preference Type":"Add Preference Type"}),f.jsxs("form",{onSubmit:E,className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Name"}),f.jsx("input",{type:"text",required:!0,value:x.name,onChange:T=>g({...x,name:T.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Icon (Emoji)"}),f.jsx("input",{type:"text",required:!0,value:x.icon,onChange:T=>g({...x,icon:T.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., "})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(lb,{className:"w-4 h-4"}),"Color Theme"]})}),f.jsx("select",{value:x.color,onChange:T=>g({...x,color:T.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:Jw.map(T=>f.jsx("option",{value:T.value,children:T.label},T.value))}),f.jsx("div",{className:`mt-2 p-4 rounded-lg bg-gradient-to-br ${x.color} border-2`,children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-2xl",children:x.icon}),f.jsx("span",{className:"font-semibold text-slate-900",children:x.name||"Preview"})]})})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Display Order"}),f.jsx("input",{type:"number",required:!0,value:x.display_order,onChange:T=>g({...x,display_order:parseInt(T.target.value)}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Status"}),f.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[f.jsx("input",{type:"checkbox",checked:x.is_active,onChange:T=>g({...x,is_active:T.target.checked}),className:"w-4 h-4 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),f.jsx("span",{className:"text-sm text-slate-700",children:"Active"})]})]})]}),f.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200",children:[f.jsxs("button",{type:"button",onClick:N,className:"flex items-center gap-2 px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-100 transition",children:[f.jsx(nn,{className:"w-4 h-4"}),"Cancel"]}),f.jsxs("button",{type:"submit",className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:[f.jsx(si,{className:"w-4 h-4"}),p?"Update":"Add"," Preference Type"]})]})]})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map(T=>f.jsxs("div",{className:`bg-gradient-to-br ${T.color} rounded-lg border-2 p-4 ${T.is_active?"":"opacity-50"}`,children:[f.jsxs("div",{className:"flex items-start justify-between mb-2",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-2xl",children:T.icon}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-semibold text-slate-900",children:T.name}),f.jsxs("p",{className:"text-xs text-slate-600",children:["Order: ",T.display_order]})]})]}),f.jsxs("div",{className:"flex gap-1",children:[f.jsxs("button",{onClick:()=>C(T),className:"flex items-center gap-1.5 px-2 py-1.5 hover:bg-white/50 rounded-lg transition",children:[f.jsx(Wa,{className:"w-4 h-4 text-slate-600"}),f.jsx("span",{className:"text-xs font-medium text-slate-600",children:"Edit"})]}),f.jsxs("button",{onClick:()=>A(T.id),className:"flex items-center gap-1.5 px-2 py-1.5 hover:bg-white/50 rounded-lg transition",children:[f.jsx(rn,{className:"w-4 h-4 text-red-600"}),f.jsx("span",{className:"text-xs font-medium text-red-600",children:"Delete"})]})]})]}),!T.is_active&&f.jsx("span",{className:"text-xs text-slate-500 italic",children:"Inactive"})]},T.id))}),r.length===0&&f.jsxs("div",{className:"text-center py-12 border border-slate-200 rounded-lg bg-slate-50",children:[f.jsx("p",{className:"text-slate-500 mb-4",children:"No preference types yet"}),f.jsx("button",{onClick:()=>c(!0),className:"text-blue-600 hover:text-blue-700 font-medium",children:"Add your first preference type"})]})]}),e==="assessments"&&f.jsxs("div",{className:"space-y-4",children:[f.jsx("div",{className:"flex justify-end",children:f.jsxs("button",{onClick:()=>d(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[f.jsx(Er,{className:"w-4 h-4"}),"Add Assessment Type"]})}),u&&f.jsxs("div",{className:"border border-slate-200 rounded-lg p-6 bg-slate-50",children:[f.jsx("h4",{className:"text-lg font-semibold text-slate-900 mb-4",children:y?"Edit Assessment Type":"Add Assessment Type"}),f.jsxs("form",{onSubmit:F,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Name"}),f.jsx("input",{type:"text",required:!0,value:v.name,onChange:T=>b({...v,name:T.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Description"}),f.jsx("textarea",{value:v.description,onChange:T=>b({...v,description:T.target.value}),rows:3,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Icon (Emoji)"}),f.jsx("input",{type:"text",required:!0,value:v.icon,onChange:T=>b({...v,icon:T.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., "})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(lb,{className:"w-4 h-4"}),"Color Theme"]})}),f.jsx("select",{value:v.color,onChange:T=>b({...v,color:T.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:Jw.map(T=>f.jsx("option",{value:T.value,children:T.label},T.value))})]})]}),f.jsxs("div",{className:`p-4 rounded-lg bg-gradient-to-br ${v.color} border-2`,children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx("span",{className:"text-2xl",children:v.icon}),f.jsx("span",{className:"font-semibold text-slate-900",children:v.name||"Preview"})]}),v.description&&f.jsx("p",{className:"text-sm text-slate-600",children:v.description})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Display Order"}),f.jsx("input",{type:"number",required:!0,value:v.display_order,onChange:T=>b({...v,display_order:parseInt(T.target.value)}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Status"}),f.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[f.jsx("input",{type:"checkbox",checked:v.is_active,onChange:T=>b({...v,is_active:T.target.checked}),className:"w-4 h-4 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),f.jsx("span",{className:"text-sm text-slate-700",children:"Active"})]})]})]}),f.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200",children:[f.jsxs("button",{type:"button",onClick:j,className:"flex items-center gap-2 px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-100 transition",children:[f.jsx(nn,{className:"w-4 h-4"}),"Cancel"]}),f.jsxs("button",{type:"submit",className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:[f.jsx(si,{className:"w-4 h-4"}),y?"Update":"Add"," Assessment Type"]})]})]})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.map(T=>f.jsxs("div",{className:`bg-gradient-to-br ${T.color} rounded-lg border-2 p-4 ${T.is_active?"":"opacity-50"}`,children:[f.jsxs("div",{className:"flex items-start justify-between mb-2",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-2xl",children:T.icon}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-semibold text-slate-900",children:T.name}),f.jsxs("p",{className:"text-xs text-slate-600",children:["Order: ",T.display_order]})]})]}),f.jsxs("div",{className:"flex gap-1",children:[f.jsxs("button",{onClick:()=>L(T),className:"flex items-center gap-1.5 px-2 py-1.5 hover:bg-white/50 rounded-lg transition",children:[f.jsx(Wa,{className:"w-4 h-4 text-slate-600"}),f.jsx("span",{className:"text-xs font-medium text-slate-600",children:"Edit"})]}),f.jsxs("button",{onClick:()=>O(T.id),className:"flex items-center gap-1.5 px-2 py-1.5 hover:bg-white/50 rounded-lg transition",children:[f.jsx(rn,{className:"w-4 h-4 text-red-600"}),f.jsx("span",{className:"text-xs font-medium text-red-600",children:"Delete"})]})]})]}),T.description&&f.jsx("p",{className:"text-sm text-slate-600 mb-2",children:T.description}),!T.is_active&&f.jsx("span",{className:"text-xs text-slate-500 italic",children:"Inactive"})]},T.id))}),i.length===0&&f.jsxs("div",{className:"text-center py-12 border border-slate-200 rounded-lg bg-slate-50",children:[f.jsx("p",{className:"text-slate-500 mb-4",children:"No assessment types yet"}),f.jsx("button",{onClick:()=>d(!0),className:"text-blue-600 hover:text-blue-700 font-medium",children:"Add your first assessment type"})]})]})]})}function eK(){const[e,t]=ye.useState("members"),r=[{id:"members",label:"Team Members"},{id:"models",label:"Maturity Models"},{id:"roles",label:"Roles"},{id:"categories",label:"Categories"},{id:"skills",label:"Skills"},{id:"levels",label:"Levels"},{id:"profile",label:"Profile"}],n=()=>{switch(e){case"members":return f.jsx(Zw,{});case"levels":return f.jsx(KG,{});case"categories":return f.jsx(YG,{});case"skills":return f.jsx(XG,{});case"roles":return f.jsx(ZG,{});case"models":return f.jsx(JG,{});case"profile":return f.jsx(QG,{});default:return f.jsx(Zw,{})}};return f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(qN,{className:"w-8 h-8 text-slate-700"}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Admin Settings"}),f.jsx("p",{className:"text-slate-600 mt-1",children:"Manage maturity models and system configuration"})]})]}),f.jsxs("div",{className:"bg-white rounded-lg border border-slate-200",children:[f.jsx("div",{className:"border-b border-slate-200",children:f.jsx("nav",{className:"flex overflow-x-auto",children:r.map(i=>f.jsx("button",{onClick:()=>t(i.id),className:`px-6 py-4 font-medium whitespace-nowrap border-b-2 transition-colors ${e===i.id?"border-blue-600 text-blue-600":"border-transparent text-slate-600 hover:text-slate-900 hover:border-slate-300"}`,children:i.label},i.id))})}),f.jsx("div",{className:"p-6",children:n()})]})]})}function tK(){const[e,t]=ye.useState("welcome"),[r,n]=ye.useState(0),[i,a]=ye.useState(""),[s,o]=ye.useState(null),[l,c]=ye.useState(null),[u,d]=ye.useState([]),[p,h]=ye.useState([]),[y,m]=ye.useState([]),[x,g]=ye.useState([]),[v,b]=ye.useState({}),[_,E]=ye.useState([]),[F,A]=ye.useState(!0),[O,C]=ye.useState(!1),[L,N]=ye.useState("");ye.useEffect(()=>{const X=new URLSearchParams(window.location.search).get("token");X?(a(X),j(X)):(N("No assessment token provided"),A(!1))},[]);const j=async _e=>{try{const{data:X,error:Ee}=await qe.from("self_assessment_tokens").select("*, team_members(*)").eq("token",_e).gt("expires_at",new Date().toISOString()).maybeSingle();if(Ee||!X){N("Invalid or expired assessment link"),o(!1),A(!1);return}o(!0),c(X.team_members),await T(X.team_members.id,X.team_members.role_id)}catch(X){console.error("Error validating token:",X),N("Failed to validate assessment link"),o(!1),A(!1)}},T=async(_e,X)=>{try{console.log("Loading assessment data for member:",_e,"role:",X);const{data:Ee,error:Oe}=await qe.from("levels").select("*").order("name"),{data:be,error:xe}=await qe.from("maturity_categories").select("*").order("display_order"),{data:De,error:Be}=await qe.from("maturity_skills").select("*").order("display_order"),{data:Ce,error:Xe}=await qe.from("skill_levels").select("*, levels(name)"),{data:tt,error:ct}=await qe.from("category_skills").select("*").order("display_order"),{data:pt,error:bt}=await qe.from("maturity_assessments").select("skill_id, self_rating").eq("team_member_id",_e);if(console.log("Data loaded:",{levels:Ee==null?void 0:Ee.length,categories:be==null?void 0:be.length,skills:De==null?void 0:De.length,skillLevels:Ce==null?void 0:Ce.length,categorySkills:tt==null?void 0:tt.length,assessments:pt==null?void 0:pt.length}),console.log("Errors:",{levelsError:Oe,categoriesError:xe,skillsError:Be,skillLevelsError:Xe,categorySkillsError:ct,assessmentsError:bt}),Ee&&g(Ee),be&&d(be),De&&h(De),Ce){const Ae=Ce.map(We=>{var Ye;return{...We,level_name:((Ye=We.levels)==null?void 0:Ye.name)||""}});m(Ae)}if(tt){const Ae={};tt.forEach(We=>{Ae[We.category_id]||(Ae[We.category_id]=[]),Ae[We.category_id].push(We.skill_id)}),console.log("Category skills map:",Ae),b(Ae)}E([]),A(!1)}catch(Ee){console.error("Error loading assessment data:",Ee),N("Failed to load assessment data"),A(!1)}},B=(_e,X)=>{let Ee=[];E(Oe=>(Oe.find(xe=>xe.skill_id===_e)?Ee=Oe.map(xe=>xe.skill_id===_e?{...xe,self_rating:X}:xe):Ee=[...Oe,{skill_id:_e,self_rating:X}],Ee)),setTimeout(()=>{const Oe=K();if(!Oe)return;const be=v[Oe.id]||[],xe=be.indexOf(_e);for(let De=xe+1;De<be.length;De++){const Be=be[De];if(!Ee.some(Xe=>Xe.skill_id===Be&&Xe.self_rating!==null)){const Xe=document.querySelector(`input[name="skill-${Be}"]`);if(Xe){const tt=Xe.closest(".mb-8");tt&&tt.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"});break}}}},150)},z=async()=>{if(l){C(!0),N("");try{for(const _e of _){if(!_e.self_rating)continue;const{data:X}=await qe.from("maturity_assessments").select("id").eq("team_member_id",l.id).eq("skill_id",_e.skill_id).maybeSingle();X?await qe.from("maturity_assessments").update({self_rating:_e.self_rating,updated_at:new Date().toISOString()}).eq("id",X.id):await qe.from("maturity_assessments").insert({team_member_id:l.id,assessor_id:l.manager_id,skill_id:_e.skill_id,self_rating:_e.self_rating,notes:""})}await qe.from("self_assessment_tokens").update({completed_at:new Date().toISOString()}).eq("token",i),t("success")}catch(_e){console.error("Error saving assessment:",_e),N("Failed to save assessment. Please try again.")}finally{C(!1)}}},Q=_e=>{const X=v[_e]||[];return p.filter(Ee=>X.includes(Ee.id))},ne=_e=>{const X=y.filter(Ee=>Ee.skill_id===_e);return X.sort((Ee,Oe)=>Ee.display_order-Oe.display_order),X},ie=_e=>{var X;return((X=_.find(Ee=>Ee.skill_id===_e))==null?void 0:X.self_rating)||null},K=()=>u[r],W=()=>{const _e=K();if(!_e)return!1;const X=v[_e.id]||[];return X.length===0?!1:X.every(Ee=>_.some(Oe=>Oe.skill_id===Ee&&Oe.self_rating!==null))},q=()=>u.every(_e=>{const X=v[_e.id]||[];return X.length===0?!1:X.every(Ee=>_.some(Oe=>Oe.skill_id===Ee&&Oe.self_rating!==null))}),k=()=>{const _e=new Set;return u.forEach(X=>{(v[X.id]||[]).forEach(Oe=>_e.add(Oe))}),_e.size},I=()=>{const _e=new Set;return u.forEach(X=>{(v[X.id]||[]).forEach(Oe=>_e.add(Oe))}),_.filter(X=>X.self_rating!==null&&_e.has(X.skill_id)).length},M=()=>{const _e=k(),X=I();return _e>0?Math.round(X/_e*100):0},U=()=>{r<u.length-1&&(n(r+1),setTimeout(()=>window.scrollTo({top:0,behavior:"instant"}),0))},R=()=>{r>0&&(n(r-1),setTimeout(()=>window.scrollTo({top:0,behavior:"instant"}),0))},G=_e=>{n(_e),setTimeout(()=>window.scrollTo({top:0,behavior:"instant"}),0)},te=_e=>{const X=v[_e]||[];return X.length===0?!1:X.every(Ee=>_.some(Oe=>Oe.skill_id===Ee&&Oe.self_rating!==null))},V=()=>{t("assessing"),n(0)};if(F)return f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-slate-100 flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx(ob,{className:"w-12 h-12 text-blue-600 animate-spin mx-auto mb-4"}),f.jsx("p",{className:"text-slate-600",children:"Loading your assessment..."})]})});if(L||s===!1)return f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-slate-100 flex items-center justify-center p-4",children:f.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 max-w-md w-full text-center",children:[f.jsx(ux,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),f.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Assessment Unavailable"}),f.jsx("p",{className:"text-slate-600 mb-4",children:L||"This assessment link is invalid or has expired."}),f.jsx("p",{className:"text-sm text-slate-500",children:"Please contact your manager for a new assessment link."})]})});if(e==="success")return f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-slate-100 flex items-center justify-center p-4",children:f.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 max-w-2xl w-full text-center",children:[f.jsx(jo,{className:"w-20 h-20 text-green-500 mx-auto mb-6"}),f.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-4",children:"Assessment Submitted!"}),f.jsxs("p",{className:"text-lg text-slate-600 mb-6",children:["Thank you for completing your self-assessment, ",l==null?void 0:l.full_name,"."]}),f.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 text-left",children:[f.jsx("p",{className:"text-slate-700 mb-3",children:"Your responses have been saved successfully. Kristy will compare your ratings with her own assessment during your upcoming 1:1 meeting."}),f.jsx("p",{className:"text-slate-700",children:"This will be a great opportunity to discuss your development, identify growth areas, and align on your career progression."})]})]})});if(e==="welcome")return f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-slate-100 flex items-center justify-center p-4",children:f.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-12 max-w-3xl w-full text-center",children:[f.jsxs("div",{className:"mb-8",children:[f.jsx(fx,{className:"w-24 h-24 text-blue-600 mx-auto mb-6"}),f.jsx("h1",{className:"text-4xl font-bold text-slate-900 mb-4",children:"Welcome to Your Self-Assessment"}),f.jsxs("p",{className:"text-xl text-slate-600 mb-2",children:["Hi ",l==null?void 0:l.full_name,"!"]})]}),f.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-6 mb-8 text-left",children:[f.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-4",children:"What to expect:"}),f.jsxs("ul",{className:"space-y-3 text-slate-700",children:[f.jsxs("li",{className:"flex items-start gap-3",children:[f.jsx(jo,{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0"}),f.jsxs("span",{children:["You'll rate yourself on ",k()," skills across ",u.length," categories"]})]}),f.jsxs("li",{className:"flex items-start gap-3",children:[f.jsx(jo,{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0"}),f.jsx("span",{children:"Each category will be presented one at a time"})]}),f.jsxs("li",{className:"flex items-start gap-3",children:[f.jsx(jo,{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0"}),f.jsx("span",{children:"Be honest in your self-assessment - this helps guide your development"})]}),f.jsxs("li",{className:"flex items-start gap-3",children:[f.jsx(jo,{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0"}),f.jsx("span",{children:"Kristy will compare your ratings with hers in your upcoming 1:1"})]})]})]}),f.jsxs("button",{onClick:V,className:"flex items-center justify-center gap-3 px-8 py-4 bg-blue-600 text-white text-lg font-semibold rounded-lg hover:bg-blue-700 transition shadow-lg hover:shadow-xl mx-auto",children:["Get Started",f.jsx(LO,{className:"w-6 h-6"})]})]})});const Y=K(),oe=r===u.length-1,ve=W(),Ne=q();return f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-slate-100 py-8",children:f.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[f.jsxs("div",{className:"mb-6 space-y-4",children:[f.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[f.jsx("h2",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Categories"}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-2",children:u.map((_e,X)=>{const Ee=te(_e.id),Oe=X===r;return f.jsxs("button",{onClick:()=>G(X),className:`flex items-center gap-2 px-3 py-2 rounded-lg text-left text-sm transition ${Oe?"bg-blue-600 text-white shadow-sm":Ee?"bg-green-50 text-green-700 border border-green-200 hover:bg-green-100":"bg-slate-50 text-slate-700 border border-slate-200 hover:bg-slate-100"}`,children:[Ee?f.jsx(jo,{className:"w-4 h-4 flex-shrink-0"}):f.jsx(DO,{className:"w-4 h-4 flex-shrink-0"}),f.jsx("span",{className:"truncate",children:_e.name})]},_e.id)})})]}),f.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsxs("span",{className:"text-sm font-medium text-slate-700",children:["Category ",r+1," of ",u.length]}),f.jsxs("span",{className:"text-sm font-medium text-slate-700",children:[I()," of ",k()," skills rated"]})]}),f.jsx("div",{className:"w-full bg-slate-200 rounded-full h-3 overflow-hidden",children:f.jsx("div",{className:"bg-blue-600 h-3 rounded-full transition-all duration-500",style:{width:`${M()}%`}})})]})]}),f.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[f.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 p-8 text-white",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[f.jsx(Eu,{className:"w-8 h-8"}),f.jsx("h1",{className:"text-3xl font-bold",children:Y==null?void 0:Y.name})]}),f.jsx("p",{className:"text-blue-50 text-lg",children:Y==null?void 0:Y.description})]}),f.jsx("div",{className:"p-8",children:Y&&Q(Y.id).map((_e,X)=>{const Ee=ne(_e.id),Oe=ie(_e.id);return f.jsxs("div",{className:"mb-8 pb-8 border-b border-slate-200 last:border-0 last:pb-0",children:[f.jsx("div",{className:"mb-4",children:f.jsxs("div",{className:"flex items-start gap-3 mb-2",children:[f.jsx("span",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-blue-100 text-blue-600 font-semibold flex-shrink-0",children:X+1}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:_e.name}),_e.description&&f.jsx("p",{className:"text-slate-600 mt-1",children:_e.description})]})]})}),f.jsx("div",{className:"space-y-3 ml-11",children:Ee.map(be=>f.jsxs("label",{className:`flex items-start gap-4 p-4 border-2 rounded-lg cursor-pointer transition ${Oe===be.level_id?"border-blue-600 bg-blue-50 shadow-sm":"border-slate-200 hover:border-slate-300 hover:bg-slate-50"}`,children:[f.jsx("input",{type:"radio",name:`skill-${_e.id}`,value:be.level_id,checked:Oe===be.level_id,onChange:()=>B(_e.id,be.level_id),className:"mt-1 w-5 h-5 text-blue-600"}),f.jsxs("div",{className:"flex-1",children:[f.jsx("div",{className:"font-semibold text-slate-900 mb-1",children:be.level_name}),f.jsx("div",{className:"text-slate-600",children:be.description})]})]},be.id))})]},_e.id)})}),f.jsx("div",{className:"border-t border-slate-200 bg-slate-50 p-6",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[r>0&&f.jsxs("button",{onClick:R,className:"flex items-center gap-2 px-4 py-2 bg-slate-200 text-slate-700 rounded-lg hover:bg-slate-300 transition font-semibold",children:[f.jsx(MN,{className:"w-5 h-5"}),"Back"]}),f.jsxs("div",{children:[!ve&&f.jsx("p",{className:"text-sm text-amber-600 font-medium",children:"Please rate all skills in this category"}),ve&&!Ne&&f.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Category complete!"}),Ne&&f.jsx("p",{className:"text-sm text-green-600 font-medium",children:"All skills rated! Ready to submit"})]})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[!oe&&f.jsxs("button",{onClick:U,disabled:!ve,className:"flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition disabled:opacity-50 disabled:cursor-not-allowed font-semibold",children:["Next",f.jsx(BN,{className:"w-5 h-5"})]}),Ne&&f.jsx("button",{onClick:z,disabled:O,className:"flex items-center gap-2 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition disabled:opacity-50 disabled:cursor-not-allowed font-semibold",children:O?f.jsxs(f.Fragment,{children:[f.jsx(ob,{className:"w-5 h-5 animate-spin"}),"Submitting..."]}):f.jsxs(f.Fragment,{children:[f.jsx(jo,{className:"w-5 h-5"}),"Submit Assessment"]})})]})]})})]}),f.jsx("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:f.jsx("p",{className:"text-sm text-slate-700 text-center",children:"Your responses will be compared with Kristy's assessment in your upcoming 1:1 meeting"})})]})})}function rK(){const{user:e,signOut:t}=Ga(),[r,n]=ye.useState(null),[i,a]=ye.useState([]),[s,o]=ye.useState([]),[l,c]=ye.useState([]),[u,d]=ye.useState(!0),[p,h]=ye.useState("overview");ye.useEffect(()=>{e&&y()},[e]);const y=async()=>{d(!0);const{data:m,error:x}=await qe.from("team_members").select("*").eq("user_id",e==null?void 0:e.id).maybeSingle();if(x){console.error("Error fetching team member:",x),d(!1);return}if(!m){d(!1);return}n(m);const{data:g}=await qe.from("performance_reviews").select("*").eq("team_member_id",m.id).order("review_date",{ascending:!1}).limit(5);g&&a(g);const{data:v}=await qe.from("one_on_ones").select("*").eq("team_member_id",m.id).order("meeting_date",{ascending:!1}).limit(5);v&&o(v);const{data:b}=await qe.from("kras").select("*").eq("team_member_id",m.id).order("year",{ascending:!1});b&&c(b),d(!1)};return u?f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):r?f.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[f.jsx("header",{className:"bg-white border-b border-slate-200 sticky top-0 z-10",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"flex justify-between items-center py-4",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[r.avatar_url?f.jsx("img",{src:r.avatar_url,alt:r.full_name,className:"w-12 h-12 rounded-full object-cover"}):f.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center",children:f.jsx(Dv,{className:"w-6 h-6 text-white"})}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-xl font-bold text-slate-900",children:r.full_name}),f.jsx("p",{className:"text-sm text-slate-600",children:r.role})]})]}),f.jsxs("button",{onClick:()=>t(),className:"flex items-center gap-2 px-4 py-2 text-slate-700 hover:bg-slate-100 rounded-lg transition",children:[f.jsx(Rv,{className:"w-4 h-4"}),"Sign Out"]})]})})}),f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:f.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 mb-6",children:[f.jsx("div",{className:"border-b border-slate-200",children:f.jsxs("nav",{className:"flex gap-4 px-6",children:[f.jsx("button",{onClick:()=>h("overview"),className:`py-4 px-2 border-b-2 font-medium transition ${p==="overview"?"border-blue-600 text-blue-600":"border-transparent text-slate-600 hover:text-slate-900"}`,children:"Overview"}),f.jsx("button",{onClick:()=>h("maturity"),className:`py-4 px-2 border-b-2 font-medium transition ${p==="maturity"?"border-blue-600 text-blue-600":"border-transparent text-slate-600 hover:text-slate-900"}`,children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(fx,{className:"w-4 h-4"}),"Maturity Model"]})}),f.jsx("button",{onClick:()=>h("growth"),className:`py-4 px-2 border-b-2 font-medium transition ${p==="growth"?"border-blue-600 text-blue-600":"border-transparent text-slate-600 hover:text-slate-900"}`,children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Eu,{className:"w-4 h-4"}),"Growth Areas"]})}),f.jsx("button",{onClick:()=>h("preferences"),className:`py-4 px-2 border-b-2 font-medium transition ${p==="preferences"?"border-blue-600 text-blue-600":"border-transparent text-slate-600 hover:text-slate-900"}`,children:"Preferences"})]})}),f.jsxs("div",{className:"p-6",children:[p==="overview"&&f.jsxs("div",{className:"space-y-6",children:[f.jsxs("section",{children:[f.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-4",children:"Recent Check-Ins"}),i.length===0?f.jsx("p",{className:"text-slate-500",children:"No check-ins yet"}):f.jsx("div",{className:"space-y-3",children:i.map(m=>f.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg border border-slate-200",children:[f.jsxs("div",{className:"flex justify-between items-start mb-2",children:[f.jsxs("div",{children:[f.jsx("span",{className:"font-medium text-slate-900",children:m.type}),f.jsx("span",{className:"ml-2 text-sm text-slate-600",children:new Date(m.review_date).toLocaleDateString()})]}),f.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${m.status==="completed"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:m.status})]}),m.strengths&&f.jsxs("p",{className:"text-sm text-slate-600 mb-1",children:[f.jsx("strong",{children:"Strengths:"})," ",m.strengths]}),m.areas_for_improvement&&f.jsxs("p",{className:"text-sm text-slate-600",children:[f.jsx("strong",{children:"Areas for Improvement:"})," ",m.areas_for_improvement]})]},m.id))})]}),f.jsxs("section",{children:[f.jsxs("h2",{className:"text-xl font-semibold text-slate-900 mb-4 flex items-center gap-2",children:[f.jsx(Lh,{className:"w-5 h-5"}),"Recent One-on-Ones"]}),s.length===0?f.jsx("p",{className:"text-slate-500",children:"No one-on-ones yet"}):f.jsx("div",{className:"space-y-3",children:s.map(m=>f.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg border border-slate-200",children:[f.jsxs("div",{className:"flex justify-between items-start mb-2",children:[f.jsx("span",{className:"font-medium text-slate-900",children:new Date(m.meeting_date).toLocaleDateString()}),f.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${m.status==="completed"?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"}`,children:m.status})]}),m.notes&&f.jsx("p",{className:"text-sm text-slate-600",children:m.notes})]},m.id))})]}),f.jsxs("section",{children:[f.jsxs("h2",{className:"text-xl font-semibold text-slate-900 mb-4 flex items-center gap-2",children:[f.jsx(Eu,{className:"w-5 h-5"}),"Key Result Areas (KRAs)"]}),l.length===0?f.jsx("p",{className:"text-slate-500",children:"No KRAs yet"}):f.jsx("div",{className:"space-y-3",children:l.map(m=>f.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg border border-slate-200",children:[f.jsxs("div",{className:"font-medium text-slate-900 mb-2",children:["Year ",m.year]}),f.jsxs("p",{className:"text-sm text-slate-600",children:["Created ",new Date(m.created_at).toLocaleDateString()]})]},m.id))})]})]}),p==="maturity"&&f.jsx($6,{teamMemberId:r.id,readOnly:!0}),p==="growth"&&f.jsx(Jk,{teamMemberId:r.id,readOnly:!0}),p==="preferences"&&f.jsx(Yx,{teamMemberId:r.id})]})]})})]}):f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center p-4",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md text-center",children:[f.jsx(Dv,{className:"w-16 h-16 text-slate-400 mx-auto mb-4"}),f.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Account Not Linked"}),f.jsx("p",{className:"text-slate-600 mb-6",children:"Your account is not linked to a team member profile. Please contact your manager to link your account."}),f.jsx("button",{onClick:()=>t(),className:"px-6 py-2 bg-slate-600 text-white rounded-lg hover:bg-slate-700 transition",children:"Sign Out"})]})})}function nK(){const{user:e,loading:t}=Ga(),[r,n]=ye.useState("dashboard"),[i,a]=ye.useState(null),[s,o]=ye.useState(!1),[l,c]=ye.useState(null),[u,d]=ye.useState(!0);ye.useEffect(()=>{const g=new URLSearchParams(window.location.search).has("token");o(g)},[]),ye.useEffect(()=>{e&&p()},[e]);const p=async()=>{d(!0);const{data:x}=await qe.from("team_members").select("id").eq("user_id",e==null?void 0:e.id).maybeSingle();if(x){c("team_member"),d(!1);return}const{data:g}=await qe.from("team_members").select("id").eq("manager_id",e==null?void 0:e.id).limit(1).maybeSingle();c("manager"),d(!1)};if(s)return f.jsx(tK,{});if(t||u)return f.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});if(!e)return f.jsx(t7,{});if(l==="team_member")return f.jsx(rK,{});const h=x=>{a(x),n("member-detail")},y=()=>{a(null),n("dashboard")},m=()=>{switch(r){case"dashboard":return f.jsx(Zm,{onSelectMember:h,onNavigate:n});case"member-detail":return i?f.jsx(GG,{memberId:i,onBack:y}):f.jsx(Zm,{onSelectMember:h,onNavigate:n});case"one-on-ones":return f.jsx(U6,{openFormInitially:!0});case"check-ins":return f.jsx(q6,{openFormInitially:!0});case"admin":return f.jsx(eK,{});default:return f.jsx(Zm,{onSelectMember:h,onNavigate:n})}};return f.jsx(r7,{currentView:r,onViewChange:n,children:m()})}function iK(){return f.jsx(TO,{children:f.jsx(nK,{})})}hN(document.getElementById("root")).render(f.jsx(ye.StrictMode,{children:f.jsx(iK,{})}));export{dr as _,Cr as c,ME as g};
